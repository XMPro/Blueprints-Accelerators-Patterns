(()=>{var e,t,r,n,i={74:(e,t,r)=>{"use strict";const n=r(1104),i=Object.freeze(new n.ImmutableMap);class o{constructor(e,t){if(!Array.isArray(e))throw new TypeError("items must be an Array instance");this._items=e,this.attributes=t||i,this.length=e.length}[Symbol.iterator](){return this._items[Symbol.iterator]()}toArray(){return this._items}first(){const e=this._items[0];return void 0!==e?e:null}}e.exports=o},163:(e,t,r)=>{"use strict";const n=r(5332),{TraversalStrategies:i}=r(3335);class o{constructor(e,t){this.id=e,this.label=t}equals(e){return e instanceof o&&this.id===e.id}}class a{constructor(e,t){this.key=e,this.value=t}toString(){return`p[${this.key}->${l(this.value)}]`}equals(e){return e instanceof a&&this.key===e.key&&this.value===e.value}}class s{constructor(e,t){this.labels=e,this.objects=t}toString(){return`path[${(this.objects||[]).join(", ")}]`}equals(e){return e instanceof s&&(e===this||c(this.objects,e.objects)&&c(this.labels,e.labels))}}function c(e,t){if(e===t)return!0;if("function"==typeof e.equals)return e.equals(t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!c(e[r],t[r]))return!1;return!0}return!1}function l(e){if(null==e)return e;const t=e.toString();return t.length>20?t.substr(0,20):t}e.exports={Edge:class extends o{constructor(e,t,r,n,i){if(super(e,r),this.outV=t,this.inV=n,this.properties={},i){const e=Object.keys(i);for(let t=0;t<e.length;t++){const r=e[t];this.properties[r]=i[r].value}}}toString(){const e=this.outV?this.outV.id:"?",t=this.inV?this.inV.id:"?";return`e[${this.id}][${e}-${this.label}->${t}]`}},Graph:class{traversal(e){return new(e||n.GraphTraversalSource)(this,new i)}toString(){return"graph[]"}},Path:s,Property:a,Vertex:class extends o{constructor(e,t,r){super(e,t),this.properties=r}toString(){return`v[${this.id}]`}},VertexProperty:class extends o{constructor(e,t,r,n){super(e,t),this.value=r,this.key=this.label,this.properties=n}toString(){return`vp[${this.label}->${l(this.value)}]`}}}},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,o),!0;case 6:return u.fn.call(u.context,t,n,i,o,a),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var p,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,i);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||i&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},243:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.VERTEX]=this}canBeUsedFor(e){return e instanceof i.Vertex}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.VERTEX,1]);const e=[3,0,0,0,0,0],r=[0,0,0,0],i=[254,1];return n.from([...e,...r,...i])}const r=[];return t&&r.push(n.from([this.ioc.DataType.VERTEX,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1)),r.push(this.ioc.anySerializer.serialize(e.properties)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.VERTEX)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u,d;try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.stringSerializer.deserialize(o,!1)),r+=l}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(l);try{({v:u,len:d}=this.ioc.anySerializer.deserialize(o)),r+=d}catch(e){throw e.message="{properties}: "+e.message,e}o=o.slice(d);const p=u||[];return{v:new i.Vertex(a,c,p),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},251:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,l=c>>1,u=-7,d=r?i-1:0,p=r?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),o-=l}return(f?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+f]=255&a,f+=h,a/=256,l-=8);e[r+f-h]|=128*m}},277:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:d,ObjectPrototypeHasOwnProperty:p,RegExpPrototypeExec:f,String:h,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=r(4134),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:E}}=r(6371),{normalizeEncoding:S}=r(7760),{isAsyncFunction:T,isArrayBufferView:I}=r(7760).types,A={};const O=/^[0-7]+$/;const R=g((e,t,r=u,n=l)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)}),P=g((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)}),x=g((e,t,r=!1)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!s(e))throw new _(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new _(t,`>= ${n} && <= ${i}`,e)});function N(e,t){if("string"!=typeof e)throw new b(t,"string",e)}const k=g((e,t,r)=>{if(!i(r,e)){const n=o(a(r,e=>"string"==typeof e?`'${e}'`:h(e)),", ");throw new w(t,e,"must be one of: "+n)}});function L(e,t){if("boolean"!=typeof e)throw new b(t,"boolean",e)}function C(e,t,r){return null!=e&&p(e,t)?e[t]:r}const D=g((e,t,r=null)=>{const i=C(r,"allowArray",!1),o=C(r,"allowFunction",!1);if(!C(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new b(t,"Object",e)}),j=g((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new b(t,"a dictionary",e)}),z=g((e,t,r=0)=>{if(!n(e))throw new b(t,"Array",e);if(e.length<r){throw new w(t,e,`must be longer than ${r}`)}});const U=g((e,t="buffer")=>{if(!I(e))throw new b(t,["Buffer","TypedArray","DataView"],e)});const M=g((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new b(t,"AbortSignal",e)}),B=g((e,t)=>{if("function"!=typeof e)throw new b(t,"Function",e)}),$=g((e,t)=>{if("function"!=typeof e||T(e))throw new b(t,"Function",e)}),V=g((e,t)=>{if(void 0!==e)throw new b(t,"undefined",e)});const F=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function H(e,t){if(void 0===e||!f(F,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===f(O,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return x(e,t),e},validateArray:z,validateStringArray:function(e,t){z(e,t);for(let r=0;r<e.length;r++)N(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){z(e,t);for(let r=0;r<e.length;r++)L(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){z(e,t);for(let r=0;r<e.length;r++){const n=e[r],i=`${t}[${r}]`;if(null==n)throw new b(i,"AbortSignal",n);M(n,i)}},validateBoolean:L,validateBuffer:U,validateDictionary:j,validateEncoding:function(e,t){const r=S(t),n=e.length;if("hex"===r&&n%2!=0)throw new w("encoding",t,`is invalid for data of length ${n}`)},validateFunction:B,validateInt32:P,validateInteger:R,validateNumber:function(e,t,r=void 0,n){if("number"!=typeof e)throw new b(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&c(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:D,validateOneOf:k,validatePlainFunction:$,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===y(e).length||+e!==+e>>>0||e>65535||0===e&&!r)throw new v(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(N(e,t),void 0===A[e]){if(void 0!==A[m(e)])throw new E(e+" (signals must use all capital letters)");throw new E(e)}},validateString:N,validateUint32:x,validateUndefined:V,validateUnion:function(e,t,r){if(!i(r,e))throw new b(t,`('${o(r,"|")}')`,e)},validateAbortSignal:M,validateLinkHeaderValue:function(e){if("string"==typeof e)return H(e,"hints"),e;if(n(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const i=e[n];H(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},345:(e,t,r)=>{"use strict";const{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:a}=r(4134),{Buffer:s}=r(8287),{inspect:c}=r(7760);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);const t=s.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{const o=r.data;if(!(e>o.length)){e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}t+=o,e-=o.length,++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){const t=s.allocUnsafe(e),r=e;let n=this.head,i=0;do{const s=n.data;if(!(e>s.length)){e===s.length?(o(t,s,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new a(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}o(t,s,r-e),e-=s.length,++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},474:(e,t,r)=>{"use strict";const n=r(1545),i=r(3335),o=r(9032),a=r(163),s=r(1104),c="@value",l="@type";class u{serialize(){throw new Error("serialize() method not implemented for "+this.constructor.name)}deserialize(){throw new Error("deserialize() method not implemented for "+this.constructor.name)}canBeUsedFor(){throw new Error("canBeUsedFor() method not implemented for "+this.constructor.name)}}class d extends u{constructor(e){super(),this.typeKey=e}deserialize(e){const t=e[c];if(!Array.isArray(t))throw new Error("Expected Array, obtained: "+t);return t.map(e=>this.reader.read(e))}serialize(e){return{[l]:this.typeKey,[c]:e.map(e=>this.writer.adaptObject(e))}}canBeUsedFor(e){return Array.isArray(e)}}e.exports={BulkSetSerializer:class extends u{deserialize(e){const t=e[c];if(!Array.isArray(t))throw new Error("Expected Array, obtained: "+t);let r=[];for(let e=0,n=t.length;e<n;e+=2){const n=t.slice(e,e+2);r=r.concat(Array(this.reader.read(n[1])).fill(this.reader.read(n[0])))}return r}},BytecodeSerializer:class extends u{serialize(e){let t=e;e instanceof n.Traversal&&(t=e.getBytecode());const r={};r[l]="g:Bytecode";const i=r[c]={},o=this._serializeInstructions(t.sourceInstructions);o&&(i.source=o);const a=this._serializeInstructions(t.stepInstructions);return a&&(i.step=a),r}_serializeInstructions(e){if(0===e.length)return null;const t=new Array(e.length);t[0]=e[0];for(let r=0;r<e.length;r++)t[r]=e[r].map(e=>this.writer.adaptObject(e));return t}canBeUsedFor(e){return e instanceof o||e instanceof n.Traversal}},DateSerializer:class extends u{serialize(e){return{[l]:"g:Date",[c]:e.getTime()}}deserialize(e){return new Date(e[c])}canBeUsedFor(e){return e instanceof Date}},DirectionSerializer:class extends u{deserialize(e){return n.direction[e[c].toLowerCase()]}},EdgeSerializer:class extends u{deserialize(e){const t=e[c];return new a.Edge(this.reader.read(t.id),new a.Vertex(this.reader.read(t.outV),this.reader.read(t.outVLabel)),t.label,new a.Vertex(this.reader.read(t.inV),this.reader.read(t.inVLabel)),this.reader.read(t.properties))}serialize(e){return{[l]:"g:Edge",[c]:{id:this.writer.adaptObject(e.id),label:e.label,outV:this.writer.adaptObject(e.outV.id),outVLabel:e.outV.label,inV:this.writer.adaptObject(e.inV.id),inVLabel:e.inV.label}}}canBeUsedFor(e){return e instanceof a.Edge}},EnumSerializer:class extends u{serialize(e){return{[l]:"g:"+e.typeName,[c]:e.elementName}}canBeUsedFor(e){return e&&e.typeName&&e instanceof n.EnumValue}},LambdaSerializer:class extends u{serialize(e){const t=e(),r="string"==typeof t,n=r?t:t[0],i=r?"gremlin-groovy":t[1],o="gremlin-groovy"===i&&n.includes("->")?n.substring(0,n.indexOf("->")).includes(",")?2:1:-1;return{[l]:"g:Lambda",[c]:{arguments:o,language:i,script:n}}}canBeUsedFor(e){return"function"==typeof e}},ListSerializer:class extends d{constructor(){super("g:List")}},LongSerializer:class extends u{serialize(e){return{[l]:"g:Int64",[c]:e.value}}canBeUsedFor(e){return e instanceof s.Long}},MapSerializer:class extends u{deserialize(e){const t=e[c];if(!Array.isArray(t))throw new Error("Expected Array, obtained: "+t);const r=new Map;for(let e=0;e<t.length;e+=2)r.set(this.reader.read(t[e]),this.reader.read(t[e+1]));return r}serialize(e){const t=[];return e.forEach((e,r)=>{t.push(this.writer.adaptObject(r)),t.push(this.writer.adaptObject(e))}),{[l]:"g:Map",[c]:t}}canBeUsedFor(e){return e instanceof Map}},NumberSerializer:class extends u{serialize(e){return isNaN(e)?{[l]:"g:Double",[c]:"NaN"}:e===Number.POSITIVE_INFINITY?{[l]:"g:Double",[c]:"Infinity"}:e===Number.NEGATIVE_INFINITY?{[l]:"g:Double",[c]:"-Infinity"}:e}deserialize(e){const t=e[c];return"NaN"===t?NaN:"Infinity"===t?Number.POSITIVE_INFINITY:"-Infinity"===t?Number.NEGATIVE_INFINITY:parseFloat(t)}canBeUsedFor(e){return"number"==typeof e}},Path3Serializer:class extends u{deserialize(e){const t=e[c];return new a.Path(this.reader.read(t.labels),this.reader.read(t.objects))}},PathSerializer:class extends u{deserialize(e){const t=e[c],r=t.objects.map(e=>this.reader.read(e));return new a.Path(this.reader.read(t.labels),r)}},PropertySerializer:class extends u{deserialize(e){const t=e[c];return new a.Property(t.key,this.reader.read(t.value))}},PSerializer:class extends u{serialize(e){const t={};t[l]="g:P";const r=t[c]={predicate:e.operator};return void 0===e.other||null===e.other?r.value=this.writer.adaptObject(e.value):r.value=[this.writer.adaptObject(e.value),this.writer.adaptObject(e.other)],t}canBeUsedFor(e){return e instanceof n.P}},TextPSerializer:class extends u{serialize(e){const t={};t[l]="g:TextP";const r=t[c]={predicate:e.operator};return void 0===e.other||null===e.other?r.value=this.writer.adaptObject(e.value):r.value=[this.writer.adaptObject(e.value),this.writer.adaptObject(e.other)],t}canBeUsedFor(e){return e instanceof n.TextP}},SetSerializer:class extends d{constructor(){super("g:Set")}},TSerializer:class extends u{deserialize(e){return n.t[e[c]]}},TraverserSerializer:class extends u{serialize(e){return{[l]:"g:Traverser",[c]:{value:this.writer.adaptObject(e.object),bulk:this.writer.adaptObject(e.bulk)}}}deserialize(e){const t=e[c];return new n.Traverser(this.reader.read(t.value),this.reader.read(t.bulk))}canBeUsedFor(e){return e instanceof n.Traverser}},TraversalStrategySerializer:class extends u{serialize(e){const t={};for(const r in e.configuration)e.configuration.hasOwnProperty(r)&&(t[r]=this.writer.adaptObject(e.configuration[r]));return{[l]:"g:"+e.constructor.name,[c]:t}}canBeUsedFor(e){return e instanceof i.TraversalStrategy}},typeKey:l,valueKey:c,VertexPropertySerializer:class extends u{deserialize(e){const t=e[c];return new a.VertexProperty(this.reader.read(t.id),t.label,this.reader.read(t.value),this.reader.read(t.properties))}},VertexSerializer:class extends u{deserialize(e){const t=e[c];return new a.Vertex(this.reader.read(t.id),t.label,this.reader.read(t.properties))}serialize(e){return{[l]:"g:Vertex",[c]:{id:this.writer.adaptObject(e.id),label:e.label}}}canBeUsedFor(e){return e instanceof a.Vertex}}}},703:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.SHORT]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.SHORT,1]):n.from([0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.SHORT,0]));const i=n.alloc(2);return i.writeInt16BE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.SHORT)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<2)throw new Error("unexpected {value} length");r+=2;return{v:i.readInt16BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},795:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTE]=this}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BYTE,1]):n.from([0]);const r=[];t&&r.push(n.from([this.ioc.DataType.BYTE,0]));const i=n.alloc(1);return i.writeUInt8(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BYTE)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<1)throw new Error("unexpected {value} length");r+=1;return{v:i.readUInt8(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},823:(e,t,r)=>{"use strict";const n=globalThis.AbortController||r(5568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:c}=r(6371),{validateAbortSignal:l,validateInteger:u,validateObject:d}=r(277),p=r(4134).Symbol("kWeak"),f=r(4134).Symbol("kResistStopPropagation"),{finished:h}=r(6238),m=r(7830),{addAbortSignalNoValidate:y}=r(4147),{isWritable:g,isNodeStream:v}=r(6115),{deprecate:b}=r(7760),{ArrayPrototypePush:w,Boolean:_,MathFloor:E,Number:S,NumberIsNaN:T,Promise:I,PromiseReject:A,PromiseResolve:O,PromisePrototypeThen:R,Symbol:P}=r(4134),x=P("kEmpty"),N=P("kEof");function k(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal");let n=1;null!=(null==t?void 0:t.concurrency)&&(n=E(t.concurrency));let i=n-1;return null!=(null==t?void 0:t.highWaterMark)&&(i=E(t.highWaterMark)),u(n,"options.concurrency",1),u(i,"options.highWaterMark",0),i+=n,async function*(){const o=r(7760).AbortSignalAny([null==t?void 0:t.signal].filter(_)),a=this,s=[],l={signal:o};let u,d,p=!1,f=0;function h(){p=!0,m()}function m(){f-=1,y()}function y(){d&&!p&&f<n&&s.length<i&&(d(),d=null)}!async function(){try{for await(let t of a){if(p)return;if(o.aborted)throw new c;try{if(t=e(t,l),t===x)continue;t=O(t)}catch(e){t=A(e)}f+=1,R(t,m,h),s.push(t),u&&(u(),u=null),!p&&(s.length>=i||f>=n)&&await new I(e=>{d=e})}s.push(N)}catch(e){const t=A(e);R(t,m,h),s.push(t)}finally{p=!0,u&&(u(),u=null)}}();try{for(;;){for(;s.length>0;){const e=await s[0];if(e===N)return;if(o.aborted)throw new c;e!==x&&(yield e),s.shift(),y()}await new I(e=>{u=e})}}finally{p=!0,d&&(d(),d=null)}}.call(this)}async function L(e,t=void 0){for await(const r of C.call(this,e,t))return!0;return!1}function C(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return k.call(this,async function(t,r){return await e(t,r)?t:x},t)}class D extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function j(e){if(e=S(e),T(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:b(function(e=void 0){return null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c({cause:e.signal.reason});yield[t++,n]}}.call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;e--<=0&&(yield r)}}.call(this)},filter:C,flatMap:function(e,t){const r=k.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:k,take:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;if(e-- >0&&(yield r),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),v(e)&&!g(e))throw new i("stream",e,"must be writable");const r=m(this,e);return null!=t&&t.signal&&y(t.signal,r),r}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await L.call(this,async(...t)=>!await e(...t),t)},forEach:async function(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);for await(const r of k.call(this,async function(t,r){return await e(t,r),x},t));},reduce:async function(e,t,r){var i;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&d(r,"options"),null!=(null==r?void 0:r.signal)&&l(r.signal,"options.signal");let a=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){const e=new c(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(e)),e}const s=new n,u=s.signal;if(null!=r&&r.signal){const e={once:!0,[p]:this,[f]:!0};r.signal.addEventListener("abort",()=>s.abort(),e)}let m=!1;try{for await(const n of this){var y;if(m=!0,null!=r&&null!==(y=r.signal)&&void 0!==y&&y.aborted)throw new c;a?t=await e(t,n,{signal:u}):(t=n,a=!0)}if(!m&&!a)throw new D}finally{s.abort()}return t},toArray:async function(e){null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c(void 0,{cause:e.signal.reason});w(t,n)}return t},some:L,find:async function(e,t){for await(const r of C.call(this,e,t))return r}}},834:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(9032),o=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTECODE]=this}canBeUsedFor(e){return e instanceof i||e instanceof o.Traversal}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.BYTECODE,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}e instanceof o.Traversal&&(e=e.getBytecode());const r=[];t&&r.push(n.from([this.ioc.DataType.BYTECODE,0])),r.push(this.ioc.intSerializer.serialize(e.stepInstructions.length,!1));for(let t=0;t<e.stepInstructions.length;t++){const n=e.stepInstructions[t],i=n[0],o=n.length-1;r.push(this.ioc.stringSerializer.serialize(i,!1)),r.push(this.ioc.intSerializer.serialize(o,!1));for(let e=0;e<o;e++)r.push(this.ioc.anySerializer.serialize(n[1+e],!0))}r.push(this.ioc.intSerializer.serialize(e.sourceInstructions.length,!1));for(let t=0;t<e.sourceInstructions.length;t++){const n=e.sourceInstructions[t],i=n[0],o=n.length-1;r.push(this.ioc.stringSerializer.serialize(i,!1)),r.push(this.ioc.intSerializer.serialize(o,!1));for(let e=0;e<o;e++)r.push(this.ioc.anySerializer.serialize(n[1+e],!0))}return n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.BYTECODE)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}const a=new i;let s,c,l,u;try{({v:s,len:c}=this.ioc.intSerializer.deserialize(o,!1)),r+=c}catch(e){throw e.message="{steps_length}: "+e.message,e}if(s<0)throw new Error("{steps_length} is less than zero");o=o.slice(c);for(let e=0;e<s;e++){let t,n,i,s;try{({v:t,len:n}=this.ioc.stringSerializer.deserialize(o,!1)),r+=n}catch(t){throw t.message=`{step_${e}} {name}: `+t.message,t}o=o.slice(n);try{({v:i,len:s}=this.ioc.intSerializer.deserialize(o,!1)),r+=s}catch(t){throw t.message=`{step_${e}} {values_length}: `+t.message,t}if(i<0)throw new Error(`{step_${e}} {values_length} is less than zero`);o=o.slice(s);const c=[];let l,u;for(let t=0;t<i;t++){try{({v:l,len:u}=this.ioc.anySerializer.deserialize(o)),r+=u,c.push(l)}catch(r){throw r.message=`{step_${e}} {value_${t}}: `+r.message,r}o=o.slice(u)}a.addStep(t,c)}try{({v:l,len:u}=this.ioc.intSerializer.deserialize(o,!1)),r+=u}catch(e){throw e.message="{sources_length}: "+e.message,e}if(l<0)throw new Error("{sources_length} is less than zero");o=o.slice(u);for(let e=0;e<l;e++){let t,n,i,s;try{({v:t,len:n}=this.ioc.stringSerializer.deserialize(o,!1)),r+=n}catch(t){throw t.message=`{source_${e}} {name}: `+t.message,t}o=o.slice(n);try{({v:i,len:s}=this.ioc.intSerializer.deserialize(o,!1)),r+=s}catch(t){throw t.message=`{source_${e}} {values_length}: `+t.message,t}if(i<0)throw new Error(`{source_${e}} {values_length} is less than zero`);o=o.slice(s);const c=[];let l,u;for(let t=0;t<i;t++){try{({v:l,len:u}=this.ioc.anySerializer.deserialize(o)),r+=u,c.push(l)}catch(r){throw r.message=`{source_${e}} {value_${t}}: `+r.message,r}o=o.slice(u)}a.addSource(t,c)}return{v:a,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},1019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n,i={exports:{}},o=i.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,u=[],d=!1,p=-1;function f(){d&&l&&(d=!1,l.length?u=l.concat(u):p=-1,u.length&&h())}function h(){if(!d){var e=c(f);d=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||d||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0};var v=i.exports.browser,b=g,w=i.exports.binding,_=g,E={},S=g,T=g,I=g,A=g,O=g,R="browser",P="browser",x="browser",N=[],k={nextTick:i.exports.nextTick,title:i.exports.title,browser:v,env:i.exports.env,argv:i.exports.argv,version:i.exports.version,versions:i.exports.versions,on:i.exports.on,addListener:i.exports.addListener,once:i.exports.once,off:i.exports.off,removeListener:i.exports.removeListener,removeAllListeners:i.exports.removeAllListeners,emit:i.exports.emit,emitWarning:b,prependListener:i.exports.prependListener,prependOnceListener:i.exports.prependOnceListener,listeners:i.exports.listeners,binding:w,cwd:i.exports.cwd,chdir:i.exports.chdir,umask:i.exports.umask,exit:_,pid:1,features:E,kill:S,dlopen:T,uptime:I,memoryUsage:A,uvCounters:O,platform:R,arch:P,execPath:x,execArgv:N};t.addListener=i.exports.addListener,t.arch=P,t.argv=i.exports.argv,t.binding=w,t.browser=v,t.chdir=i.exports.chdir,t.cwd=i.exports.cwd,t.default=k,t.dlopen=T,t.emit=i.exports.emit,t.emitWarning=b,t.env=i.exports.env,t.execArgv=N,t.execPath=x,t.exit=_,t.features=E,t.kill=S,t.listeners=i.exports.listeners,t.memoryUsage=A,t.nextTick=i.exports.nextTick,t.off=i.exports.off,t.on=i.exports.on,t.once=i.exports.once,t.pid=1,t.platform=R,t.prependListener=i.exports.prependListener,t.prependOnceListener=i.exports.prependOnceListener,t.removeAllListeners=i.exports.removeAllListeners,t.removeListener=i.exports.removeListener,t.title=i.exports.title,t.umask=i.exports.umask,t.uptime=I,t.uvCounters=O,t.version=i.exports.version,t.versions=i.exports.versions,t=e.exports=k},1104:(e,t,r)=>{"use strict";var n=r(1019);const i=r(2831);t.toLong=function(e){return new o(e)};const o=t.Long=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("The value must be a string or a number");this.value=e.toString()};t.getUuid=function(){return i.v4()},t.emptyArray=Object.freeze([]);class a extends Map{constructor(e){super(e)}set(){return this}delete(){return!1}clear(){}}t.ImmutableMap=a,t.getUserAgentHeader=function(){return"User-Agent"},t.getUserAgent=async()=>"navigator"in globalThis?globalThis.navigator.userAgent:void 0!==n?.versions?.node?await async function(){const e=await r.e(72).then(r.t.bind(r,1072,19)),t=(n?.env.npm_package_name??"NotAvailable").replace("_"," ");let i,o,a,s;return i=o=a=s="NotAvailable",null!=n&&(n.version&&(i=n.version.replace(" ","_")),n.arch&&(s=n.arch.replace(" ","_"))),null!=e&&(o=e.platform().replace(" ","_"),a=e.release().replace(" ","_")),`${t} Gremlin-Javascript.3.7.4 ${i} ${o}.${a} ${s}`}():void 0;t.toArrayBuffer=e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);e.exports.DeferredPromise=()=>{let e=e=>{},t=e=>{};const r=new Promise((r,n)=>{e=r,t=n});return Object.assign(r,{resolve:e,reject:t})}},1352:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.DOUBLE]=this}canBeUsedFor(e){return"number"==typeof e&&!Number.isInteger(e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.DOUBLE,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.DOUBLE,0]));const i=n.alloc(8);return i.writeDoubleBE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.DOUBLE)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;return{v:i.readDoubleBE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},1421:(e,t,r)=>{"use strict";const n={};n.DataType=r(8653),n.utils=r(6980),n.serializers={},n.intSerializer=new(r(6580))(n),n.longSerializer=new(r(1743))(n),n.longSerializerNg=new(r(7092))(n),n.stringSerializer=new(r(2420))(n,n.DataType.STRING),n.dateSerializer=new(r(2285))(n,n.DataType.DATE),n.timestampSerializer=new(r(2285))(n,n.DataType.TIMESTAMP),n.classSerializer=new(r(2420))(n,n.DataType.CLASS),n.doubleSerializer=new(r(1352))(n),n.floatSerializer=new(r(9995))(n),n.listSerializer=new(r(7100))(n,n.DataType.LIST),n.mapSerializer=new(r(8095))(n),n.setSerializer=new(r(7100))(n,n.DataType.SET),n.uuidSerializer=new(r(4194))(n),n.edgeSerializer=new(r(2588))(n),n.pathSerializer=new(r(5094))(n),n.propertySerializer=new(r(3920))(n),n.vertexSerializer=new(r(243))(n),n.vertexPropertySerializer=new(r(6414))(n),n.bytecodeSerializer=new(r(834))(n),n.pSerializer=new(r(3933))(n),n.traverserSerializer=new(r(4253))(n),n.enumSerializer=new(r(8372))(n),n.lambdaSerializer=new(r(6078))(n),n.bigIntegerSerializer=new(r(4957))(n),n.byteSerializer=new(r(795))(n),n.byteBufferSerializer=new(r(7777))(n),n.shortSerializer=new(r(703))(n),n.booleanSerializer=new(r(3321))(n),n.textPSerializer=new(r(6348))(n),n.traversalStrategySerializer=new(r(9386))(n),n.bulkSetSerializer=new(r(7765))(n),n.unspecifiedNullSerializer=new(r(7135))(n),n.numberSerializationStrategy=new(r(4687))(n),n.anySerializer=new(r(5127))(n),n.graphBinaryReader=new(r(3203))(n),n.graphBinaryWriter=new(r(6579))(n),e.exports=n},1545:e=>{"use strict";const t=Object.freeze({value:null,done:!0}),r=Symbol.asyncIterator||Symbol("@@asyncIterator");class n{constructor(e,t,r){this.operator=e,this.value=t,this.other=r}toString(){function e(t){if(Array.isArray(t)){const r=[];for(const n of t)r.push(e(n));return r}return t&&"string"==typeof t?`'${t}'`:t}return void 0===this.other||null===this.other?this.operator+"("+e(this.value)+")":this.operator+"("+e(this.value)+", "+e(this.other)+")"}and(e){return new n("and",this,e)}or(e){return new n("or",this,e)}static within(...e){return 1===e.length&&Array.isArray(e[0])?new n("within",e[0],null):new n("within",e,null)}static without(...e){return 1===e.length&&Array.isArray(e[0])?new n("without",e[0],null):new n("without",e,null)}static between(...e){return i("between",e)}static eq(...e){return i("eq",e)}static gt(...e){return i("gt",e)}static gte(...e){return i("gte",e)}static inside(...e){return i("inside",e)}static lt(...e){return i("lt",e)}static lte(...e){return i("lte",e)}static neq(...e){return i("neq",e)}static not(...e){return i("not",e)}static outside(...e){return i("outside",e)}static test(...e){return i("test",e)}}function i(e,t){return t.unshift(null,e),new(Function.prototype.bind.apply(n,t))}class o{constructor(e,t,r){this.operator=e,this.value=t,this.other=r}toString(){function e(e){return e&&"string"==typeof e?`'${e}'`:e}return void 0===this.other?this.operator+"("+e(this.value)+")":this.operator+"("+e(this.value)+", "+e(this.other)+")"}and(e){return new n("and",this,e)}or(e){return new n("or",this,e)}static containing(...e){return a("containing",e)}static endingWith(...e){return a("endingWith",e)}static notContaining(...e){return a("notContaining",e)}static notEndingWith(...e){return a("notEndingWith",e)}static notStartingWith(...e){return a("notStartingWith",e)}static startingWith(...e){return a("startingWith",e)}static regex(...e){return a("regex",e)}static notRegex(...e){return a("notRegex",e)}}function a(e,t){return t.unshift(null,e),new(Function.prototype.bind.apply(o,t))}function s(e,t){const r={};return t.split(" ").forEach(t=>{let n=t;n===n.toUpperCase()&&(n=n.toLowerCase()),r[n]=new l(e,t)}),r}const c={from_:"out",to:"in"};class l{constructor(e,t){this.typeName=e,this.elementName=t}toString(){return this.elementName}}e.exports={EnumValue:l,P:n,TextP:o,withOptions:{tokens:"~tinkerpop.valueMap.tokens",none:0,ids:1,labels:2,keys:4,values:8,all:15,indexer:"~tinkerpop.index.indexer",list:0,map:1},IO:class{static get graphml(){return"graphml"}static get graphson(){return"graphson"}static get gryo(){return"gryo"}static get reader(){return"~tinkerpop.io.reader"}static get registry(){return"~tinkerpop.io.registry"}static get writer(){return"~tinkerpop.io.writer"}},Traversal:class{constructor(e,t,r){this.graph=e,this.traversalStrategies=t,this.bytecode=r,this.traversers=null,this.sideEffects=null,this._traversalStrategiesPromise=null,this._traversersIteratorIndex=0}[r](){return this}getBytecode(){return this.bytecode}toList(){return this._applyStrategies().then(()=>{const e=[];let t;for(;(t=this._getNext())&&!t.done;)e.push(t.value);return e})}hasNext(){return this._applyStrategies().then(()=>this.traversers&&this.traversers.length>0&&this._traversersIteratorIndex<this.traversers.length&&this.traversers[this._traversersIteratorIndex].bulk>0)}iterate(){return this.bytecode.addStep("none"),this._applyStrategies().then(()=>{let e;for(;(e=this._getNext())&&!e.done;);})}next(){return this._applyStrategies().then(()=>this._getNext())}_getNext(){for(;this.traversers&&this._traversersIteratorIndex<this.traversers.length;){const e=this.traversers[this._traversersIteratorIndex];if(e.bulk>0)return e.bulk--,{value:e.object,done:!1};this._traversersIteratorIndex++}return t}_applyStrategies(){return this._traversalStrategiesPromise?this._traversalStrategiesPromise:this._traversalStrategiesPromise=this.traversalStrategies.applyStrategies(this)}toJSON(){return this.bytecode.stepInstructions}toString(){return this.bytecode.toString()}},TraversalSideEffects:class{},Traverser:class{constructor(e,t){this.object=e,this.bulk=t||1}},barrier:s("Barrier","normSack"),cardinality:s("Cardinality","list set single"),column:s("Column","keys values"),direction:function(e,t){const r=s(e,t);return Object.keys(c).forEach(e=>{r[e]=r[c[e]]}),r}("Direction","BOTH IN OUT from_ to"),dt:s("DT","second minute hour day"),graphSONVersion:s("GraphSONVersion","V1_0 V2_0 V3_0"),gryoVersion:s("GryoVersion","V1_0 V3_0"),merge:s("Merge","onCreate onMatch outV inV"),operator:s("Operator","addAll and assign div max min minus mult or sum sumLong"),order:s("Order","asc desc shuffle"),pick:s("Pick","any none"),pop:s("Pop","all first last mixed"),scope:s("Scope","global local"),t:s("T","id key label value")}},1743:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.LONG]=this}canBeUsedFor(){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.LONG,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.LONG,0]));const i=n.alloc(8);return i.writeBigInt64BE(BigInt(e)),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.LONG)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;let o=i.readBigInt64BE();return o=o<Number.MIN_SAFE_INTEGER||o>Number.MAX_SAFE_INTEGER?parseFloat(o.toString()):Number(o),{v:o,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},1893:(e,t,r)=>{"use strict";const n=r(2468),i=r(8402);e.exports=class extends n{constructor(e,t,r){super({mechanism:new i({username:e,password:t,authzid:r})})}evaluateChallenge(e){return this._options.mechanism.evaluateChallenge(e)}}},1982:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t,r){return t=c(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(a())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&s(i,r.prototype),i}(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},o(e)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return d(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,s=0,c=e,p.n=r,a}};function f(r,n){for(s=r,c=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],f=p.p,h=o[2];r>3?(i=h===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=r<2&&f<o[1])?(s=0,p.v=n,p.n=o[1]):f<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,p.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,c=h;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(p.n=-1),f(s,c)):p.n=c:p.v=c);try{if(l=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=p.n<0)?c:r.call(n,p))!==a)break}catch(t){o=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var p=[][n]?t(t([][n]())):(d(t={},n,function(){return this}),t),f=l.prototype=s.prototype=Object.create(p);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,d(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,d(f,"constructor",l),d(l,"constructor",c),c.displayName="GeneratorFunction",d(l,i,"GeneratorFunction"),d(f),d(f,i,"Generator"),d(f,n,function(){return this}),d(f,"toString",function(){return"[object Generator]"}),(u=function(){return{w:o,m:h}})()}function d(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}d=function(e,t,r,n){function o(t,r){d(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},d(e,t,r,n)}function p(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){p(o,n,i,a,s,"next",e)}function s(e){p(o,n,i,a,s,"throw",e)}a(void 0)})}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function y(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}r.d(t,{M:()=>v,e:()=>b});var v=function(){return y(function e(t){if(h(this,e),this.constructor===e)throw new Error("Can't create an instance of an abstract class.")},[{key:"initialize",value:(s=f(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("initialize() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return s.apply(this,arguments)})},{key:"close",value:(a=f(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("close() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return a.apply(this,arguments)})},{key:"startTransaction",value:(o=f(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("startTransaction() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return o.apply(this,arguments)})},{key:"endTransaction",value:(i=f(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("endTransaction() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return i.apply(this,arguments)})},{key:"executeInTransaction",value:(n=f(u().m(function e(t,r){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("executeInTransaction() has not been implemented.");case 1:return e.a(2)}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"executeRead",value:(t=f(u().m(function e(t,r){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("executeRead() has not been implemented.");case 1:return e.a(2)}},e)})),function(e,r){return t.apply(this,arguments)})},{key:"executeWrite",value:(e=f(u().m(function e(t,r){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("executeWrite() has not been implemented.");case 1:return e.a(2)}},e)})),function(t,r){return e.apply(this,arguments)})},{key:"getQuery",value:function(e){if(utils.debugLog("getQuery('".concat(e,"')")),e in this.queryStrings)return this.queryStrings[e][this.dbtype];throw new Error("A query with ID ".concat(e," was not found."))}}],[{key:"classFactory",value:function(e,t,n){var i;switch(e.DATABASETYPE.toLowerCase()){case"neo4j":i=new(0,r(8605).Neo4jDatabaseService)(e.NEO4J_CONFIG);break;case"neo4j-https":i=new(0,r(4631).Neo4jHTTPSDatabaseService)(e.NEO4J_CONFIG);break;case"cosmosdb":i=new(0,r(4954).GremlinDatabaseService)(e.COSMOSDB_CONFIG,n);break;default:throw new Error("Unsupported graph database type: ".concat(e.DATABASETYPE))}return i.dbtype=e.DATABASETYPE.toLowerCase(),i.queryStrings=t,i}}]);var e,t,n,i,o,a,s}(),b=function(e){function t(){var e;h(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return l(e=i(this,t,[].concat(n)),"isRawArray",!0),l(e,"quotedElements",!1),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),y(t)}(o(Array))},2029:(e,t,r)=>{"use strict";const n=r(1545).Traversal,i=r(9032);e.exports=class{constructor(e){this._traversalSource=e}getTraversalSource(){return this._traversalSource}getTargetLanguage(){return"gremlin-groovy"}of(e){this._traversalSource=e}translate(e,t=!1){let r=t?"__":this._traversalSource;const n=(e instanceof i?e:e.getBytecode()).stepInstructions;for(let e=0;e<n.length;e++){const t=n[e].slice(1);if(r+="."+n[e][0]+"(",t.length)for(let e=0;e<t.length;e++)e>0&&(r+=", "),r+=this.convert(t[e]);r+=")"}return r}convert(e){let t="";if(Object(e)===e)if(e instanceof n)t+=this.translate(e.getBytecode(),!0);else if("[object Object]"===e.toString())Object.keys(e).forEach(function(r,n){n>0&&(t+=", "),t+=`('${r}', `,e[r]instanceof String||"string"==typeof e[r]?t+=`'${`${e[r]}`.replaceAll("'","\\'")}'`:t+=e[r],t+=")"});else if(Array.isArray(e)){const r=[];for(const t of e)r.push(this.convert(t));t+="["+r.join(", ")+"]"}else t+=e.toString();else t+=null==e?"null":"number"==typeof e||"boolean"==typeof e?e:`'${`${e}`.replaceAll("'","\\'")}'`;return t}}},2285:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return e instanceof Date}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ID,0]));const i=n.alloc(8);return i.writeBigInt64BE(BigInt(e.getTime())),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ID)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;const o=i.readBigInt64BE();return{v:new Date(Number(o)),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},2311:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,a){return n((s=n(n(t,e),n(i,a)))<<(c=o)|s>>>32-c,r);var s,c}function o(e,t,r,n,o,a,s){return i(t&r|~t&n,e,t,o,a,s)}function a(e,t,r,n,o,a,s){return i(t&n|r&~n,e,t,o,a,s)}function s(e,t,r,n,o,a,s){return i(t^r^n,e,t,o,a,s)}function c(e,t,r,n,o,a,s){return i(r^(t|~n),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=1732584193,l=-271733879,u=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const r=i,p=l,f=u,h=d;i=o(i,l,u,d,e[t],7,-680876936),d=o(d,i,l,u,e[t+1],12,-389564586),u=o(u,d,i,l,e[t+2],17,606105819),l=o(l,u,d,i,e[t+3],22,-1044525330),i=o(i,l,u,d,e[t+4],7,-176418897),d=o(d,i,l,u,e[t+5],12,1200080426),u=o(u,d,i,l,e[t+6],17,-1473231341),l=o(l,u,d,i,e[t+7],22,-45705983),i=o(i,l,u,d,e[t+8],7,1770035416),d=o(d,i,l,u,e[t+9],12,-1958414417),u=o(u,d,i,l,e[t+10],17,-42063),l=o(l,u,d,i,e[t+11],22,-1990404162),i=o(i,l,u,d,e[t+12],7,1804603682),d=o(d,i,l,u,e[t+13],12,-40341101),u=o(u,d,i,l,e[t+14],17,-1502002290),l=o(l,u,d,i,e[t+15],22,1236535329),i=a(i,l,u,d,e[t+1],5,-165796510),d=a(d,i,l,u,e[t+6],9,-1069501632),u=a(u,d,i,l,e[t+11],14,643717713),l=a(l,u,d,i,e[t],20,-373897302),i=a(i,l,u,d,e[t+5],5,-701558691),d=a(d,i,l,u,e[t+10],9,38016083),u=a(u,d,i,l,e[t+15],14,-660478335),l=a(l,u,d,i,e[t+4],20,-405537848),i=a(i,l,u,d,e[t+9],5,568446438),d=a(d,i,l,u,e[t+14],9,-1019803690),u=a(u,d,i,l,e[t+3],14,-187363961),l=a(l,u,d,i,e[t+8],20,1163531501),i=a(i,l,u,d,e[t+13],5,-1444681467),d=a(d,i,l,u,e[t+2],9,-51403784),u=a(u,d,i,l,e[t+7],14,1735328473),l=a(l,u,d,i,e[t+12],20,-1926607734),i=s(i,l,u,d,e[t+5],4,-378558),d=s(d,i,l,u,e[t+8],11,-2022574463),u=s(u,d,i,l,e[t+11],16,1839030562),l=s(l,u,d,i,e[t+14],23,-35309556),i=s(i,l,u,d,e[t+1],4,-1530992060),d=s(d,i,l,u,e[t+4],11,1272893353),u=s(u,d,i,l,e[t+7],16,-155497632),l=s(l,u,d,i,e[t+10],23,-1094730640),i=s(i,l,u,d,e[t+13],4,681279174),d=s(d,i,l,u,e[t],11,-358537222),u=s(u,d,i,l,e[t+3],16,-722521979),l=s(l,u,d,i,e[t+6],23,76029189),i=s(i,l,u,d,e[t+9],4,-640364487),d=s(d,i,l,u,e[t+12],11,-421815835),u=s(u,d,i,l,e[t+15],16,530742520),l=s(l,u,d,i,e[t+2],23,-995338651),i=c(i,l,u,d,e[t],6,-198630844),d=c(d,i,l,u,e[t+7],10,1126891415),u=c(u,d,i,l,e[t+14],15,-1416354905),l=c(l,u,d,i,e[t+5],21,-57434055),i=c(i,l,u,d,e[t+12],6,1700485571),d=c(d,i,l,u,e[t+3],10,-1894986606),u=c(u,d,i,l,e[t+10],15,-1051523),l=c(l,u,d,i,e[t+1],21,-2054922799),i=c(i,l,u,d,e[t+8],6,1873313359),d=c(d,i,l,u,e[t+15],10,-30611744),u=c(u,d,i,l,e[t+6],15,-1560198380),l=c(l,u,d,i,e[t+13],21,1309151649),i=c(i,l,u,d,e[t+4],6,-145523070),d=c(d,i,l,u,e[t+11],10,-1120210379),u=c(u,d,i,l,e[t+2],15,718787259),l=c(l,u,d,i,e[t+9],21,-343485551),i=n(i,r),l=n(l,p),u=n(u,f),d=n(d,h)}return[i,l,u,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};t.default=l},2420:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return"string"==typeof e}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):this.ioc.intSerializer.serialize(0,!1);const r=[];t&&r.push(n.from([this.ID,0]));const i=n.from(String(e),"utf8");return r.push(this.ioc.intSerializer.serialize(i.length,!1)),r.push(i),n.concat(r)}deserialize(e,t=!0,r=!1){let i=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(i++,e!==this.ID)throw new Error("unexpected {type_code}");o=o.slice(1)}if(t||r){if(o.length<1)throw new Error("{value_flag} is missing");const e=o.readUInt8();if(i++,1===e)return{v:null,len:i};if(0!==e)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s;try{({v:a,len:s}=this.ioc.intSerializer.deserialize(o,!1)),i+=s}catch(e){throw e.message="{length}: "+e.message,e}if(a<0)throw new Error("{length} is less than zero");if(o=o.slice(s),o.length<a)throw new Error("unexpected {text_value} length");i+=a;return{v:o.toString("utf8",0,a),len:i}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},2468:e=>{"use strict";e.exports=class{constructor(e){this._options=e}evaluateChallenge(e){throw new Error("evaluateChallenge should be implemented")}}},2588:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.EDGE]=this}canBeUsedFor(e){return e instanceof i.Edge}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.EDGE,1]);const e=[3,0,0,0,0,0],r=[0,0,0,0],i=[3,0,0,0,0,0],o=[0,0,0,0],a=[3,0,0,0,0,0],s=[0,0,0,0],c=[254,1],l=[254,1];return n.from([...e,...r,...i,...o,...a,...s,...c,...l])}const r=[];t&&r.push(n.from([this.ioc.DataType.EDGE,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1));const i=e.inV&&e.inV.id;r.push(this.ioc.anySerializer.serialize(i));const o=e.inV&&e.inV.label;r.push(this.ioc.stringSerializer.serialize(o,!1));const a=e.outV&&e.outV.id;r.push(this.ioc.anySerializer.serialize(a));const s=e.outV&&e.outV.label;return r.push(this.ioc.stringSerializer.serialize(s,!1)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.EDGE)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u,d,p,f,h,m,y,g,v,b,w;try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.stringSerializer.deserialize(o,!1)),r+=l}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(l);try{({v:u,len:d}=this.ioc.anySerializer.deserialize(o)),r+=d}catch(e){throw e.message="{inVId}: "+e.message,e}o=o.slice(d);try{({v:p,len:f}=this.ioc.stringSerializer.deserialize(o,!1)),r+=f}catch(e){throw e.message="{inVLabel}: "+e.message,e}o=o.slice(f);try{({v:h,len:m}=this.ioc.anySerializer.deserialize(o)),r+=m}catch(e){throw e.message="{outVId}: "+e.message,e}o=o.slice(m);try{({v:y,len:g}=this.ioc.stringSerializer.deserialize(o,!1)),r+=g}catch(e){throw e.message="{outVLabel}: "+e.message,e}o=o.slice(g);try{({len:v}=this.ioc.anySerializer.deserialize(o)),r+=v}catch(e){throw e.message="{parent}: "+e.message,e}o=o.slice(v);try{({v:b,len:w}=this.ioc.anySerializer.deserialize(o)),r+=w}catch(e){throw e.message="{properties}: "+e.message,e}o=o.slice(w);return{v:new i.Edge(a,new i.Vertex(h,y,null),c,new i.Vertex(u,p,null),b),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},2617:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}var l=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.locale=t,this.config=this.getLocaleConfig(t),this.initializeFormatters()},t=[{key:"initializeFormatters",value:function(){var e={hour12:this.config.timeFormat.hour12};this.dateFormatters={short:new Intl.DateTimeFormat(this.locale,o({dateStyle:"short",timeStyle:"short"},e)),medium:new Intl.DateTimeFormat(this.locale,o({dateStyle:"medium",timeStyle:"medium"},e)),long:new Intl.DateTimeFormat(this.locale,o({dateStyle:"full",timeStyle:"long"},e)),time:new Intl.DateTimeFormat(this.locale,o({timeStyle:"short"},e))},this.numberFormatter=new Intl.NumberFormat(this.locale,{minimumFractionDigits:0,maximumFractionDigits:20}),this.currencyFormatter=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.config.numberFormat.currency})}},{key:"getLocaleConfig",value:function(e){return window.localeConfigs[e]||window.localeConfigs["en-US"]}},{key:"formatDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium",r=this.config.dateFormat;return null!=r&&r[t]?new Intl.DateTimeFormat(this.locale,{dateStyle:t}).format(e):e.toLocaleDateString(this.locale)}},{key:"formatNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return null!==t?new Intl.NumberFormat(this.locale,{minimumFractionDigits:t,maximumFractionDigits:t}).format(e):this.numberFormatter.format(e)}catch(t){return e.toString()}}},{key:"formatCurrency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return t?new Intl.NumberFormat(this.locale,{style:"currency",currency:t}).format(e):this.currencyFormatter.format(e)}catch(t){return e.toString()}}},{key:"formatRelativeTime",value:function(e){try{for(var t=new Intl.RelativeTimeFormat(this.locale,{numeric:"auto"}),n=(new Date(e).getTime()-Date.now())/1e3,i=0,o=Object.entries({year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1});i<o.length;i++){var a=r(o[i],2),s=a[0],c=a[1];if(Math.abs(n)>=c||"second"===s)return t.format(Math.round(n/c),s)}}catch(t){return new Date(e).toLocaleString(this.locale)}}},{key:"formatTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";try{var r,n={hour:"numeric",minute:"numeric",second:"short"!==t?"numeric":void 0,hour12:null===(r=this.config.timeFormat)||void 0===r?void 0:r.hour12};return new Intl.DateTimeFormat(this.locale,n).format(e)}catch(t){return e.toLocaleTimeString(this.locale)}}},{key:"uses12HourTime",value:function(){var e,t;return"12h"===(null===(e=this.config.timeFormat)||void 0===e?void 0:e.system)||!0===(null===(t=this.config.timeFormat)||void 0===t?void 0:t.hour12)}},{key:"usesMixedTimeFormat",value:function(){var e;return"mixed"===(null===(e=this.config.timeFormat)||void 0===e?void 0:e.system)}},{key:"formatDateTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";try{var r,n=e instanceof Date?e:new Date(e),i=(null===(r=this.config.dateTimeFormat)||void 0===r?void 0:r[t])||{},o=new Intl.DateTimeFormat(this.locale,{dateStyle:t}),a=new Intl.DateTimeFormat(this.locale,{hour:"12h"===this.config.timeFormat.system?"numeric":"2-digit",minute:"2-digit",second:"short"!==t?"2-digit":void 0,hour12:this.config.timeFormat.hour12});return(i.pattern||"{date} {time}").replace("{date}",o.format(n)).replace("{time}",a.format(n))}catch(t){return new Date(e).toLocaleString(this.locale)}}},{key:"getMeridiemMarker",value:function(e){var t=this.config.timeFormat;return null!=t&&t.meridiem?e<12?t.meridiem.ante:t.meridiem.post:null}},{key:"isRTL",value:function(){return"rtl"===this.config.direction}},{key:"getCulturalPreferences",value:function(){var e,t,r,n;return{direction:this.config.direction,timeFormat:this.config.timeFormat,dateFormat:this.config.dateFormat,dateTimeFormat:this.config.dateTimeFormat,numberFormat:this.config.numberFormat,calendar:{firstDayOfWeek:null!==(e=null===(t=this.config.calendar)||void 0===t?void 0:t.firstDayOfWeek)&&void 0!==e?e:0,weekendDays:null!==(r=null===(n=this.config.calendar)||void 0===n?void 0:n.weekendDays)&&void 0!==r?r:[0,6]},measurement:this.config.measurement||"metric"}}}],t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();e.exports&&(e.exports=l),window.CulturalConfig=l},2831:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var n=p(r(3518)),i=p(r(4948)),o=p(r(5073)),a=p(r(7186)),s=p(r(4808)),c=p(r(7775)),l=p(r(7037)),u=p(r(9910)),d=p(r(6792));function p(e){return e&&e.__esModule?e:{default:e}}},2858:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},2861:(e,t,r)=>{var n=r(8287),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},3063:()=>{},3095:(e,t,r)=>{"use strict";const{ArrayPrototypePop:n,Promise:i}=r(4134),{isIterable:o,isNodeStream:a,isWebStream:s}=r(6115),{pipelineImpl:c}=r(7758),{finished:l}=r(6238);r(5506),e.exports={finished:l,pipeline:function(...e){return new i((t,r)=>{let i,l;const u=e[e.length-1];if(u&&"object"==typeof u&&!a(u)&&!o(u)&&!s(u)){const t=n(e);i=t.signal,l=t.end}c(e,(e,n)=>{e?r(e):t(n)},{signal:i,end:l})})}}},3141:(e,t,r)=>{"use strict";var n=r(2861).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},3203:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e}readResponse(e){if(null==e)throw new Error("Buffer is missing.");if(!(e instanceof n))throw new Error("Not an instance of Buffer.");if(e.length<1)throw new Error("Buffer is empty.");const t={status:{},result:{}};let r,i=e;const o=i[0];if(129!==o)throw new Error(`Unsupported version '${o}'.`);return i=i.slice(1),({v:t.requestId,len:r}=this.ioc.uuidSerializer.deserialize(i,!1,!0)),i=i.slice(r),({v:t.status.code,len:r}=this.ioc.intSerializer.deserialize(i,!1)),i=i.slice(r),({v:t.status.message,len:r}=this.ioc.stringSerializer.deserialize(i,!1,!0)),i=i.slice(r),({v:t.status.attributes,len:r}=this.ioc.mapSerializer.deserialize(i,!1)),i=i.slice(r),({v:t.result.meta,len:r}=this.ioc.mapSerializer.deserialize(i,!1)),i=i.slice(r),({v:t.result.data}=this.ioc.anySerializer.deserialize(i)),t}}},3321:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BOOLEAN]=this}canBeUsedFor(e){return"boolean"==typeof e}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BOOLEAN,1]):n.from([0]);const r=[];return t&&r.push(n.from([this.ioc.DataType.BOOLEAN,0])),r.push(n.from([e?1:0])),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BOOLEAN)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<1)throw new Error("unexpected {value} length");r+=1;let o=i.readUInt8();if(0!==o&&1!==o)throw new Error(`unexpected boolean byte=${o}`);return o=1===o,{v:o,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},3335:(e,t,r)=>{"use strict";const n=r(1545).Traversal;class i{constructor(e,t={}){this.fqcn=e,this.configuration=t}apply(e){}}e.exports={TraversalStrategies:class{constructor(e){this.strategies=e?[...e.strategies]:[]}addStrategy(e){this.strategies.push(e)}removeStrategy(e){const t=this.strategies.findIndex(t=>t.fqcn===e.fqcn);if(-1!==t)return this.strategies.splice(t,1)[0]}applyStrategies(e){return this.strategies.reduce((t,r)=>t.then(()=>r.apply(e)),Promise.resolve())}},TraversalStrategy:i,ConnectiveStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.ConnectiveStrategy")}},ElementIdStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.ElementIdStrategy")}},HaltedTraverserStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.HaltedTraverserStrategy"),void 0!==e&&(this.configuration.haltedTraverserFactory=e)}},OptionsStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.OptionsStrategy",e)}},PartitionStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.PartitionStrategy",e)}},SeedStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.SeedStrategy",{seed:e.seed})}},SubgraphStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.SubgraphStrategy",e),this.configuration.vertices instanceof n&&(this.configuration.vertices=this.configuration.vertices.bytecode),this.configuration.edges instanceof n&&(this.configuration.edges=this.configuration.edges.bytecode),this.configuration.vertexProperties instanceof n&&(this.configuration.vertexProperties=this.configuration.vertexProperties.bytecode)}},VertexProgramStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.computer.traversal.strategy.decoration.VertexProgramStrategy",e)}},MatchAlgorithmStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.finalization.MatchAlgorithmStrategy"),void 0!==e&&(this.configuration.matchAlgorithm=e)}},AdjacentToIncidentStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.AdjacentToIncidentStrategy")}},FilterRankingStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.FilterRankingStrategy")}},IdentityRemovalStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.IdentityRemovalStrategy")}},IncidentToAdjacentStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.IncidentToAdjacentStrategy")}},InlineFilterStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.InlineFilterStrategy")}},LazyBarrierStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.LazyBarrierStrategy")}},MatchPredicateStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.MatchPredicateStrategy")}},OrderLimitStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.OrderLimitStrategy")}},PathProcessorStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.PathProcessorStrategy")}},PathRetractionStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.PathRetractionStrategy")}},ProductiveByStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.ProductiveByStrategy",e)}},CountStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.CountStrategy")}},RepeatUnrollStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.RepeatUnrollStrategy")}},GraphFilterStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.GraphFilterStrategy")}},EarlyLimitStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.EarlyLimitStrategy")}},EdgeLabelVerificationStrategy:class extends i{constructor(e=!1,t=!1){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.EdgeLabelVerificationStrategy",{logWarnings:e,throwException:t})}},LambdaRestrictionStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.LambdaRestrictionStrategy")}},ReadOnlyStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.ReadOnlyStrategy")}},ReservedKeysVerificationStrategy:class extends i{constructor(e=!1,t=!1,r=["id","label"]){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.ReservedKeysVerificationStrategy",{logWarnings:e,throwException:t,keys:r})}}}},3370:(e,t,r)=>{"use strict";const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:o,ObjectSetPrototypeOf:a}=r(4134);e.exports=l;const s=r(7576),c=r(8584);a(l.prototype,s.prototype),a(l,s);{const e=o(c.prototype);for(let t=0;t<e.length;t++){const r=e[t];l.prototype[r]||(l.prototype[r]=c.prototype[r])}}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let u,d;function p(){return void 0===u&&(u={}),u}n(l.prototype,{writable:{__proto__:null,...i(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(c.prototype,"writableLength")},writableFinished:{__proto__:null,...i(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),l.fromWeb=function(e,t){return p().newStreamDuplexFromReadableWritablePair(e,t)},l.toWeb=function(e){return p().newReadableWritablePairFromDuplex(e)},l.from=function(e){return d||(d=r(6706)),d(e,"body")}},3469:(e,t,r)=>{"use strict";const n=r(1545),i=r(5332),o=r(3335),a=r(163),s=r(9449),c=r(5737),l=r(9032),u=r(2029),d=r(1104),p=r(7240),f=r(7286),h=r(7545),m=r(74),y=r(2468),g=r(1893),v=r(6665);e.exports={driver:{RemoteConnection:c.RemoteConnection,RemoteStrategy:c.RemoteStrategy,RemoteTraversal:c.RemoteTraversal,ResponseError:f,DriverRemoteConnection:p,Client:h,ResultSet:m,auth:{Authenticator:y,PlainTextSaslAuthenticator:g}},process:{Bytecode:l,EnumValue:n.EnumValue,P:n.P,TextP:n.TextP,Traversal:n.Traversal,TraversalSideEffects:n.TraversalSideEffects,TraversalStrategies:o.TraversalStrategies,TraversalStrategy:o.TraversalStrategy,Traverser:n.Traverser,barrier:n.barrier,cardinality:n.cardinality,column:n.column,direction:n.direction,dt:n.dt,merge:n.merge,operator:n.operator,order:n.order,pick:n.pick,pop:n.pop,scope:n.scope,t:n.t,GraphTraversal:i.GraphTraversal,GraphTraversalSource:i.GraphTraversalSource,statics:i.statics,Translator:u,traversal:v.traversal,AnonymousTraversalSource:v,withOptions:n.withOptions},structure:{io:s,Edge:a.Edge,Graph:a.Graph,Path:a.Path,Property:a.Property,Vertex:a.Vertex,VertexProperty:a.VertexProperty,toLong:d.toLong}}},3518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(2858))&&n.__esModule?n:{default:n},o=r(9910);let a,s,c=0,l=0;var u=function(e,t,r){let n=t&&r||0;const u=t||new Array(16);let d=(e=e||{}).node||a,p=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==p){const t=e.random||(e.rng||i.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=s=16383&(t[6]<<8|t[7]))}let f=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:l+1;const m=f-c+(h-l)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||f>c)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,l=h,s=p,f+=122192928e5;const y=(1e4*(268435455&f)+h)%4294967296;u[n++]=y>>>24&255,u[n++]=y>>>16&255,u[n++]=y>>>8&255,u[n++]=255&y;const g=f/4294967296*1e4&268435455;u[n++]=g>>>8&255,u[n++]=255&g,u[n++]=g>>>24&15|16,u[n++]=g>>>16&255,u[n++]=p>>>8|128,u[n++]=255&p;for(let e=0;e<6;++e)u[n+e]=d[e];return t||(0,o.unsafeStringify)(u)};t.default=u},3676:e=>{var t;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={"en-US":{name:"English (US)",nativeName:"English (US)",flag:"🇺🇸",direction:"ltr",numberFormat:{decimal:".",group:",",currency:"USD",currencyDisplay:"$"},timeFormat:{system:"12h",hour12:!0,short:"h:mm A",medium:"h:mm:ss A",long:"h:mm:ss A z",meridiem:{ante:"AM",post:"PM"}},dateFormat:{short:"MM/DD/YY",medium:"MMM D, YYYY",long:"MMMM D, YYYY"},dateTimeFormat:{short:{pattern:"{date} {time}"},medium:{pattern:"{date} {time}"},long:{pattern:"{date} {time}"}},calendar:{firstDayOfWeek:0,weekendDays:[0,6],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},measurement:"imperial",translations:(t={loading:{text:"Loading..."},savePrompt:{text:"Save Prompt"},cancel:{text:"Cancel"},remove:{text:"×"},dropdownPlaceholder:{text:"Select an option"},newPromptCreated:{text:"New prompt created. Please fill in the details and click Save to create the prompt."},promptLoadSuccess:{text:"Prompt loaded successfully: {id}"},versionLoaded:{text:"Prompt version {version} loaded successfully"},versionActivateSuccess:{text:"Version activated successfully"},versionActivatedAt:{text:"Version activated successfully"},latestVersionActivated:{text:"Activated latest prompt version ({id}) successfully"},versionsDeactivated:{text:"{count} prompt versions deactivated successfully"},promptCloneSuccess:{text:"Prompt cloned. Make any necessary changes and click Save to create the new prompt."},promptIdAvailable:{text:"Prompt Id {id} is available."},promptExportSuccess:{text:"Prompt exported successfully"},promptImportSuccess:{text:"Prompt data imported. Review and click Save to store it."},promptImportCancelled:{text:"Import cancelled by user."},promptsImportedSuccessfully:{text:"{count} prompts imported successfully."},noPromptsImported:{text:"No prompts were imported - all existing versions were kept."},newPromptIdGenerated:{text:"A new prompt ID has been generated to avoid conflicts."},promptIdGenerated:{text:"Prompt ID generated successfully."},promptCreateSuccess:{text:"Prompt created successfully with ID: {id}"},promptUpdateSuccess:{text:"Prompt updated successfully with ID: {id}"},prompts:{text:"Prompts"},access:{text:"Access"},searchPrompts:{text:"Search prompts"},category:{text:"Category"},status:{text:"Status"},active:{text:"Active"},inactive:{text:"Inactive"},by:{text:"by"},notAvailable:{text:"N/A"},uncategorized:{text:"Uncategorized"},unknown:{text:"Unknown"},coreSystemPromptsDescription:{text:"For core system prompts essential for the MAGs memory cycle implementation"},coreSystemFunctionalityDescription:{text:"For core system functionality"},viewHistory:{text:"View History"},promptOptions:{text:"Prompt options"},clearSearch:{text:"Clear search"},newPrompt:{text:"New Prompt"},clonePrompt:{text:"Clone Prompt"},importPrompt:{text:"Import Prompt"},exportPrompt:{text:"Export Prompt"},format:{text:"Format"},formatValue:{text:"AREA-FUNCTION-PROMPT-VERSION (minimum 3 characters for AREA and FUNCTION)"},viewNamingConvention:{text:"View Naming Conventions"},promptId:{text:"Prompt Id"},area:{text:"Area"},function:{text:"Function"},version:{text:"Version"},generate:{text:"Generate"},name:{text:"Name"},activatePrompt:{text:"Activate Prompt"},deactivatePrompt:{text:"Deactivate Prompt"},deactivated:{text:"Deactivated"},internalName:{text:"Internal Name"},description:{text:"Description"},modelProvider:{text:"Model Provider"},modelProviderPlaceholder:{text:"Select a model provider"},versionNumber:{text:"Version {number}"},modelName:{text:"Model Name"},maxTokens:{text:"Max Tokens"},prompt:{text:"Prompt"},reservedFields:{text:"Reserved Fields"},created:{text:"Created"},lastModified:{text:"Last Modified"},author:{text:"Author"},loadPriorVersion:{text:"Load Prior Version"},currentVersion:{text:"Current Version"},versionPlaceholder:{text:"Select a version"},activateSelectedVersion:{text:"Activate selected version"},type:{text:"Type"},typePlaceholder:{text:"Select a type"},accessLevel:{text:"Access Level"},accessLevelPlaceholder:{text:"Select an access level"},tags:{text:"Tags"},add:{text:"Add"}},n(n(n(n(n(n(n(n(n(n(t,"remove",{text:"Remove"}),"addNew",{text:"Add new"}),"markAll",{text:"Mark all"}),"auditHistory",{text:"Audit History"}),"noAuditHistory",{text:"No audit history available."}),"confirm",{text:"Confirm"}),"confirmDiscardChanges",{text:"You have unsaved changes. Are you sure you want to discard them?"}),"discardChanges",{text:"Discard Changes"}),"existingPromptsDetected",{text:"Existing Prompts Detected"}),"existingPromptFound",{text:"Existing Prompt Found"}),n(n(n(n(n(n(n(n(n(n(t,"existingPromptsMessage",{text:"The following prompts already exist in the database. Please choose how to handle each one:"}),"chooseImportAction",{text:"Choose how to handle the conflict:"}),"setAllOverwrite",{text:"Set All to Overwrite"}),"setAllKeep",{text:"Set All to Keep Current"}),"setAllImportNew",{text:"Set All to Import New"}),"promptName",{text:"Prompt Name"}),"conflict",{text:"Conflict"}),"action",{text:"Action"}),"overwriteWithImported",{text:"Overwrite with imported version"}),"keepCurrentVersion",{text:"Keep current version"}),n(n(n(n(n(n(n(n(n(t,"importWithNewIdAndName",{text:"Import with new ID and name"}),"overwriteWarning",{text:"Warning: Overwriting existing prompts is irreversible."}),"proceed",{text:"Proceed with Import"}),"idAlreadyExists",{text:"ID already exists"}),"nameAlreadyExists",{text:"Name already exists"}),"internalNameAlreadyExists",{text:"Internal name already exists"}),"cancelImport",{text:"Cancel import"}),"loadForEditing",{text:"Load into form for editing"}),"systemPrompt",{text:"System Prompt"})),errors:{system:{promptValidationError:{text:"Prompt validation failed",severity:"error"},missingFields:{text:"Missing reserved fields in Prompt: {fields}",severity:"error"},extraFields:{text:"Extra reserved fields detected in Prompt: {fields}",severity:"error"},accessLevelMismatch:{text:"System type prompts must have system access level",severity:"error"},unexpectedError:{text:"An unexpected error occurred",severity:"error"}},network:{neo4jError:{text:"Database error occurred. Please try again.",severity:"error"},batchedPromptsLoadError:{text:"Error loading prompts. Please try again.",severity:"error"}},application:{promptLoadError:{text:"Error loading prompt",severity:"error"},priorVersionLoadError:{text:"Error loading prior versions",severity:"error"},versionNotFoundError:{text:"Version not found",severity:"error"},versionLoadError:{text:"Error loading version",severity:"error"},promptSaveError:{text:"Error saving prompt: {error}. Check console for more details.",severity:"error"},versionActivateError:{text:"Error activating version",severity:"error"},promptNotFoundError:{text:"Prompt not found",severity:"error"},promptCloneError:{text:"Error cloning prompt",severity:"error"},noPromptToActivate:{text:"No prompt found to activate",severity:"error"},noPromptToDeactivate:{text:"No prompt found to deactivate",severity:"error"},promptActivationError:{text:"Error activating prompt",severity:"error"},promptDeactivationError:{text:"Error deactivating prompt",severity:"error"},auditHistoryError:{text:"Error fetching audit history",severity:"error"},promptIdGenerationError:{text:"Error generating Prompt Id",severity:"error"},promptExportError:{text:"Error exporting prompt",severity:"error"},promptImportError:{text:"Error importing prompt",severity:"error"},searchError:{text:"Error searching prompts",severity:"error"},uniquePromptIdRequired:{text:"Unable to generate a unique Prompt Id",severity:"error"},uniqueInternalNameRequired:{text:"Internal Name must be unique. Please choose a different Internal Name.",severity:"error"},tooManyPrompts:{text:"Too many prompts to import ({count}). Maximum is 999.",severity:"error"},importValidationFailed:{text:"Import validation failed",severity:"error"},jsonParseError:{text:"Error parsing JSON file",severity:"error"}},validation:{promptIdRequired:{text:"Prompt Id is required",severity:"error"},promptIdFormatRequired:{text:"Prompt Id must follow the format AREA-FUNCTION-PROMPT-VERSION (minimum 3 characters for AREA and FUNCTION)",severity:"error"},nameRequired:{text:"Name is required",severity:"error"},descriptionRequired:{text:"Description is required",severity:"error"},modelProviderRequired:{text:"Model Provider is required",severity:"error"},modelNameRequired:{text:"Model Name is required",severity:"error"},internalNameRequired:{text:"Internal Name is required",severity:"error"},maxTokensRequired:{text:"Max tokens is required",severity:"error"},promptRequired:{text:"Prompt is required",severity:"error"},categoryRequired:{text:"Category is required",severity:"error"},typeRequired:{text:"Prompt Type is required",severity:"error"},accessLevelRequired:{text:"Access Level is required",severity:"error"},areaFunctionRequired:{text:"Please fill in Area and Function fields",severity:"error"}},selection:{selectPromptToClone:{text:"Please select a prompt to clone",severity:"warning"},selectPromptToExport:{text:"Please select a prompt to export",severity:"warning"},selectVersionToActivate:{text:"Please select a version to activate",severity:"warning"},selectPromptToDeactivate:{text:"Please select a prompt to deactivate",severity:"warning"},selectPromptToActivate:{text:"Please select a prompt to activate",severity:"warning"}}}}};e.exports&&(e.exports=i),window.localeConfigs=i},3920:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.PROPERTY]=this}canBeUsedFor(e){return e instanceof i.Property}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.PROPERTY,1]):n.concat([this.ioc.stringSerializer.serialize("",!1),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null)]);const r=[];return t&&r.push(n.from([this.ioc.DataType.PROPERTY,0])),r.push(this.ioc.stringSerializer.serialize(e.key,!1)),r.push(this.ioc.anySerializer.serialize(e.value)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.PROPERTY)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u;try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{key}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.anySerializer.deserialize(o)),r+=l}catch(e){throw e.message="{value}: "+e.message,e}o=o.slice(l);try{({len:u}=this.ioc.unspecifiedNullSerializer.deserialize(o)),r+=u}catch(e){throw e.message="{parent}: "+e.message,e}o=o.slice(u);return{v:new i.Property(a,c),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},3933:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.P]=this}canBeUsedFor(e){return e instanceof i.P}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.P,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}const r=[];let i;return t&&r.push(n.from([this.ioc.DataType.P,0])),r.push(this.ioc.stringSerializer.serialize(e.operator,!1)),i=void 0===e.other||null===e.other?Array.isArray(e.value)?e.value:[e.value]:[e.value,e.other],r.push(this.ioc.listSerializer.serialize(i,!1)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.P)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u;try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{name}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.listSerializer.deserialize(o,!1)),r+=l}catch(e){throw e.message="{values}: "+e.message,e}if(o=o.slice(l),c.length<1)return{v:new i.P(""),len:r};const d=i.P[a];return u="function"==typeof d?d(...c):new i.P(a,...c),{v:u,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},4028:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function r(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var n=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},r=null,n=[{key:"showMessage",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.duration,n=void 0===r?5e3:r,i=t.type,o=void 0===i?"success":i,a=t.params,s=void 0===a?{}:a,c=i18n.translate(e,s);showMessage(c,o,n)})},{key:"showSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;this.showMessage(e,{type:"success",duration:r,params:t})}},{key:"showInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;this.showMessage(e,{type:"info",duration:r,params:t})}},{key:"showWarning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7e3;this.showMessage(e,{type:"warning",duration:r,params:t})}}],r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();window.PromptStatusHandler=n},4074:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(228),o=r(9198),a=r(1104),{DeferredPromise:s}=a,c=r(9449),{graphBinaryReader:l,graphBinaryWriter:u}=r(1421),d=r(74),p=r(7286),f=204,h=206,m=407,y="application/vnd.gremlin-v2.0+json",g="application/vnd.graphbinary-v1.0",v="[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}";e.exports=class extends i{constructor(e,t){super(),this.url=e,this.options=t=t||{},this.mimeType=t.mimeType||"application/vnd.gremlin-v3.0+json",this._responseHandlers={},this._reader=t.reader||this.#e(this.mimeType),this._writer=t.writer||this.#t(this.mimeType),this._openPromise=null,this._openCallback=null,this._closePromise=null,this._closeCallback=null,this._header=String.fromCharCode(this.mimeType.length)+this.mimeType,this._header_buf=n.from(this._header),this.isOpen=!1,this.traversalSource=t.traversalSource||"g",this._authenticator=t.authenticator,this._enableUserAgentOnConnect=!1!==t.enableUserAgentOnConnect,this._enableCompression=this.options.enableCompression||!1}async open(){if(this.isOpen)return;if(this._openPromise)return this._openPromise;this._openPromise=s(),this.emit("log","ws open");let e=this.options.headers;if(this._enableUserAgentOnConnect){e||(e=[]);void 0!==await a.getUserAgent()&&(e[a.getUserAgentHeader()]=await a.getUserAgent())}const t=new Set(["headers","ca","cert","pfx","rejectUnauthorized","agent","perMessageDeflate"]),n=!Object.entries(this.options).some(([e,r])=>t.has(e)&&![null,void 0].includes(r))&&globalThis.WebSocket,i=n||(await r.e(591).then(r.t.bind(r,1591,23))).default;return this._ws=new i(this.url,n?void 0:{headers:e,ca:this.options.ca,cert:this.options.cert,pfx:this.options.pfx,rejectUnauthorized:this.options.rejectUnauthorized,agent:this.options.agent,perMessageDeflate:this._enableCompression}),"binaryType"in this._ws&&(this._ws.binaryType="arraybuffer"),this._ws.addEventListener("open",this.#r),this._ws.addEventListener("error",this.#n),this._ws.on("unexpected-response",this.#i),this._ws.addEventListener("message",this.#o),this._ws.addEventListener("close",this.#a),await this._openPromise}submit(e,t,r,i){const o=(i||a.getUuid()).toLowerCase();if(!o.match(v))throw new Error('Provided requestId "'+o+'" is not a valid UUID.');return this.open().then(()=>new Promise((i,s)=>{"authentication"!==t&&(this._responseHandlers[o]={callback:(e,t)=>e?s(e):i(t),result:null});const c={requestId:o,op:t||"bytecode",processor:e||"eval"===t?e:"traversal",args:r||{}},l=this._writer.writeRequest(c),u=a.toArrayBuffer(n.concat([this._header_buf,l]));this._ws.send(u)}))}stream(e,t,r,i){const s=(i||a.getUuid()).toLowerCase();if(!s.match(v))throw new Error('Provided requestId "'+s+'" is not a valid UUID.');const c=new o.Readable({objectMode:!0,read(){}});return this._responseHandlers[s]={callback:e=>e?c.destroy(e):c.push(null),result:c},this.open().then(()=>{const i={requestId:s,op:t||"bytecode",processor:e||"eval"===t?e:"traversal",args:r||{}},o=this._writer.writeRequest(i),c=a.toArrayBuffer(n.concat([this._header_buf,o]));this._ws.send(c)}).catch(e=>c.destroy(e)),c}#e(e){return e===g?l:e===y?new c.GraphSON2Reader:new c.GraphSONReader}#t(e){return e===g?u:e===y?new c.GraphSON2Writer:new c.GraphSONWriter}#r=()=>{this._openPromise.resolve(),this.isOpen=!0};#i=async(e,t)=>{const r=await new Promise((e,r)=>{const i=[];t.on("data",e=>{i.push(e instanceof n?e:n.from(e))}),t.on("end",()=>{e(i.length?n.concat(i):null)}),t.on("error",r)}),i=`Unexpected server response code ${t.statusCode}`,o=r?`${i} with body:\n${r.toString()}`:i,a=new Error(o);this.#n({error:a,message:o,type:"unexpected-response",target:this._ws})};#n=({error:e})=>{this._openPromise.reject(e),this.emit("log",`ws error ${e}`),this.#s(e),this.emit("socketError",e)};#a=({code:e,message:t})=>{this.emit("log",`ws close code=${e} message=${t}`),this.#s(),this._closeCallback&&this._closeCallback(),this.emit("close",e,t)};#o=({data:e})=>{const t=e instanceof ArrayBuffer?n.from(e):e,r=this._reader.readResponse(t);if(null===r.requestId||void 0===r.requestId)return void Object.keys(this._responseHandlers).forEach(e=>{const t=this._responseHandlers[e];return this.#c(e),void 0!==r.status&&r.status.message?t.callback(new p(`Server error (no request information): ${r.status.message} (${r.status.code})`,r.status)):t.callback(new p(`Server error (no request information): ${JSON.stringify(r)}`,r.status))});r.requestId=r.requestId.toLowerCase();const i=this._responseHandlers[r.requestId];if(!i)return;if(r.status.code===m&&this._authenticator)return void this._authenticator.evaluateChallenge(r.result.data).then(e=>this.submit(void 0,"authentication",e,r.requestId)).catch(i.callback);if(r.status.code>=400)return this.#c(r.requestId),i.callback(new p(`Server error: ${r.status.message} (${r.status.code})`,r.status));const s=i.result instanceof o.Readable;switch(r.status.code){case f:return this.#c(r.requestId),s?(i.result.push(new d(a.emptyArray,r.status.attributes)),i.callback(null)):i.callback(null,new d(a.emptyArray,r.status.attributes));case h:if(s){i.result.push(new d(r.result.data,r.status.attributes));break}i.result=i.result||[],i.result.push.apply(i.result,r.result.data);break;default:return s?(i.result.push(new d(r.result.data,r.status.attributes)),i.callback(null)):(i.result?i.result.push.apply(i.result,r.result.data):i.result=r.result.data,this.#c(r.requestId),i.callback(null,new d(i.result,r.status.attributes)))}};#s(e){Object.keys(this._responseHandlers).forEach(t=>{const r=this._responseHandlers[t];if(r.result instanceof o.Readable)r.callback(null);else{const t=e||new Error("Connection has been closed.");r.callback(t)}}),this._ws.removeEventListener("open",this.#r),this._ws.removeEventListener("error",this.#n),this._ws.off("unexpected-response",this.#i),this._ws.removeEventListener("message",this.#o),this._ws.removeEventListener("close",this.#a),this._openPromise=null,this._closePromise=null,this.isOpen=!1}#c(e){delete this._responseHandlers[e]}close(){return!1===this.isOpen?Promise.resolve():(this._closePromise||(this._closePromise=new Promise(e=>{this._closeCallback=e,this._ws.close()})),this._closePromise)}}},4134:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},4147:(e,t,r)=>{"use strict";const{SymbolDispose:n}=r(4134),{AbortError:i,codes:o}=r(6371),{isNodeStream:a,isWebStream:s,kControllerErrorFunction:c}=r(6115),l=r(6238),{ERR_INVALID_ARG_TYPE:u}=o;let d;e.exports.addAbortSignal=function(t,r){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new u(t,"AbortSignal",e)})(t,"signal"),!a(r)&&!s(r))throw new u("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const o=a(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[c](new i(void 0,{cause:e.reason}))};if(e.aborted)o();else{d=d||r(7760).addAbortListener;const i=d(e,o);l(t,i[n])}return t}},4194:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.UUID]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.UUID,1]):n.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);const r=String(e).replace(/^urn:uuid:/,"").replace(/[{}-]/g,""),i=[];t&&i.push(n.from([this.ioc.DataType.UUID,0]));const o=n.alloc(16,0);for(let e=0;e<16&&2*e<r.length;e++)o[e]=parseInt(r.slice(2*e,2*e+2),16);return i.push(o),n.concat(i)}deserialize(e,t=!0,r=!1){let i=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(i++,e!==this.ioc.DataType.UUID)throw new Error("unexpected {type_code}");o=o.slice(1)}if(t||r){if(o.length<1)throw new Error("{value_flag} is missing");const e=o.readUInt8();if(i++,1===e)return{v:null,len:i};if(0!==e)throw new Error("unexpected {value_flag}");o=o.slice(1)}if(o.length<16)throw new Error("unexpected {value} length");i+=16;return{v:o.slice(0,4).toString("hex")+"-"+o.slice(4,6).toString("hex")+"-"+o.slice(6,8).toString("hex")+"-"+o.slice(8,10).toString("hex")+"-"+o.slice(10,16).toString("hex"),len:i}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},4253:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.TRAVERSER]=this}canBeUsedFor(e){return e instanceof i.Traverser}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.TRAVERSER,1]);const e=[0,0,0,0,0,0,0,1],r=[254,1];return n.from([...e,...r])}const r=[];return t&&r.push(n.from([this.ioc.DataType.TRAVERSER,0])),r.push(this.ioc.longSerializer.serialize(e.bulk,!1)),r.push(this.ioc.anySerializer.serialize(e.object)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.TRAVERSER)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l;try{({v:a,len:s}=this.ioc.longSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{bulk}: "+e.message,e}if(a<0)throw new Error("{bulk} is less than zero");o=o.slice(s);try{({v:c,len:l}=this.ioc.anySerializer.deserialize(o)),r+=l}catch(e){throw e.message="{value}: "+e.message,e}o=o.slice(l);return{v:new i.Traverser(c,a),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},4259:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(4134),{EventEmitter:o}=r(7007);function a(e){o.call(this,e)}function s(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(a.prototype,o.prototype),i(a,o),a.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",c),r.on("close",l));let a=!1;function c(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){d(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function d(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",c),r.removeListener("close",l),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return s(r,"error",u),s(e,"error",u),r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e},e.exports={Stream:a,prependListener:s}},4631:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Neo4jHTTPSDatabaseService:()=>A});var n=r(1982);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,n,i,o){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return a(u,"_invoke",function(r,n,i){var o,a,s,l=0,u=i||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,a=0,s=e,p.n=r,c}};function f(r,n){for(a=r,s=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],f=p.p,h=o[2];r>3?(i=h===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=r<2&&f<o[1])?(a=0,p.v=n,p.n=o[1]):f<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,p.n=h,a=0))}if(i||r>1)return c;throw d=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),a=u,s=h;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(l=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=p.n<0)?s:r.call(n,p))!==c)break}catch(t){o=e,a=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var p=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),f=d.prototype=l.prototype=Object.create(p);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,a(f,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(f),a(f,i,"Generator"),a(f,n,function(){return this}),a(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:h}})()}function a(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}a=function(e,t,r,n){function o(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},a(e,t,r,n)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)})}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var d=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t.uri)throw new Error("Invalid Neo4j configuration: URI is required");if(!(t.neo4j_serverauth||t.username&&t.password))throw new Error("Invalid Neo4j configuration: Either neo4j_serverauth OR both username and password must be provided");if(this.config=t,this.connectionRetryCount=0,this.maxRetries=3,this.baseUrl=this.config.uri,t.neo4j_serverauth)this.authHeader="Basic ".concat(t.neo4j_serverauth);else{var r="".concat(this.config.username,":").concat(this.config.password);this.authHeader="Basic ".concat(btoa(r))}},t=[{key:"executeQuery",value:(a=c(o().m(function e(t,r,n){var i,a,s,c,l,u,d;return o().w(function(e){for(;;)switch(e.n){case 0:return i={statement:t.replaceAll("\n"," "),parameters:r},a={Authorization:this.authHeader,"Content-Type":"application/json",Accept:"application/json"},n&&n.clusterAffinity&&(a["neo4j-cluster-affinity"]=n.clusterAffinity),s=n&&n.id?"".concat(this.baseUrl).concat(this.baseUrl.endsWith("/")?"":"/","tx/").concat(n.id):this.baseUrl,e.n=1,fetch(s,{method:"POST",headers:a,body:JSON.stringify(i)});case 1:if((c=e.v).ok){e.n=3;break}return e.n=2,c.text();case 2:throw l=e.v,new Error("Neo4j Query API Error: ".concat(c.status," ").concat(c.statusText," - ").concat(l));case 3:return e.n=4,c.json();case 4:if(!((u=e.v).errors&&Array.isArray(u.errors)&&u.errors.length>0)){e.n=5;break}throw d=u.errors[0],new Error("Neo4j Error [".concat(d.code,"]: ").concat(d.message));case 5:return e.a(2,u.data?u.data:null)}},e,this)})),function(e,t,r){return a.apply(this,arguments)})},{key:"startTransaction",value:(i=c(o().m(function e(){var t,r,n,i;return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fetch("".concat(this.baseUrl).concat(this.baseUrl.endsWith("/")?"":"/","tx"),{method:"POST",headers:{Authorization:this.authHeader,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});case 1:if((t=e.v).ok){e.n=3;break}return e.n=2,t.text();case 2:throw r=e.v,new Error("Neo4j Transaction Error: ".concat(t.status," ").concat(t.statusText," - ").concat(r));case 3:return e.n=4,t.json();case 4:return n=e.v,i=t.headers.get("neo4j-cluster-affinity"),e.a(2,{id:n.transaction.id,expires:n.transaction.expires,clusterAffinity:i,open:!0})}},e,this)})),function(){return i.apply(this,arguments)})},{key:"commitTransaction",value:(n=c(o().m(function e(t){var r,n;return o().w(function(e){for(;;)switch(e.n){case 0:if(t&&t.id){e.n=1;break}throw new Error("Invalid transaction information");case 1:if(t.open){e.n=2;break}return e.a(2);case 2:return e.n=3,fetch("".concat(this.baseUrl).concat(this.baseUrl.endsWith("/")?"":"/","tx/").concat(t.id,"/commit"),{method:"POST",headers:{Authorization:this.authHeader,"Content-Type":"application/json",Accept:"application/json","neo4j-cluster-affinity":t.clusterAffinity||""},body:JSON.stringify({})});case 3:if((r=e.v).ok){e.n=5;break}return e.n=4,r.text();case 4:throw n=e.v,new Error("Neo4j Commit Error: ".concat(r.status," ").concat(r.statusText," - ").concat(n));case 5:return e.n=6,r.json();case 6:e.v,t.open=!1;case 7:return e.a(2)}},e,this)})),function(e){return n.apply(this,arguments)})}],t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,i,a}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return g(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,s=0,c=e,p.n=r,a}};function f(r,n){for(s=r,c=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],f=p.p,h=o[2];r>3?(i=h===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=r<2&&f<o[1])?(s=0,p.v=n,p.n=o[1]):f<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,p.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,c=h;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(p.n=-1),f(s,c)):p.n=c:p.v=c);try{if(l=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=p.n<0)?c:r.call(n,p))!==a)break}catch(t){o=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(g(t={},n,function(){return this}),t),d=l.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,g(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,g(d,"constructor",l),g(l,"constructor",c),c.displayName="GeneratorFunction",g(l,i,"GeneratorFunction"),g(d),g(d,i,"Generator"),g(d,n,function(){return this}),g(d,"toString",function(){return"[object Generator]"}),(y=function(){return{w:o,m:p}})()}function g(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}g=function(e,t,r,n){function o(t,r){g(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},g(e,t,r,n)}function v(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function b(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){v(o,n,i,a,s,"next",e)}function s(e){v(o,n,i,a,s,"throw",e)}a(void 0)})}}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function _(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}function E(e,t,r){return t=T(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,S()?Reflect.construct(t,r||[],T(e).constructor):t.apply(e,r))}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}var A=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=E(this,t,[e])).config=e,r.connectionManager=new d(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(t,e),r=t,n=[{key:"initialize",value:(f=b(y().m(function e(){return y().w(function(e){for(;;)switch(e.n){case 0:this.dbtype="neo4j";case 1:return e.a(2)}},e,this)})),function(){return f.apply(this,arguments)})},{key:"close",value:(p=b(y().m(function e(){return y().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)})),function(){return p.apply(this,arguments)})},{key:"startTransaction",value:(u=b(y().m(function e(){return y().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.connectionManager.startTransaction();case 1:return e.a(2,e.v)}},e,this)})),function(){return u.apply(this,arguments)})},{key:"endTransaction",value:(l=b(y().m(function e(){var t,r=arguments;return y().w(function(e){for(;;)switch(e.n){case 0:if(null==(t=r.length>0&&void 0!==r[0]?r[0]:null)){e.n=1;break}return e.n=1,this.connectionManager.commitTransaction(t);case 1:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})},{key:"executeInTransaction",value:(c=b(y().m(function e(t,r){var n;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,r(t);case 1:return n=e.v,e.n=2,this.connectionManager.commitTransaction(t);case 2:return e.a(2,n);case 3:throw e.p=3,e.v;case 4:return e.a(2)}},e,this,[[0,3]])})),function(e,t){return c.apply(this,arguments)})},{key:"executeRead",value:(s=b(y().m(function e(t,r){var n,i,o,a,s=arguments;return y().w(function(e){for(;;)switch(e.n){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4&&void 0!==s[4]?s[4]:0,a=s.length>5&&void 0!==s[5]?s[5]:0,e.n=1,this.executeInternal(t,h(h({},r),{},{skip:o,limit:a}),n,i);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"executeWrite",value:(a=b(y().m(function e(t,r){var n,i=arguments;return y().w(function(e){for(;;)switch(e.n){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:null,e.n=1,this.executeInternal(t,r,n,!0);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"executeInternal",value:(o=b(y().m(function e(t,r,n,i){var o,a;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!n||n.id){e.n=1;break}throw new Error("Invalid transaction information");case 1:return e.p=1,utils.debugLog("Executing Neo4j query:\n".concat(t)),e.n=2,this.connectionManager.executeQuery(t,r,n);case 2:o=e.v,e.n=4;break;case 3:throw e.p=3,e.v;case 4:if(a=this.normaliseData(o),!i){e.n=6;break}if(!Array.isArray(a)){e.n=5;break}if(!(a.length>0)){e.n=5;break}return e.a(2,a[0]);case 5:return e.a(2,a);case 6:if(!Array.isArray(a)){e.n=7;break}return e.a(2,a);case 7:if(null==a){e.n=8;break}return e.a(2,[a]);case 8:return e.a(2,[]);case 9:return e.a(2)}},e,this,[[1,3]])})),function(e,t,r,n){return o.apply(this,arguments)})},{key:"normaliseData",value:function(e){var t,r,n=this;return e.fields&&e.fields.length>0?(r=e.fields.map(function(e){var t=e.lastIndexOf(".");return-1===t?e:e.substring(t+1)}),e.values&&(t=0===e.values.length?null:1===e.values.length?this.normaliseRecord(e.values[0],r):e.values.map(function(e){return n.normaliseRecord(e,r)})),t):null}},{key:"normaliseRecord",value:function(e,t){var r,n={};for(r=0;r<e.length;r++)null==e[r]?n[t[r]]=null:this.isDate(e[r])?n[t[r]]=new Date(e[r]):n[t[r]]=e[r];return n}},{key:"isDate",value:function(e){return"string"==typeof e&&/^\d{4}-\d{2}-\d{2}.*$/.test(e)}}],n&&w(r.prototype,n),i&&w(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,o,a,s,c,l,u,p,f}(n.M)},4640:()=>{function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var o={INIT_FAILED:["system","initFailed"],UNEXPECTED_ERROR:["system","unexpectedError"],PROMPT_VALIDATION_ERROR:["system","promptValidationError"],MISSING_FIELDS:["system","missingFields"],EXTRA_FIELDS:["system","extraFields"],ACCESS_LEVEL_MISMATCH:["system","accessLevelMismatch"],NETWORK_ERROR:["network","connectionError"],NEO4J_ERROR:["network","neo4jError"],BATCHED_PROMPTS_LOAD_ERROR:["network","batchedPromptsLoadError"],PROMPT_LOAD_ERROR:["application","promptLoadError"],PRIOR_VERSION_LOAD_ERROR:["application","priorVersionLoadError"],VERSION_NOT_FOUND:["application","versionNotFoundError"],VERSION_LOAD_ERROR:["application","versionLoadError"],PROMPT_SAVE_ERROR:["application","promptSaveError"],VERSION_ACTIVATE_ERROR:["application","versionActivateError"],PROMPT_NOT_FOUND:["application","promptNotFoundError"],PROMPT_CLONE_ERROR:["application","promptCloneError"],PROMPT_ACTIVATION_ERROR:["application","promptActivationError"],PROMPT_DEACTIVATION_ERROR:["application","promptDeactivationError"],AUDIT_HISTORY_ERROR:["application","auditHistoryError"],PROMPT_ID_GENERATION_ERROR:["application","promptIdGenerationError"],PROMPT_EXPORT_ERROR:["application","promptExportError"],PROMPT_IMPORT_ERROR:["application","promptImportError"],SEARCH_ERROR:["application","searchError"],UNIQUE_PROMPT_ID_ERROR:["application","uniquePromptIdRequired"],UNIQUE_INTERNAL_NAME_ERROR:["application","uniqueInternalNameRequired"],NO_PROMPT_TO_ACTIVATE:["application","noPromptToActivate"],NO_PROMPT_TO_DEACTIVATE:["application","noPromptToDeactivate"],SELECT_PROMPT_TO_CLONE:["selection","selectPromptToClone"],SELECT_PROMPT_TO_EXPORT:["selection","selectPromptToExport"],SELECT_VERSION_TO_ACTIVATE:["selection","selectVersionToActivate"],SELECT_PROMPT_TO_DEACTIVATE:["selection","selectPromptToDeactivate"],SELECT_PROMPT_TO_ACTIVATE:["selection","selectPromptToActivate"],PROMPT_ID_REQUIRED:["validation","promptIdRequired"],PROMPT_ID_FORMAT:["validation","promptIdFormatRequired"],NAME_REQUIRED:["validation","nameRequired"],DESCRIPTION_REQUIRED:["validation","descriptionRequired"],MODEL_PROVIDER_REQUIRED:["validation","modelProviderRequired"],MODEL_NAME_REQUIRED:["validation","modelNameRequired"],INTERNAL_NAME_REQUIRED:["validation","internalNameRequired"],UNIQUE_INTERNAL_NAME_REQUIRED:["application","uniqueInternalNameRequired"],MAX_TOKENS_REQUIRED:["validation","maxTokensRequired"],PROMPT_REQUIRED:["validation","promptRequired"],CATEGORY_REQUIRED:["validation","categoryRequired"],TYPE_REQUIRED:["validation","typeRequired"],ACCESS_LEVEL_REQUIRED:["validation","accessLevelRequired"],AREA_FUNCTION_REQUIRED:["validation","areaFunctionRequired"]},a=function(){return t=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},i=null,a=[{key:"showError",value:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n=ErrorHandler.getError(e,t,r),i=n.message,o=n.severity;showError(i,o)}catch(e){var a=ErrorHandler.getError("system","unexpectedError").message;showError(a,"error")}})},{key:"showDirectError",value:function(e){showError(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error")}},{key:"handleValidationErrors",value:function(t){if(t&&0!==t.length){var n=t.map(function(t){try{if("object"===r(t)&&t.code){var n=e(o[t.code]||["validation",t.code],2),i=n[0],a=n[1];try{var s=ErrorHandler.getError(i,a).message;return t.params&&Object.entries(t.params).forEach(function(t){var r=e(t,2),n=r[0],i=r[1];s=Array.isArray(i)?s.replace("{".concat(n,"}"),i.join(", ")):s.replace("{".concat(n,"}"),i)}),s}catch(e){return"".concat(t.code,": ").concat(t.params?JSON.stringify(t.params):"")}}if("string"==typeof t){var c=e(o[t]||["validation",t],2),l=c[0],u=c[1];try{return ErrorHandler.getError(l,u).message}catch(e){return t}}return null}catch(e){return"string"==typeof t?t:t&&"object"===r(t)?JSON.stringify(t):"Unknown error"}}).filter(Boolean);if(n.length>0){var i=n.length>3?"".concat(n.slice(0,3).join("; "),"... and ").concat(n.length-3," more errors"):n.join("; ");showError(i),scrollToTop(".prompt-editor")}}}}],i&&n(t.prototype,i),a&&n(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,a}();window.PromptErrorHandler=a,window.PromptErrorCodes=o},4687:e=>{"use strict";e.exports=class{constructor(e){this.ioc=e}canBeUsedFor(e){return!(!Number.isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY)||("number"==typeof e||"bigint"==typeof e)}serialize(e,t=!0){return"number"==typeof e?Number.isNaN(e)||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY||!Number.isInteger(e)?this.ioc.doubleSerializer.serialize(e,t):e>=-2147483648&&e<=2147483647?this.ioc.intSerializer.serialize(e,t):this.ioc.longSerializer.serialize(e,t):"bigint"==typeof e?this.ioc.bigIntegerSerializer.serialize(e,t):void 0}}},4808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},4948:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(9025)),i=o(r(2311));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v3",48,i.default);t.default=a},4954:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GremlinDatabaseService:()=>R});var n=r(1982);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,n,i,o){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return a(u,"_invoke",function(r,n,i){var o,a,s,l=0,u=i||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,a=0,s=e,p.n=r,c}};function f(r,n){for(a=r,s=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],f=p.p,h=o[2];r>3?(i=h===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=r<2&&f<o[1])?(a=0,p.v=n,p.n=o[1]):f<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,p.n=h,a=0))}if(i||r>1)return c;throw d=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),a=u,s=h;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(l=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=p.n<0)?s:r.call(n,p))!==c)break}catch(t){o=e,a=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var p=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),f=d.prototype=l.prototype=Object.create(p);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,a(f,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(f),a(f,i,"Generator"),a(f,n,function(){return this}),a(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:h}})()}function a(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}a=function(e,t,r,n){function o(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},a(e,t,r,n)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)})}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var d=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t},t=[{key:"initialize",value:(s=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:return this.client=t,e.n=1,this.client.open();case 1:return e.a(2)}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"close",value:(a=c(o().m(function e(){var t,r;return o().w(function(e){for(;;)switch(e.n){case 0:if(null===(t=this.client)||void 0===t||!t.isOpen){e.n=2;break}return e.n=1,null===(r=this.client)||void 0===r?void 0:r.close();case 1:this.client=null;case 2:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"runQuery",value:(n=c(o().m(function e(t){var r,n,i=arguments;return o().w(function(e){for(;;)switch(e.n){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:null,n=i.length>2&&void 0!==i[2]&&i[2],null!=this.client){e.n=1;break}throw new Error("Gremlin client has not been initialised.");case 1:if(this.client.isOpen){e.n=2;break}return e.n=2,this.client.open();case 2:if(!n){e.n=4;break}return e.n=3,this.client.submit(t,r);case 3:case 5:return e.a(2,e.v);case 4:return utils.debugLog(this.prepareQuery(t,r)),e.n=5,this.client.submit(this.prepareQuery(t,r))}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"prepareQuery",value:function(e,t){for(var r,n=this,i=null!=t?t:{},o=[],a=/\$([a-zA-Z0-9_]+)\b/g;null!=(r=a.exec(e));)o.push(r[1]);var s=o.filter(function(e){return!(e in i)});if(s.length>0)throw new Error("One or more parameters, ".concat(s.join(", "),", are referenced in the query but not included in the parameters object."));if(null!=t&&0!==Object.keys(t).length){var c=Object.keys(t).sort(function(e,t){return t.length-e.length}),l=new RegExp("\\$(".concat(c.join("|"),")\\b"),"g");e=e.replace(l,function(e,r){var i=t[r],o=n.sanitiseValue(i);return null===o?"null":o})}return e}},{key:"sanitiseValue",value:function(e){if(null==e)return null;switch(i(e)){case"string":return this.escapeSpecial(e,"'");case"number":case"boolean":return e.toString();case"object":return Array.isArray(e)?!0===e.isRawArray?e.quotedElements?e.map(function(e){return'"'.concat(e,'"')}).join(", "):e.join(", "):"'".concat(JSON.stringify(e),"'"):this.isDate(e)?"'".concat(new Date(e).toISOString(),"'"):this.escapeSpecial(e,'"');default:throw new Error("Unsupported parameter type: ".concat(i(e)))}}},{key:"escapeSpecial",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"'";return"".concat(t).concat(e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\$/g,"\\$").replace(/`/g,"\\u0060")).concat(t)}},{key:"isDate",value:function(e){var t=new Date(e);return!isNaN(t.getTime())}}],t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,a,s}();function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return b(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,s=0,c=e,p.n=r,a}};function f(r,n){for(s=r,c=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],f=p.p,h=o[2];r>3?(i=h===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=r<2&&f<o[1])?(s=0,p.v=n,p.n=o[1]):f<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,p.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,c=h;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(p.n=-1),f(s,c)):p.n=c:p.v=c);try{if(l=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=p.n<0)?c:r.call(n,p))!==a)break}catch(t){o=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(b(t={},n,function(){return this}),t),d=l.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,b(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,b(d,"constructor",l),b(l,"constructor",c),c.displayName="GeneratorFunction",b(l,i,"GeneratorFunction"),b(d),b(d,i,"Generator"),b(d,n,function(){return this}),b(d,"toString",function(){return"[object Generator]"}),(v=function(){return{w:o,m:p}})()}function b(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}b=function(e,t,r,n){function o(t,r){b(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},b(e,t,r,n)}function w(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function _(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){w(o,n,i,a,s,"next",e)}function s(e){w(o,n,i,a,s,"throw",e)}a(void 0)})}}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function S(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}function T(e,t,r){return t=A(t),function(e,t){if(t&&("object"==g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,I()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(I=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var R=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=T(this,t,[e])).config=e,n.gremlin=r,n.gremlinClient=new d(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),r=t,n=[{key:"initialize",value:(u=_(v().m(function e(){var t,r;return v().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=new this.gremlin.driver.auth.PlainTextSaslAuthenticator("/dbs/".concat(this.config.db,"/colls/").concat(this.config.graph),this.config.key),r=new this.gremlin.driver.Client(this.config.endpoint,{authenticator:t,traversalSource:"g",rejectUnauthorized:!0,mimeType:"application/vnd.gremlin-v2.0+json"}),e.n=1,this.gremlinClient.initialize(r);case 1:e.n=3;break;case 2:throw e.p=2,e.v;case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return u.apply(this,arguments)})},{key:"close",value:(l=_(v().m(function e(){return v().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.gremlinClient.close();case 1:case 2:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})},{key:"startTransaction",value:function(){return null}},{key:"endTransaction",value:function(){}},{key:"executeInTransaction",value:(c=_(v().m(function e(t,r){return v().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r(null);case 1:return e.a(2,e.v)}},e)})),function(e,t){return c.apply(this,arguments)})},{key:"transformRecord",value:function(e){if(!e)return null;try{var t={};return e.properties?Object.keys(e.properties).forEach(function(r){var n=e.properties[r];Array.isArray(n)&&n.length>0?t[r]=n[0].value:"string"==typeof n&&n.length>1&&"["===n[0]&&"{"!==n[1]?t[r]=JSON.parse(n):t[r]=n}):e.value&&e.value.properties?Object.keys(e.value.properties).forEach(function(r){var n=e.properties[r];Array.isArray(n)&&n.length>0?t[r]=n[0].value:"string"==typeof n&&n.length>1&&"["===n[0]&&"{"!==n[1]?t[r]=JSON.parse(n):t[r]=n}):"object"===g(e)&&Object.keys(e).forEach(function(r){var n=e[r];"string"==typeof n&&n.length>1&&"["===n[0]&&"{"!==n[1]?t[r]=JSON.parse(n):t[r]=n}),t.created_date&&"string"==typeof t.created_date&&(t.created_date=new Date(t.created_date)),t.last_modified_date&&"string"==typeof t.last_modified_date&&(t.last_modified_date=new Date(t.last_modified_date)),t}catch(t){return e}}},{key:"executeRead",value:(s=_(v().m(function e(t,r){var n,i,o,a,s=arguments;return v().w(function(e){for(;;)if(0===e.n)return n=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4&&void 0!==s[4]?s[4]:0,a=s.length>5&&void 0!==s[5]?s[5]:0,e.a(2,this.executeInternal(t,m(m({},r),{},{skip:o,limit:a+o}),n,i,"WRITE"))},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"executeWrite",value:(a=_(v().m(function e(t,r){var n,i=arguments;return v().w(function(e){for(;;)if(0===e.n)return n=i.length>2&&void 0!==i[2]?i[2]:null,e.a(2,this.executeInternal(t,r,n,!0,"WRITE"))},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"_transformParameters",value:function(e){var t=m({},e);return this.queryStrings&&this.queryStrings.cosmosdb_default_values&&"object"===g(this.queryStrings.cosmosdb_default_values)&&Object.entries(this.queryStrings.cosmosdb_default_values).forEach(function(e){var r=p(e,2),n=r[0],i=r[1],o=t[n];(null==o||"string"==typeof o&&""===o||Array.isArray(o)&&0===o.length)&&(t[n]=i)}),this.queryStrings&&this.queryStrings.cosmosdb_force_lowercase&&Array.isArray(this.queryStrings.cosmosdb_force_lowercase)&&this.queryStrings.cosmosdb_force_lowercase.length>0&&this.queryStrings.cosmosdb_force_lowercase.forEach(function(e){e in t&&"string"==typeof t[e]&&(t[e]=t[e].toLowerCase())}),t}},{key:"executeInternal",value:(o=_(v().m(function e(t,r,n,i,o){var a,s,c;return v().w(function(e){for(;;)switch(e.n){case 0:return s=this._transformParameters(r),utils.debugLog("Executing Gremlin query:\n".concat(t)),e.n=1,this.gremlinClient.runQuery(t,m(m({},s),{},{partitionkeyproperty:this.config.partitionkeyproperty,partitionkeyvalue:this.config.partitionkeyvalue}));case 1:if(a=e.v,c=this.normaliseData(a),!i){e.n=3;break}if(!Array.isArray(c)){e.n=2;break}if(!(c.length>0)){e.n=2;break}return e.a(2,c[0]);case 2:return e.a(2,c);case 3:if(!Array.isArray(c)){e.n=4;break}return e.a(2,c);case 4:if(null==c){e.n=5;break}return e.a(2,[c]);case 5:return e.a(2,[]);case 6:return e.a(2)}},e,this)})),function(e,t,r,n,i){return o.apply(this,arguments)})},{key:"normaliseData",value:function(e){var t=this;return 0===e._items.length?null:1===e._items.length?this.transformRecord(e._items[0]):e._items.map(function(e){return t.transformRecord(e)})}}],n&&E(r.prototype,n),i&&E(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,o,a,s,c,l,u}(n.M)},4957:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BIGINTEGER]=this}canBeUsedFor(e){return"bigint"==typeof e}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BIGINTEGER,1]):n.from([0,0,0,1,0]);const r=[];let i;if(t&&r.push(n.from([this.ioc.DataType.BIGINTEGER,0])),e>=0){let t=e.toString(16);t.length%2!=0&&(t="0"+t),Number.parseInt(t[0],16)>7&&(t="00"+t),i=n.from(t,"hex")}else{let t=(-e).toString(16);const r=(t.length+t.length%2)/2;let o=BigInt(r)*BigInt(8);e<-(BigInt(2)**(o-BigInt(1)))&&(o+=BigInt(8));t=(BigInt(2)**o+e).toString(16),t.length%2!=0&&(t="0"+t),i=n.from(t,"hex")}return r.push(this.ioc.intSerializer.serialize(i.length,!1)),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BIGINTEGER)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<1)throw new Error(`{length}=${o} is less than one`);i=i.slice(a),r+=o,i=i.slice(0,o);let s=BigInt(`0x${i.toString("hex")}`);return!(128&~i[0])&&(s=BigInt.asIntN(8*o,s)),{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},5073:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(6140)),i=a(r(2858)),o=r(9910);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,o.unsafeStringify)(a)};t.default=s},5094:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.PATH]=this}canBeUsedFor(e){return e instanceof i.Path}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.PATH,1]):n.concat([this.ioc.listSerializer.serialize([]),this.ioc.listSerializer.serialize([])]);const r=[];return t&&r.push(n.from([this.ioc.DataType.PATH,0])),r.push(this.ioc.listSerializer.serialize(e.labels)),r.push(this.ioc.listSerializer.serialize(e.objects)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.PATH)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l;try{({v:a,len:s}=this.ioc.listSerializer.deserialize(o)),r+=s}catch(e){throw e.message="{labels}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.listSerializer.deserialize(o)),r+=l}catch(e){throw e.message="{objects}: "+e.message,e}o=o.slice(l);return{v:new i.Path(a,c),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},5118:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n(){var e,t,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function s(r,n,o,a){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return i(u,"_invoke",function(r,n,i){var o,a,s,l=0,u=i||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,a=0,s=e,p.n=r,c}};function f(r,n){for(a=r,s=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],f=p.p,h=o[2];r>3?(i=h===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=r<2&&f<o[1])?(a=0,p.v=n,p.n=o[1]):f<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,p.n=h,a=0))}if(i||r>1)return c;throw d=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),a=u,s=h;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(l=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=p.n<0)?s:r.call(n,p))!==c)break}catch(t){o=e,a=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,o,a),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var p=[][o]?t(t([][o]())):(i(t={},o,function(){return this}),t),f=d.prototype=l.prototype=Object.create(p);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,i(f,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,o,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(n=function(){return{w:s,m:h}})()}function i(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,t,r,n){function a(t,r){i(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},i(e,t,r,n)}function o(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var c=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fallbackLocale="en-US",this.eventListeners=new Map,this.initialized=!1},r=[{key:"initializePluralRules",value:function(){var e=this;Object.keys(localeConfigs).forEach(function(t){try{e.pluralRules[t]=new Intl.PluralRules(t)}catch(r){e.pluralRules[t]=new Intl.PluralRules("en-US")}})}},{key:"interpolate",value:function(e,t){return e?t&&0!==Object.keys(t).length?e.replace(/\{(\w+)\}/g,function(e,r){return void 0!==t[r]?t[r]:e}):e:""}},{key:"getPlural",value:function(e,t){var r=this.getTranslation(e);if(!r)return e;if(!r.plural)return r.text||e;var n=this.pluralRules[this.currentLocale].select(t);return r.plural[n]||r.text}},{key:"initialize",value:function(e){if(!this.initialized){var t=e||this.fallbackLocale;this.setLocale(t),this.culturalConfig=new CulturalConfig(t),this.pluralRules={},this.initializePluralRules(),this.initialized=!0}}},{key:"setLocale",value:(s=n().m(function e(t){var r;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:if(localeConfigs[t]){e.n=1;break}return e.a(2,!1);case 1:if(e.p=1,this.currentLocale===t){e.n=3;break}if(null!=(r=localeConfigs[t])&&r.translations){e.n=2;break}throw new Error("Translations not found for locale: ".concat(t));case 2:this.currentLocale=t,this.culturalConfig=new CulturalConfig(t),document.documentElement.setAttribute("dir",this.culturalConfig.isRTL()?"rtl":"ltr"),document.documentElement.setAttribute("lang",t.split("-")[0]),this.emit("localeChanged",{locale:t,direction:this.culturalConfig.isRTL()?"rtl":"ltr",culturalPreferences:this.culturalConfig.getCulturalPreferences()});case 3:return e.a(2,!0);case 4:if(e.p=4,e.v,t===this.fallbackLocale){e.n=5;break}return e.a(2,this.setLocale(this.fallbackLocale));case 5:return e.a(2,!1)}},e,this,[[1,4]])}),c=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=s.apply(e,t);function a(e){o(i,r,n,a,c,"next",e)}function c(e){o(i,r,n,a,c,"throw",e)}a(void 0)})},function(e){return c.apply(this,arguments)})},{key:"getTranslation",value:function(e){if(!e)return null;var t=e.split("."),r="errors"===t[0];return this.findTranslation(t,r)}},{key:"findTranslation",value:function(e,t){return this.getTranslationFromLocale(this.currentLocale,e,t)||this.getTranslationFromLocale(this.fallbackLocale,e,t)}},{key:"getTranslationFromLocale",value:function(e,t,r){var n,i=localeConfigs[e],o=r?null==i?void 0:i.errors:null==i?void 0:i.translations;return r?null==o||null===(n=o[t[1]])||void 0===n?void 0:n[t[2]]:t.reduce(function(e,t){return null==e?void 0:e[t]},o)}},{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=this.getTranslation(e);if(!r)return e;var n=r.text;return"count"in t&&(n=this.getPlural(e,t.count)),this.interpolate(n,t)}catch(t){return e}}},{key:"translateError",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n="errors.".concat(e,".").concat(t),i=this.getTranslation(n);return i?{text:this.interpolate(i.text,r),severity:i.severity||"error"}:{text:"".concat(e,".").concat(t),severity:"error"}}catch(i){return{text:"".concat(e,".").concat(t),severity:"error"}}}},{key:"formatDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";return this.culturalConfig.formatDate(e,t)}},{key:"formatTime",value:function(e){return this.culturalConfig.formatDate(e,"time")}},{key:"formatRelativeTime",value:function(e){for(var r=new Intl.RelativeTimeFormat(this.currentLocale,{numeric:"auto"}),n=(new Date(e).getTime()-Date.now())/1e3,i=0,o=Object.entries({year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1});i<o.length;i++){var a=t(o[i],2),s=a[0],c=a[1];if(Math.abs(n)>=c||"second"===s){var l=Math.round(n/c);return r.format(l,s)}}}},{key:"formatNumber",value:function(e,t){return this.culturalConfig.formatNumber(e,t)}},{key:"formatCurrency",value:function(e,t){return this.culturalConfig.formatCurrency(e,t)}},{key:"on",value:function(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e).add(t)}},{key:"off",value:function(e,t){this.eventListeners.has(e)&&this.eventListeners.get(e).delete(t)}},{key:"emit",value:function(e,t){this.eventListeners.has(e)&&this.eventListeners.get(e).forEach(function(e){try{e(t)}catch(e){}})}}],i=[{key:"detectUserLocale",value:function(){var e=navigator.language;return localeConfigs[e]?e:"en-US"}}],r&&a(e.prototype,r),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i,s,c}();window.i18n=new c},5127:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.serializers=[e.unspecifiedNullSerializer,e.numberSerializationStrategy,e.booleanSerializer,e.dateSerializer,e.bytecodeSerializer,e.pSerializer,e.traverserSerializer,e.enumSerializer,e.listSerializer,e.uuidSerializer,e.edgeSerializer,e.pathSerializer,e.propertySerializer,e.vertexSerializer,e.vertexPropertySerializer,e.stringSerializer,e.textPSerializer,e.traversalStrategySerializer,e.byteBufferSerializer,e.lambdaSerializer,e.mapSerializer]}getSerializerCanBeUsedFor(e){for(let t=0;t<this.serializers.length;t++)if(this.serializers[t].canBeUsedFor(e))return this.serializers[t];throw new Error(`No serializer found to support item where typeof(item)='${typeof e}' and String(item)='${String(e)}'.`)}serialize(e,t=!0){return this.getSerializerCanBeUsedFor(e).serialize(e,t)}deserialize(e){try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");const t=e.readUInt8(),r=this.ioc.serializers[t];if(!r)throw new Error("unknown {type_code}");return r.deserialize(e)}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,err:e})}}}},5283:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function n(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}var i=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"getError",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n=i18n.translateError(e,t,r);return{message:n.text,severity:n.severity}}catch(r){return{message:localeConfigs["en-US"].translations.errors[e][t].text,severity:localeConfigs["en-US"].translations.errors[e][t].severity}}}}],(t=null)&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();e.exports&&(e.exports={ErrorHandler:i}),window.ErrorHandler=i},5291:(e,t,r)=>{"use strict";const{MathFloor:n,NumberIsInteger:i}=r(4134),{validateInteger:o}=r(277),{ERR_INVALID_ARG_VALUE:a}=r(6371).codes;let s=16384,c=16;function l(e){return e?c:s}e.exports={getHighWaterMark:function(e,t,r,o){const s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=s){if(!i(s)||s<0){throw new a(o?`options.${r}`:"options.highWaterMark",s)}return n(s)}return l(e.objectMode)},getDefaultHighWaterMark:l,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?c=t:s=t}}},5332:(e,t,r)=>{"use strict";const{Traversal:n,cardinality:i}=r(1545),{Transaction:o}=r(9899),a=r(5737),s=r(9032),{TraversalStrategies:c,VertexProgramStrategy:l,OptionsStrategy:u}=r(3335);class d{constructor(e,t,r,n,i){this.graph=e,this.traversalStrategies=t,this.bytecode=r||new s,this.graphTraversalSourceClass=n||d,this.graphTraversalClass=i||p;const o=t.strategies.find(e=>"js:RemoteStrategy"===e.fqcn);this.remoteConnection=void 0!==o?o.connection:void 0}withRemote(e){const t=new c(this.traversalStrategies);return t.addStrategy(new a.RemoteStrategy(e)),new this.graphTraversalSourceClass(this.graph,t,new s(this.bytecode),this.graphTraversalSourceClass,this.graphTraversalClass)}tx(){if(this.remoteConnection&&this.remoteConnection.isSessionBound)throw new Error("This TraversalSource is already bound to a transaction - child transactions are not supported");return new o(this)}withComputer(e,t,r,n,i,o,a){const s={};return void 0!==e&&(s.graphComputer=e),void 0!==t&&(s.workers=t),void 0!==r&&(s.result=r),void 0!==n&&(s.graphComputer=n),void 0!==i&&(s.vertices=i),void 0!==o&&(s.edges=o),void 0!==a&&(s.configuration=a),this.withStrategies(new l(s))}with_(e,t=void 0){const r=void 0===t||t;let n=this.bytecode.sourceInstructions.find(e=>"withStrategies"===e[0]&&e[1]instanceof u);return void 0===n?(n=new u({[e]:r}),this.withStrategies(n)):(n[1].configuration[e]=r,new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),this.bytecode,this.graphTraversalSourceClass,this.graphTraversalClass))}toString(){return"graphtraversalsource["+this.graph.toString()+"]"}withBulk(...e){const t=new s(this.bytecode).addSource("withBulk",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withPath(...e){const t=new s(this.bytecode).addSource("withPath",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withSack(...e){const t=new s(this.bytecode).addSource("withSack",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withSideEffect(...e){const t=new s(this.bytecode).addSource("withSideEffect",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withStrategies(...e){const t=new s(this.bytecode).addSource("withStrategies",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withoutStrategies(...e){const t=new s(this.bytecode).addSource("withoutStrategies",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}E(...e){const t=new s(this.bytecode).addStep("E",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}V(...e){const t=new s(this.bytecode).addStep("V",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}addE(...e){const t=new s(this.bytecode).addStep("addE",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}mergeE(...e){const t=new s(this.bytecode).addStep("mergeE",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}addV(...e){const t=new s(this.bytecode).addStep("addV",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}mergeV(...e){const t=new s(this.bytecode).addStep("mergeV",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}inject(...e){const t=new s(this.bytecode).addStep("inject",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}io(...e){const t=new s(this.bytecode).addStep("io",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}call(...e){const t=new s(this.bytecode).addStep("call",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}union(...e){const t=new s(this.bytecode).addStep("union",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}}class p extends n{constructor(e,t,r){super(e,t,r)}clone(){return new p(this.graph,this.traversalStrategies,this.getBytecode())}V(...e){return this.bytecode.addStep("V",e),this}E(...e){return this.bytecode.addStep("E",e),this}addE(...e){return this.bytecode.addStep("addE",e),this}addV(...e){return this.bytecode.addStep("addV",e),this}aggregate(...e){return this.bytecode.addStep("aggregate",e),this}all(...e){return this.bytecode.addStep("all",e),this}and(...e){return this.bytecode.addStep("and",e),this}any(...e){return this.bytecode.addStep("any",e),this}as(...e){return this.bytecode.addStep("as",e),this}asDate(...e){return this.bytecode.addStep("asDate",e),this}asString(...e){return this.bytecode.addStep("asString",e),this}barrier(...e){return this.bytecode.addStep("barrier",e),this}both(...e){return this.bytecode.addStep("both",e),this}bothE(...e){return this.bytecode.addStep("bothE",e),this}bothV(...e){return this.bytecode.addStep("bothV",e),this}branch(...e){return this.bytecode.addStep("branch",e),this}by(...e){return this.bytecode.addStep("by",e),this}call(...e){return this.bytecode.addStep("call",e),this}cap(...e){return this.bytecode.addStep("cap",e),this}choose(...e){return this.bytecode.addStep("choose",e),this}coalesce(...e){return this.bytecode.addStep("coalesce",e),this}coin(...e){return this.bytecode.addStep("coin",e),this}combine(...e){return this.bytecode.addStep("combine",e),this}concat(...e){return this.bytecode.addStep("concat",e),this}conjoin(...e){return this.bytecode.addStep("conjoin",e),this}connectedComponent(...e){return this.bytecode.addStep("connectedComponent",e),this}constant(...e){return this.bytecode.addStep("constant",e),this}count(...e){return this.bytecode.addStep("count",e),this}cyclicPath(...e){return this.bytecode.addStep("cyclicPath",e),this}dateAdd(...e){return this.bytecode.addStep("dateAdd",e),this}dateDiff(...e){return this.bytecode.addStep("dateDiff",e),this}dedup(...e){return this.bytecode.addStep("dedup",e),this}difference(...e){return this.bytecode.addStep("difference",e),this}disjunct(...e){return this.bytecode.addStep("disjunct",e),this}drop(...e){return this.bytecode.addStep("drop",e),this}element(...e){return this.bytecode.addStep("element",e),this}elementMap(...e){return this.bytecode.addStep("elementMap",e),this}emit(...e){return this.bytecode.addStep("emit",e),this}fail(...e){return this.bytecode.addStep("fail",e),this}filter(...e){return this.bytecode.addStep("filter",e),this}flatMap(...e){return this.bytecode.addStep("flatMap",e),this}fold(...e){return this.bytecode.addStep("fold",e),this}format(...e){return this.bytecode.addStep("format",e),this}from_(...e){return this.bytecode.addStep("from",e),this}group(...e){return this.bytecode.addStep("group",e),this}groupCount(...e){return this.bytecode.addStep("groupCount",e),this}has(...e){return this.bytecode.addStep("has",e),this}hasId(...e){return this.bytecode.addStep("hasId",e),this}hasKey(...e){return this.bytecode.addStep("hasKey",e),this}hasLabel(...e){return this.bytecode.addStep("hasLabel",e),this}hasNot(...e){return this.bytecode.addStep("hasNot",e),this}hasValue(...e){return this.bytecode.addStep("hasValue",e),this}id(...e){return this.bytecode.addStep("id",e),this}identity(...e){return this.bytecode.addStep("identity",e),this}in_(...e){return this.bytecode.addStep("in",e),this}inE(...e){return this.bytecode.addStep("inE",e),this}inV(...e){return this.bytecode.addStep("inV",e),this}index(...e){return this.bytecode.addStep("index",e),this}inject(...e){return this.bytecode.addStep("inject",e),this}intersect(...e){return this.bytecode.addStep("intersect",e),this}is(...e){return this.bytecode.addStep("is",e),this}key(...e){return this.bytecode.addStep("key",e),this}label(...e){return this.bytecode.addStep("label",e),this}length(...e){return this.bytecode.addStep("length",e),this}limit(...e){return this.bytecode.addStep("limit",e),this}local(...e){return this.bytecode.addStep("local",e),this}loops(...e){return this.bytecode.addStep("loops",e),this}lTrim(...e){return this.bytecode.addStep("lTrim",e),this}map(...e){return this.bytecode.addStep("map",e),this}match(...e){return this.bytecode.addStep("match",e),this}math(...e){return this.bytecode.addStep("math",e),this}max(...e){return this.bytecode.addStep("max",e),this}mean(...e){return this.bytecode.addStep("mean",e),this}merge(...e){return this.bytecode.addStep("merge",e),this}mergeE(...e){return this.bytecode.addStep("mergeE",e),this}mergeV(...e){return this.bytecode.addStep("mergeV",e),this}min(...e){return this.bytecode.addStep("min",e),this}none(...e){return this.bytecode.addStep("none",e),this}not(...e){return this.bytecode.addStep("not",e),this}option(...e){return this.bytecode.addStep("option",e),this}optional(...e){return this.bytecode.addStep("optional",e),this}or(...e){return this.bytecode.addStep("or",e),this}order(...e){return this.bytecode.addStep("order",e),this}otherV(...e){return this.bytecode.addStep("otherV",e),this}out(...e){return this.bytecode.addStep("out",e),this}outE(...e){return this.bytecode.addStep("outE",e),this}outV(...e){return this.bytecode.addStep("outV",e),this}pageRank(...e){return this.bytecode.addStep("pageRank",e),this}path(...e){return this.bytecode.addStep("path",e),this}peerPressure(...e){return this.bytecode.addStep("peerPressure",e),this}product(...e){return this.bytecode.addStep("product",e),this}profile(...e){return this.bytecode.addStep("profile",e),this}program(...e){return this.bytecode.addStep("program",e),this}project(...e){return this.bytecode.addStep("project",e),this}properties(...e){return this.bytecode.addStep("properties",e),this}property(...e){return this.bytecode.addStep("property",e),this}propertyMap(...e){return this.bytecode.addStep("propertyMap",e),this}range(...e){return this.bytecode.addStep("range",e),this}read(...e){return this.bytecode.addStep("read",e),this}repeat(...e){return this.bytecode.addStep("repeat",e),this}replace(...e){return this.bytecode.addStep("replace",e),this}reverse(...e){return this.bytecode.addStep("reverse",e),this}rTrim(...e){return this.bytecode.addStep("rTrim",e),this}sack(...e){return this.bytecode.addStep("sack",e),this}sample(...e){return this.bytecode.addStep("sample",e),this}select(...e){return this.bytecode.addStep("select",e),this}shortestPath(...e){return this.bytecode.addStep("shortestPath",e),this}sideEffect(...e){return this.bytecode.addStep("sideEffect",e),this}simplePath(...e){return this.bytecode.addStep("simplePath",e),this}skip(...e){return this.bytecode.addStep("skip",e),this}split(...e){return this.bytecode.addStep("split",e),this}store(...e){return this.bytecode.addStep("store",e),this}subgraph(...e){return this.bytecode.addStep("subgraph",e),this}substring(...e){return this.bytecode.addStep("substring",e),this}sum(...e){return this.bytecode.addStep("sum",e),this}tail(...e){return this.bytecode.addStep("tail",e),this}timeLimit(...e){return this.bytecode.addStep("timeLimit",e),this}times(...e){return this.bytecode.addStep("times",e),this}to(...e){return this.bytecode.addStep("to",e),this}toE(...e){return this.bytecode.addStep("toE",e),this}toLower(...e){return this.bytecode.addStep("toLower",e),this}toUpper(...e){return this.bytecode.addStep("toUpper",e),this}toV(...e){return this.bytecode.addStep("toV",e),this}tree(...e){return this.bytecode.addStep("tree",e),this}trim(...e){return this.bytecode.addStep("trim",e),this}unfold(...e){return this.bytecode.addStep("unfold",e),this}union(...e){return this.bytecode.addStep("union",e),this}until(...e){return this.bytecode.addStep("until",e),this}value(...e){return this.bytecode.addStep("value",e),this}valueMap(...e){return this.bytecode.addStep("valueMap",e),this}values(...e){return this.bytecode.addStep("values",e),this}where(...e){return this.bytecode.addStep("where",e),this}with_(...e){return this.bytecode.addStep("with",e),this}write(...e){return this.bytecode.addStep("write",e),this}}class f extends s{constructor(e,t){super(),this.addSource("CardinalityValueTraversal",[e,t])}static single(e){return new f(i.single,e)}static list(e){return new f(i.list,e)}static set(e){return new f(i.set,e)}}function h(e,t){const r=new p(null,null,new s);return r[e].apply(r,t)}const m={E:(...e)=>h("E",e),V:(...e)=>h("V",e),addE:(...e)=>h("addE",e),addV:(...e)=>h("addV",e),aggregate:(...e)=>h("aggregate",e),all:(...e)=>h("all",e),and:(...e)=>h("and",e),any:(...e)=>h("any",e),as:(...e)=>h("as",e),asDate:(...e)=>h("asDate",e),asString:(...e)=>h("asString",e),barrier:(...e)=>h("barrier",e),both:(...e)=>h("both",e),bothE:(...e)=>h("bothE",e),bothV:(...e)=>h("bothV",e),branch:(...e)=>h("branch",e),call:(...e)=>h("call",e),cap:(...e)=>h("cap",e),choose:(...e)=>h("choose",e),coalesce:(...e)=>h("coalesce",e),coin:(...e)=>h("coin",e),concat:(...e)=>h("concat",e),constant:(...e)=>h("constant",e),count:(...e)=>h("count",e),cyclicPath:(...e)=>h("cyclicPath",e),dateAdd:(...e)=>h("dateAdd",e),dateDiff:(...e)=>h("dateDiff",e),dedup:(...e)=>h("dedup",e),disjunct:(...e)=>h("disjunct",e),drop:(...e)=>h("drop",e),element:(...e)=>h("element",e),elementMap:(...e)=>h("elementMap",e),emit:(...e)=>h("emit",e),fail:(...e)=>h("fail",e),filter:(...e)=>h("filter",e),flatMap:(...e)=>h("flatMap",e),fold:(...e)=>h("fold",e),format:(...e)=>h("format",e),group:(...e)=>h("group",e),groupCount:(...e)=>h("groupCount",e),has:(...e)=>h("has",e),hasId:(...e)=>h("hasId",e),hasKey:(...e)=>h("hasKey",e),hasLabel:(...e)=>h("hasLabel",e),hasNot:(...e)=>h("hasNot",e),hasValue:(...e)=>h("hasValue",e),id:(...e)=>h("id",e),identity:(...e)=>h("identity",e),in_:(...e)=>h("in_",e),inE:(...e)=>h("inE",e),inV:(...e)=>h("inV",e),index:(...e)=>h("index",e),inject:(...e)=>h("inject",e),is:(...e)=>h("is",e),key:(...e)=>h("key",e),label:(...e)=>h("label",e),length:(...e)=>h("length",e),limit:(...e)=>h("limit",e),local:(...e)=>h("local",e),loops:(...e)=>h("loops",e),lTrim:(...e)=>h("lTrim",e),map:(...e)=>h("map",e),match:(...e)=>h("match",e),math:(...e)=>h("math",e),max:(...e)=>h("max",e),mean:(...e)=>h("mean",e),mergeE:(...e)=>h("mergeE",e),mergeV:(...e)=>h("mergeV",e),min:(...e)=>h("min",e),none:(...e)=>h("none",e),not:(...e)=>h("not",e),optional:(...e)=>h("optional",e),or:(...e)=>h("or",e),order:(...e)=>h("order",e),otherV:(...e)=>h("otherV",e),out:(...e)=>h("out",e),outE:(...e)=>h("outE",e),outV:(...e)=>h("outV",e),path:(...e)=>h("path",e),project:(...e)=>h("project",e),properties:(...e)=>h("properties",e),property:(...e)=>h("property",e),propertyMap:(...e)=>h("propertyMap",e),range:(...e)=>h("range",e),repeat:(...e)=>h("repeat",e),replace:(...e)=>h("replace",e),reverse:(...e)=>h("reverse",e),rTrim:(...e)=>h("rTrim",e),sack:(...e)=>h("sack",e),sample:(...e)=>h("sample",e),select:(...e)=>h("select",e),sideEffect:(...e)=>h("sideEffect",e),simplePath:(...e)=>h("simplePath",e),skip:(...e)=>h("skip",e),split:(...e)=>h("split",e),store:(...e)=>h("store",e),subgraph:(...e)=>h("subgraph",e),substring:(...e)=>h("substring",e),sum:(...e)=>h("sum",e),tail:(...e)=>h("tail",e),timeLimit:(...e)=>h("timeLimit",e),times:(...e)=>h("times",e),to:(...e)=>h("to",e),toE:(...e)=>h("toE",e),toLower:(...e)=>h("toLower",e),toUpper:(...e)=>h("toUpper",e),toV:(...e)=>h("toV",e),tree:(...e)=>h("tree",e),trim:(...e)=>h("trim",e),unfold:(...e)=>h("unfold",e),union:(...e)=>h("union",e),until:(...e)=>h("until",e),value:(...e)=>h("value",e),valueMap:(...e)=>h("valueMap",e),values:(...e)=>h("values",e),where:(...e)=>h("where",e)};e.exports={GraphTraversal:p,GraphTraversalSource:d,CardinalityValue:f,statics:m}},5506:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:a}=r(4134),{promisify:{custom:s}}=r(7760),{streamReturningOperators:c,promiseReturningOperators:l}=r(823),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=r(6371),d=r(7830),{setDefaultHighWaterMark:p,getDefaultHighWaterMark:f}=r(5291),{pipeline:h}=r(7758),{destroyer:m}=r(5896),y=r(6238),g=r(3095),v=r(6115),b=e.exports=r(4259).Stream;b.isDestroyed=v.isDestroyed,b.isDisturbed=v.isDisturbed,b.isErrored=v.isErrored,b.isReadable=v.isReadable,b.isWritable=v.isWritable,b.Readable=r(7576);for(const _ of o(c)){const E=c[_];function S(...e){if(new.target)throw u();return b.Readable.from(a(E,this,e))}i(S,"name",{__proto__:null,value:E.name}),i(S,"length",{__proto__:null,value:E.length}),i(b.Readable.prototype,_,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(const T of o(l)){const I=l[T];function A(...e){if(new.target)throw u();return a(I,this,e)}i(A,"name",{__proto__:null,value:I.name}),i(A,"length",{__proto__:null,value:I.length}),i(b.Readable.prototype,T,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}b.Writable=r(8584),b.Duplex=r(3370),b.Transform=r(7382),b.PassThrough=r(6524),b.pipeline=h;const{addAbortSignal:w}=r(4147);b.addAbortSignal=w,b.finished=y,b.destroy=m,b.compose=d,b.setDefaultHighWaterMark=p,b.getDefaultHighWaterMark=f,i(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>g}),i(h,s,{__proto__:null,enumerable:!0,get:()=>g.pipeline}),i(y,s,{__proto__:null,enumerable:!0,get:()=>g.finished}),b.Stream=b,b._isUint8Array=function(e){return e instanceof Uint8Array},b._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},5568:e=>{"use strict";const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},5606:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,u=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&p())}function p(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},5737:(e,t,r)=>{"use strict";const n=r(1545),i=r(3335).TraversalStrategy;class o extends n.Traversal{constructor(e,t){super(null,null,null),this.traversers=e,this.sideEffects=t}}e.exports={RemoteConnection:class{constructor(e,t={}){this.url=e,this.options=t}open(){throw new Error("open() must be implemented")}get isOpen(){throw new Error("isOpen() must be implemented")}get isSessionBound(){return!1}submit(e){throw new Error("submit() must be implemented")}createSession(){throw new Error("createSession() must be implemented")}commit(){throw new Error("commit() must be implemented")}rollback(){throw new Error("rollback() must be implemented")}close(){throw new Error("close() must be implemented")}},RemoteStrategy:class extends i{constructor(e){super("js:RemoteStrategy"),this.connection=e}apply(e){return e.traversers?Promise.resolve():this.connection.submit(e.getBytecode()).then(function(t){e.sideEffects=t.sideEffects,e.traversers=t.traversers})}},RemoteTraversal:o}},5896:(e,t,r)=>{"use strict";const n=r(5606),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=r(6371),{Symbol:s}=r(4134),{kIsDestroyed:c,isDestroyed:l,isFinished:u,isServerRequest:d}=r(6115),p=s("kDestroy"),f=s("kConstruct");function h(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function m(e,t,r){let i=!1;function o(t){if(i)return;i=!0;const o=e._readableState,a=e._writableState;h(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(y,e,t):n.nextTick(g,e)}try{e._destroy(t||null,o)}catch(t){o(t)}}function y(e,t){v(e,t),g(e)}function g(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function v(e,t){const r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function b(e,t,r){const i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(v,e,t):v(e,t))}function w(e){let t=!1;function r(r){if(t)return void b(e,null!=r?r:new o);t=!0;const i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(p,r):r?b(e,r,!0):n.nextTick(_,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function _(e){e.emit(f)}function E(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function S(e){e.emit("close")}function T(e,t){e.emit("error",t),n.nextTick(S,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(f,t),e.listenerCount(f)>1||n.nextTick(w,e)},destroyer:function(e,t){e&&!l(e)&&(t||u(e)||(t=new a),d(e)?(e.socket=null,e.destroy(t)):E(e)?e.abort():E(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(T,e,t):n.nextTick(S,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(h(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?m(this,e,t):this.once(p,function(r){m(this,i(r,e),t)}),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:b}},5976:(e,t,r)=>{"use strict";var n={name:"Prompt Management",number:"1.6",buildDate:(new Date).toISOString()};window.APP_VERSION=n;var i=r(1982),o={cosmosdb_force_lowercase:["category","prompt_id","tags","name","searchTerm"],ACTIVATE_PRIOR_VERSION:{neo4j:"\n                MATCH (p:Prompt {prompt_id: $promptId})\n                WITH p, (p.version = $selectedVersion) as isTargetVersion\n                SET p.active = isTargetVersion\n                WITH p WHERE isTargetVersion\n                RETURN \n                    p.created_date, p.last_modified_date, p.version,\n                    p.prompt_id, p.name, p.internal_name, \n                    p.description, p.prompt, p.system_prompt, p.type, \n                    p.max_tokens, p.model_provider, p.model_name,\n                    p.access_level, p.category, p.reserved_fields, \n                    p.tags, p.active, p.author\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt')\n                .has('prompt_id', $promptId)\n                .property('active', false)\n                .V().hasLabel('Prompt')\n                .has('prompt_id', $promptId)\n                .has('version', $selectedVersion)\n                .property('active', true)\n                .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},ACTIVATE_PROMPT_CHAIN:{neo4j:"\n                MATCH (p:Prompt {prompt_id: $promptId})\n                WITH collect(p) as allPrompts, max(toInteger(p.version)) as maxVersion\n                UNWIND allPrompts as prompt\n                WITH prompt, toInteger(prompt.version) as version, maxVersion\n                SET prompt.active = (version = maxVersion)\n                WITH prompt, version WHERE version = maxVersion\n                RETURN prompt.prompt_id as activatedPromptId, prompt.version as activatedVersion\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt')\n                .has('prompt_id', $promptId)\n                .order().by('version', decr)\n                .limit(1)\n                .property('active', true)\n                .as('latestPrompt')\n                .V().hasLabel('Prompt')\n                .has('prompt_id', $promptId)\n                .where(neq('latestPrompt'))\n                .property('active', false)\n                .select('latestPrompt')\n                .project('activatedPromptId')\n                .by('prompt_id')\n        "},CHECK_INTERNAL_NAME_UNIQUE:{neo4j:"\n                MATCH (p:Prompt) \n                WHERE p.internal_name = $internalName \n                AND p.active = true\n                AND ($currentPromptId IS NULL OR p.prompt_id <> $currentPromptId)\n                RETURN count(p) as count\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt')\n                .has('internal_name', $internalName)\n                .has('active', true)\n                .where(\n                    __.choose(\n                        __.constant($currentPromptId).is(null),\n                        __.identity(),\n                        __.not(__.has('prompt_id', $currentPromptId))\n                    )\n                )\n                .count()\n                .project('count').by()\n        "},CHECK_NAME_UNIQUE:{neo4j:"\n                MATCH (p:Prompt) \n                WHERE p.name = $name \n                AND p.active = true\n                AND ($currentPromptId IS NULL OR p.prompt_id <> $currentPromptId)\n                RETURN count(p) as count\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt')\n                .has('name', $name)\n                .has('active', true)\n                .where(\n                    __.choose(\n                        __.constant($currentPromptId).is(null),\n                        __.identity(),\n                        __.not(__.has('prompt_id', $currentPromptId))\n                    )\n                )\n                .count()\n                .project('count').by()\n        "},CHECK_PROMPT_ID_EXISTS:{neo4j:"\n                MATCH (p:Prompt {prompt_id: $promptId}) RETURN count(p) as count\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt').has('prompt_id', $promptId).count()\n                .project('count').by()\n        "},GET_LATEST_PROMPT:{neo4j:"\n                MATCH (p:Prompt)\n                WHERE p.prompt_id STARTS WITH $baseId + '-'\n                RETURN p.prompt_id as id\n                ORDER BY toInteger(split(p.prompt_id, '-')[-1]) DESC\n                LIMIT 1\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt')\n                .has('prompt_id', TextP.startingWith($baseId + '-'))\n                .order().by(__.values('prompt_id').map(__.split('-').tail().unfold()), decr)\n                .limit(1)\n                .project('id').by('prompt_id')\n        "},DEACTIVATE_PROMPT_CHAIN:{neo4j:"\n                MATCH (p:Prompt {prompt_id: $promptId})\n                SET p.active = false\n                WITH collect({promptId: p.prompt_id, version: p.version}) as deactivatedVersions, count(p) as deactivatedCount\n                RETURN deactivatedVersions, deactivatedCount\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt')\n                .has('prompt_id', $promptId)\n                .as('p')\n                .property('active', false)\n                .group()\n                .by(__.constant('result'))\n                .by(__.fold().project('deactivatedVersions', 'deactivatedCount')\n                    .by(__.unfold().project('promptId', 'version').by('prompt_id').by('version').fold())\n                    .by(__.count(local))\n                )\n                .select(values).unfold()\n        "},GET_AUDIT_HISTORY:{neo4j:"\n                MATCH (p:Prompt {prompt_id: $promptId})-[:HAS_AUDIT]->(audit:Artifact {type: 'Audit'})-[:AUDIT_ENTRY]->(entry:Entry {type: 'Audit'})\n                RETURN p.prompt_id AS promptId, entry.timestamp AS timestamp, entry.change AS changes, entry.user AS user\n                ORDER BY timestamp DESC\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt')\n                .has('prompt_id', $promptId).as('prompt')\n                .out('HAS_AUDIT')\n                .out('AUDIT_ENTRY')\n                .order().by('timestamp', decr)\n                .project('promptId', 'timestamp', 'changes', 'user')\n                .by(select('prompt').by('prompt_id'))\n                .by('timestamp')\n                .by('change')\n                .by('user')\n        "},GET_NEXT_VERSION_NUMBER:{neo4j:"\n                MATCH (p:Prompt {prompt_id: $promptId})\n                RETURN max(toInteger(p.version)) as maxVersion\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt')\n                .has('prompt_id', $promptId)\n                .values('version')\n                .max()\n                .project('maxVersion')\n                .by()\n        "},INSERT_PROMPT:{neo4j:"\n                MERGE (library:Library {type: 'Prompt'})\n                CREATE (newVersion:Prompt)\n                SET newVersion.version = $version,\n                    newVersion.prompt_id = $prompt_id,\n                    newVersion.name = $name,\n                    newVersion.internal_name = $internal_name,\n                    newVersion.description = $description,\n                    newVersion.prompt = $prompt,\n                    newVersion.system_prompt = $system_prompt,\n                    newVersion.type = $type,\n                    newVersion.max_tokens = $max_tokens,\n                    newVersion.model_provider = $model_provider,\n                    newVersion.model_name = $model_name,\n                    newVersion.access_level = $access_level,\n                    newVersion.category = $category,\n                    newVersion.reserved_fields = $reserved_fields,\n                    newVersion.tags = $tags,\n                    newVersion.active = $active,\n                    newVersion.author = $author,\n                    newVersion.created_date = datetime($created_date),\n                    newVersion.last_modified_date = datetime($last_modified_date)\n                CREATE (library)-[:CONTAINS]->(newVersion)\n                RETURN newVersion.created_date, newVersion.last_modified_date, \n                    newVersion.version, newVersion.prompt_id, newVersion.name, \n                    newVersion.internal_name, newVersion.description, newVersion.prompt, \n                    newVersion.system_prompt, newVersion.type, newVersion.max_tokens, \n                    newVersion.model_provider, newVersion.model_name, newVersion.access_level, \n                    newVersion.category, newVersion.reserved_fields, newVersion.tags, \n                    newVersion.active, newVersion.author\n        ",cosmosdb:"\n                g.V().hasLabel('Library').has('type', 'Prompt')\n                .as('library')\n                .addV('Prompt')\n                .property($partitionkeyproperty, $partitionkeyvalue)\n                .property('created_date', $created_date)\n                .property('last_modified_date', $last_modified_date)\n                .property('version', $version)\n                .property('prompt_id', $prompt_id)\n                .property('name', $name)\n                .property('internal_name', $internal_name)\n                .property('description', $description)\n                .property('prompt', $prompt)\n                .property('system_prompt', $system_prompt)\n                .property('type', $type)\n                .property('max_tokens', $max_tokens)\n                .property('model_provider', $model_provider)\n                .property('model_name', $model_name)\n                .property('access_level', $access_level)\n                .property('category', $category)\n                .property('reserved_fields', $reserved_fields)\n                .property('tags', $tags)\n                .property('active', $active)\n                .property('author', $author)\n                .as('prompt')\n                .addE('CONTAINS').from('library')\n                .select('prompt')\n        "},LOAD_BATCHED_PROMPTS:{neo4j:"\n            MATCH (prompt:Prompt)\n            WHERE \n                // Category filter\n                (\n                    size($categories) = 0 OR \n                    prompt.category IN $categories OR\n                    ('Uncategorized' IN $categories AND (prompt.category IS NULL OR trim(coalesce(prompt.category, '')) = ''))\n                )\n                // Search filter\n                AND (\n                    $searchTerm = '' OR \n                    toLower(prompt.name) CONTAINS toLower($searchTerm) OR\n                    toLower(prompt.prompt_id) CONTAINS toLower($searchTerm) OR\n                    toLower(coalesce(prompt.category, 'Uncategorized')) CONTAINS toLower($searchTerm) OR\n                    ANY(tag IN prompt.tags WHERE toLower(tag) CONTAINS toLower($searchTerm))\n                )\n                // Access level filter\n                AND CASE $accessLevel\n                    WHEN 'system' THEN prompt.access_level = 'system'\n                    WHEN 'admin' THEN prompt.access_level <> 'system'\n                    WHEN 'restricted' THEN prompt.access_level IN ['restricted', 'user'] AND prompt.author = $currentUser\n                    ELSE prompt.access_level = 'user' AND prompt.author = $currentUser\n                END\n            WITH prompt,\n                 substring(prompt.prompt_id, 0, size(prompt.prompt_id) - size(split(prompt.prompt_id, '-')[-1]) - 1) as baseId\n            WITH baseId,\n                 collect(prompt) as versions,\n                 max(toInteger(prompt.version)) as maxVersion,\n                 any(p in collect(prompt) WHERE p.active = true) as hasActiveVersion\n            WHERE \n                CASE $statusFilter\n                    WHEN 'active' THEN hasActiveVersion = true\n                    WHEN 'inactive' THEN hasActiveVersion = false\n                    ELSE true\n                END\n            WITH baseId, versions, maxVersion, hasActiveVersion\n            UNWIND versions as prompt\n            WITH prompt, baseId, hasActiveVersion\n            WHERE \n                CASE $statusFilter\n                    WHEN 'active' THEN prompt.active = true\n                    WHEN 'inactive' THEN toInteger(prompt.version) = maxVersion\n                    ELSE toInteger(prompt.version) = maxVersion\n                END\n            RETURN prompt.created_date, prompt.last_modified_date, prompt.version,\n                   prompt.prompt_id, prompt.name, prompt.internal_name, prompt.description, prompt.prompt, prompt.type, prompt.max_tokens, prompt.model_provider, prompt.model_name,\n                   prompt.access_level, prompt.category, prompt.reserved_fields, prompt.tags, prompt.active, prompt.author\n            ORDER BY toLower(prompt.name)\n            SKIP toInteger($skip)\n            LIMIT toInteger($limit)\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt')\n                .has('active', within($statusConditions))\n                .where(\n                    __.or(\n                        __.has('category', within($categories)),\n                        __.and(__.not(__.has('category')), __.constant('Uncategorized').is(within($categories)))\n                    )\n                )\n                .where(\n                    __.or(\n                        __.has('name', TextP.containing($searchTerm)),\n                        __.has('prompt_id', TextP.containing($searchTerm)),\n                        __.has('category', TextP.containing($searchTerm)),\n                        __.has('tags', TextP.containing($searchTerm))\n                    )\n                )\n                .where(\n                    __.choose(\n                        __.constant($accessLevel).is('system'),\n                        __.has('access_level', 'system'),\n                        __.choose(\n                            __.constant($accessLevel).is('admin'),\n                            __.has('access_level', neq('system')),\n                            __.choose(\n                                __.constant($accessLevel).is('restricted'),\n                                __.and(\n                                    __.has('access_level', within(['restricted', 'user'])),\n                                    __.has('author', $currentUser)\n                                ),\n                                __.and(\n                                    __.has('access_level', 'user'),\n                                    __.has('author', $currentUser)\n                                )\n                            )\n                        )\n                    )\n                )\n                .order().by('name', incr)\n                .range($skip, $limit)\n                .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},LOAD_SYSTEM_PROMPTS:{neo4j:"\n            MATCH (prompt:Prompt {access_level: 'system'})\n            WHERE (size($categories) = 0 OR \n                prompt.category IN $categories OR\n                ('Uncategorized' IN $categories AND (prompt.category IS NULL OR trim(coalesce(prompt.category, '')) = '')))\n            AND ($searchTerm = '' OR \n                toLower(prompt.name) CONTAINS toLower($searchTerm) OR\n                toLower(prompt.prompt_id) CONTAINS toLower($searchTerm) OR\n                toLower(coalesce(prompt.category, 'Uncategorized')) CONTAINS toLower($searchTerm) OR\n                ANY(tag IN prompt.tags WHERE toLower(tag) CONTAINS toLower($searchTerm)))\n\n            WITH prompt\n            ORDER BY prompt.prompt_id, prompt.active DESC, toInteger(prompt.version) DESC\n\n            WITH prompt.prompt_id as promptId, \n                collect(prompt) as allVersions,\n                head(collect(prompt)) as selectedPrompt\n            WITH promptId, allVersions, selectedPrompt,\n                any(v IN allVersions WHERE v.active) as hasActiveVersion\n\n            WHERE (size($statusConditions) = 0 OR \n                (true IN $statusConditions AND hasActiveVersion) OR\n                (false IN $statusConditions AND NOT hasActiveVersion))\n\n            RETURN selectedPrompt.created_date, selectedPrompt.last_modified_date, selectedPrompt.version,\n                selectedPrompt.prompt_id, selectedPrompt.name, selectedPrompt.type, \n                selectedPrompt.access_level, selectedPrompt.category, \n                selectedPrompt.tags, selectedPrompt.active\n            ORDER BY toLower(selectedPrompt.name)\n            SKIP toInteger($skip) LIMIT toInteger($limit)\n        ",cosmosdb:"\n            g.V().hasLabel('Prompt')\n            .has('access_level', 'system')\n            .has('active', within($statusConditions))\n            .where(\n                __.or(\n                    __.has('category', within($categories)),\n                    __.and(__.not(__.has('category')), __.constant('Uncategorized').is(within($categories)))\n                )\n            )\n            .where(\n                __.or(\n                    __.has('name', TextP.containing($searchTerm)),\n                    __.has('prompt_id', TextP.containing($searchTerm)),\n                    __.has('category', TextP.containing($searchTerm)),\n                    __.has('tags', TextP.containing($searchTerm))\n                )\n            )\n            .order().by('name', incr)\n            .range($skip, $limit)\n            .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},LOAD_ADMIN_PROMPTS:{neo4j:"\n            MATCH (prompt:Prompt)\n            WHERE prompt.access_level <> 'system'\n            AND (size($categories) = 0 OR \n                prompt.category IN $categories OR\n                ('Uncategorized' IN $categories AND (prompt.category IS NULL OR trim(coalesce(prompt.category, '')) = '')))\n            AND ($searchTerm = '' OR \n                toLower(prompt.name) CONTAINS toLower($searchTerm) OR\n                toLower(prompt.prompt_id) CONTAINS toLower($searchTerm) OR\n                toLower(coalesce(prompt.category, 'Uncategorized')) CONTAINS toLower($searchTerm) OR\n                ANY(tag IN prompt.tags WHERE toLower(tag) CONTAINS toLower($searchTerm)))\n\n            WITH prompt\n            ORDER BY prompt.prompt_id, prompt.active DESC, toInteger(prompt.version) DESC\n\n            WITH prompt.prompt_id as promptId, \n                collect(prompt) as allVersions,\n                head(collect(prompt)) as selectedPrompt\n            WITH promptId, allVersions, selectedPrompt,\n                any(v IN allVersions WHERE v.active) as hasActiveVersion\n\n            WHERE (size($statusConditions) = 0 OR \n                (true IN $statusConditions AND hasActiveVersion) OR\n                (false IN $statusConditions AND NOT hasActiveVersion))\n\n            RETURN selectedPrompt.created_date, selectedPrompt.last_modified_date, selectedPrompt.version,\n                selectedPrompt.prompt_id, selectedPrompt.name, selectedPrompt.type, \n                selectedPrompt.access_level, selectedPrompt.category, \n                selectedPrompt.tags, selectedPrompt.active\n            ORDER BY toLower(selectedPrompt.name)\n            SKIP toInteger($skip) LIMIT toInteger($limit)\n        ",cosmosdb:"\n            g.V().hasLabel('Prompt')\n            .has('access_level', neq('system'))\n            .has('active', within($statusConditions))\n            .where(\n                __.or(\n                    __.has('category', within($categories)),\n                    __.and(__.not(__.has('category')), __.constant('Uncategorized').is(within($categories)))\n                )\n            )\n            .where(\n                __.or(\n                    __.has('name', TextP.containing($searchTerm)),\n                    __.has('prompt_id', TextP.containing($searchTerm)),\n                    __.has('category', TextP.containing($searchTerm)),\n                    __.has('tags', TextP.containing($searchTerm))\n                )\n            )\n            .order().by('name', incr)\n            .range($skip, $limit)\n            .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},LOAD_RESTRICTED_PROMPTS:{neo4j:"\n            MATCH (prompt:Prompt)\n            WHERE prompt.access_level IN ['restricted', 'user']\n            AND prompt.author = $currentUser\n            AND (size($categories) = 0 OR \n                prompt.category IN $categories OR\n                ('Uncategorized' IN $categories AND (prompt.category IS NULL OR trim(coalesce(prompt.category, '')) = '')))\n            AND ($searchTerm = '' OR \n                toLower(prompt.name) CONTAINS toLower($searchTerm) OR\n                toLower(prompt.prompt_id) CONTAINS toLower($searchTerm) OR\n                toLower(coalesce(prompt.category, 'Uncategorized')) CONTAINS toLower($searchTerm) OR\n                ANY(tag IN prompt.tags WHERE toLower(tag) CONTAINS toLower($searchTerm)))\n\n            WITH prompt\n            ORDER BY prompt.prompt_id, prompt.active DESC, toInteger(prompt.version) DESC\n\n            WITH prompt.prompt_id as promptId, \n                collect(prompt) as allVersions,\n                head(collect(prompt)) as selectedPrompt\n            WITH promptId, allVersions, selectedPrompt,\n                any(v IN allVersions WHERE v.active) as hasActiveVersion\n\n            WHERE (size($statusConditions) = 0 OR \n                (true IN $statusConditions AND hasActiveVersion) OR\n                (false IN $statusConditions AND NOT hasActiveVersion))\n\n            RETURN selectedPrompt.created_date, selectedPrompt.last_modified_date, selectedPrompt.version,\n                selectedPrompt.prompt_id, selectedPrompt.name, selectedPrompt.type, \n                selectedPrompt.access_level, selectedPrompt.category, \n                selectedPrompt.tags, selectedPrompt.active\n            ORDER BY toLower(selectedPrompt.name)\n            SKIP toInteger($skip) LIMIT toInteger($limit)\n        ",cosmosdb:"\n            g.V().hasLabel('Prompt')\n            .has('access_level', within(['restricted', 'user']))\n            .has('author', $currentUser)\n            .has('active', within($statusConditions))\n            .where(\n                __.or(\n                    __.has('category', within($categories)),\n                    __.and(__.not(__.has('category')), __.constant('Uncategorized').is(within($categories)))\n                )\n            )\n            .where(\n                __.or(\n                    __.has('name', TextP.containing($searchTerm)),\n                    __.has('prompt_id', TextP.containing($searchTerm)),\n                    __.has('category', TextP.containing($searchTerm)),\n                    __.has('tags', TextP.containing($searchTerm))\n                )\n            )\n            .order().by('name', incr)\n            .range($skip, $limit)\n            .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},LOAD_USER_PROMPTS:{neo4j:"\n            MATCH (prompt:Prompt)\n            WHERE prompt.access_level = 'user'\n            AND prompt.author = $currentUser\n            AND (size($categories) = 0 OR \n                prompt.category IN $categories OR\n                ('Uncategorized' IN $categories AND (prompt.category IS NULL OR trim(coalesce(prompt.category, '')) = '')))\n            AND ($searchTerm = '' OR \n                toLower(prompt.name) CONTAINS toLower($searchTerm) OR\n                toLower(prompt.prompt_id) CONTAINS toLower($searchTerm) OR\n                toLower(coalesce(prompt.category, 'Uncategorized')) CONTAINS toLower($searchTerm) OR\n                ANY(tag IN prompt.tags WHERE toLower(tag) CONTAINS toLower($searchTerm)))\n\n            WITH prompt\n            ORDER BY prompt.prompt_id, prompt.active DESC, toInteger(prompt.version) DESC\n\n            WITH prompt.prompt_id as promptId, \n                collect(prompt) as allVersions,\n                head(collect(prompt)) as selectedPrompt\n            WITH promptId, allVersions, selectedPrompt,\n                any(v IN allVersions WHERE v.active) as hasActiveVersion\n\n            WHERE (size($statusConditions) = 0 OR \n                (true IN $statusConditions AND hasActiveVersion) OR\n                (false IN $statusConditions AND NOT hasActiveVersion))\n\n            RETURN selectedPrompt.created_date, selectedPrompt.last_modified_date, selectedPrompt.version,\n                selectedPrompt.prompt_id, selectedPrompt.name, selectedPrompt.type, \n                selectedPrompt.access_level, selectedPrompt.category, \n                selectedPrompt.tags, selectedPrompt.active\n            ORDER BY toLower(selectedPrompt.name)\n            SKIP toInteger($skip) LIMIT toInteger($limit)\n        ",cosmosdb:"\n            g.V().hasLabel('Prompt')\n            .has('access_level', 'user')\n            .has('author', $currentUser)\n            .has('active', within($statusConditions))\n            .where(\n                __.or(\n                    __.has('category', within($categories)),\n                    __.and(__.not(__.has('category')), __.constant('Uncategorized').is(within($categories)))\n                )\n            )\n            .where(\n                __.or(\n                    __.has('name', TextP.containing($searchTerm)),\n                    __.has('prompt_id', TextP.containing($searchTerm)),\n                    __.has('category', TextP.containing($searchTerm)),\n                    __.has('tags', TextP.containing($searchTerm))\n                )\n            )\n            .order().by('name', incr)\n            .range($skip, $limit)\n            .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},LOAD_CATEGORY_FILTERS:{neo4j:"\n                MATCH (p:Prompt)\n                WHERE p.category IS NOT NULL\n                RETURN DISTINCT p.category as category\n                ORDER BY category\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt').values('category').dedup().order().project('category').by()\n        "},LOAD_PROMPT:{neo4j:"\n                MATCH (p:Prompt {prompt_id: $promptId})\n                WITH p \n                ORDER BY \n                    CASE \n                        WHEN $version IS NOT NULL AND toInteger(p.version) = toInteger($version) THEN 0\n                        WHEN p.active = true AND $version IS NULL THEN 1\n                        ELSE 2 + (1000 - toInteger(p.version))\n                    END\n                WITH collect(p) as sortedVersions                           \n                WITH sortedVersions, head(sortedVersions) as selectedVersion \n                RETURN \n                    selectedVersion.created_date, selectedVersion.last_modified_date, selectedVersion.version,\n                    selectedVersion.prompt_id, selectedVersion.name, selectedVersion.internal_name, \n                    selectedVersion.description, selectedVersion.prompt, selectedVersion.system_prompt,\n                    selectedVersion.type, selectedVersion.max_tokens, selectedVersion.model_provider, \n                    selectedVersion.model_name, selectedVersion.access_level, selectedVersion.category, \n                    selectedVersion.reserved_fields, selectedVersion.tags, selectedVersion.active, \n                    selectedVersion.author,\n                    [v IN sortedVersions | {\n                        version: v.version,\n                        promptId: v.prompt_id,\n                        active: v.active\n                    }] as versions\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt').has('prompt_id', $promptId)\n                .project('created_date', 'last_modified_date', 'version',\n                    'prompt_id', 'name', 'internal_name', 'description', 'prompt', 'system_prompt', 'type', 'max_tokens', 'model_provider', 'model_name',\n                    'access_level', 'category', 'reserved_fields', 'tags', 'active', 'author', 'versions')\n                .by('created_date')\n                .by('last_modified_date')\n                .by('version')\n                .by('prompt_id')\n                .by('name')\n                .by('internal_name')\n                .by('description')\n                .by('prompt')\n                .by('system_prompt')\n                .by('type')\n                .by('max_tokens')\n                .by('model_provider')\n                .by('model_name')\n                .by('access_level')\n                .by('category')\n                .by('reserved_fields')\n                .by('tags')\n                .by('active')\n                .by('author')\n                .by(\n                __.V().hasLabel('Prompt')\n                    .has('prompt_id', $promptId)\n                    .project('version', 'promptId', 'active')\n                    .by('version')\n                    .by('prompt_id')\n                    .by('active')\n                    .fold()\n                )\n        "},LOAD_SYSTEM_OPTIONS:{neo4j:"\n                MATCH (so:SystemOptions {id: $id})\n                RETURN so.config_agent_communication,so.allowed_consensus,so.allowed_planning,so.author,so.config_confidence_scoring,so.content_processor_type,\n                       so.created_date,so.id,so.config_importance_scoring,so.last_modified_date,so.config_memory_retrieval,so.models_providers,\n                       so.prompt_access_levels,so.prompt_types,so.rag_schema,so.reserved_field_user_prompt,\n                       so.reserved_fields_observation,so.reserved_fields_reflection,so.reserved_fields_task_prompt,\n                       so.config_surprise_scoring,so.config_timing,so.config_consensus\n        ",cosmosdb:"\n                g.V().hasLabel('SystemOptions').has('id', $id)\n                .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},UPDATE_PROMPT:{neo4j:"\n                 OPTIONAL MATCH (p1:Prompt {prompt_id: $prompt_id, active: true})\n                SET p1.active = false\n                CREATE (p2:Prompt)\n                SET p2.created_date = datetime($created_date),\n                    p2.last_modified_date = datetime($last_modified_date),\n                    p2.version = $version,\n                    p2.prompt_id = $prompt_id,\n                    p2.name = $name,\n                    p2.internal_name = $internal_name,\n                    p2.description = $description,\n                    p2.prompt = $prompt,\n                    p2.system_prompt = $system_prompt,\n                    p2.type = $type,\n                    p2.max_tokens = $max_tokens,\n                    p2.model_provider = $model_provider,\n                    p2.model_name = $model_name,\n                    p2.access_level = $access_level,\n                    p2.category = $category,\n                    p2.reserved_fields = $reserved_fields,\n                    p2.tags = $tags,\n                    p2.active = $active,\n                    p2.author = $author\n                CREATE (p2)-[:PREVIOUS_VERSION]->(p1)\n                \n                WITH p2, $hasChanges as hasChanges\n                WHERE hasChanges\n                MERGE (p2)-[:HAS_AUDIT]->(audit:Artifact)\n                ON CREATE SET audit.id = $auditId, audit.type = 'Audit', audit.created_date = $audit_created_date\n                WITH p2, audit, $changeCount as changeCount\n                WHERE changeCount > 0\n                CREATE (audit)-[:AUDIT_ENTRY]->(entry:Entry {\n                    created_date: $entry_created_date,\n                    timestamp: $timestamp,\n                    id: $entryId,\n                    type: 'Audit',\n                    user: $currentUser,\n                    change: $stringifiedChanges\n                })\n                \n                RETURN p2.created_date, p2.last_modified_date, p2.version,\n                    p2.prompt_id, p2.name, p2.internal_name, p2.description, p2.prompt, \n                    p2.system_prompt, p2.type, p2.max_tokens, p2.model_provider, p2.model_name,\n                    p2.access_level, p2.category, p2.reserved_fields, p2.tags, p2.active, p2.author\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt').has('prompt_id', $prompt_id).has('active', true)\n                .property('active', false)\n                .as('oldPrompt')\n                .addV('Prompt')\n                .property($partitionkeyproperty, $partitionkeyvalue)\n                .property('created_date', $created_date)\n                .property('last_modified_date', $last_modified_date)\n                .property('version', $version)\n                .property('prompt_id', $prompt_id)\n                .property('name', $name)\n                .property('internal_name', $internal_name)\n                .property('description', $description)\n                .property('prompt', $prompt)\n                .property('system_prompt', $system_prompt)\n                .property('type', $type)\n                .property('max_tokens', $max_tokens)\n                .property('model_provider', $model_provider)\n                .property('model_name', $model_name)\n                .property('access_level', $access_level)\n                .property('category', $category)\n                .property('reserved_fields', $reserved_fields)\n                .property('tags', $tags)\n                .property('active', $active)\n                .property('author', $author)\n                .as('newPrompt')\n                .addE('PREVIOUS_VERSION')\n                .from('newPrompt')\n                .to('oldPrompt')\n                .select('newPrompt')\n                .coalesce(\n                    outE('HAS_AUDIT').inV(),\n                    addV('Artifact')\n                        .property($partitionkeyproperty, $partitionkeyvalue)\n                        .property('id', $auditId)\n                        .property('type', 'Audit')\n                        .property('created_date', $audit_created_date)\n                        .as('newAudit')\n                        .addE('HAS_AUDIT')\n                        .from('newPrompt')\n                        .to('newAudit')\n                        .select('newAudit')\n                )\n                .as('audit')\n                .addV('Entry')\n                    .property($partitionkeyproperty, $partitionkeyvalue)\n                    .property('id', $entryId)\n                    .property('type', 'Audit')\n                    .property('created_date', $entry_created_date)\n                    .property('timestamp', $timestamp)\n                    .property('user', $currentUser)\n                    .property('change', $stringifiedChanges)\n                    .as('entry')\n                    .addE('AUDIT_ENTRY')\n                    .from('audit')\n                    .to('entry')\n                .select('newPrompt')\n        "},CREATE_AUDIT_ENTRY:{neo4j:"\n                MATCH (p:Prompt {prompt_id: $promptId, version: $version})\n                MERGE (p)-[:HAS_AUDIT]->(audit:Artifact)\n                ON CREATE SET audit.id = $auditId, audit.type = 'Audit', audit.created_date = datetime()\n                CREATE (audit)-[:AUDIT_ENTRY]->(entry:Entry {\n                    created_date: datetime(),\n                    timestamp: $timestamp,\n                    id: $entryId,\n                    type: 'Audit',\n                    user: $currentUser,\n                    change: $changeMessage\n                })\n                RETURN entry.timestamp as lastTimestamp\n        ",cosmosdb:"\n                g.V().hasLabel('Prompt')\n                .has('prompt_id', $promptId)\n                .has('version', $version)\n                .coalesce(\n                    outE('HAS_AUDIT').inV(),\n                    addV('Artifact')\n                        .property($partitionkeyproperty, $partitionkeyvalue)\n                        .property('id', $auditId)\n                        .property('type', 'Audit')\n                        .property('created_date', $audit_created_date)\n                        .as('newAudit')\n                        .addE('HAS_AUDIT')\n                        .from(select('p'))\n                        .to('newAudit')\n                        .select('newAudit')\n                )\n                .as('audit')\n                .addV('Entry')\n                    .property($partitionkeyproperty, $partitionkeyvalue)\n                    .property('id', $entryId)\n                    .property('type', 'Audit')\n                    .property('created_date', $entry_created_date)\n                    .property('timestamp', $timestamp)\n                    .property('user', $currentUser)\n                    .property('change', $changeMessage)\n                    .as('entry')\n                    .addE('AUDIT_ENTRY')\n                    .from('audit')\n                    .to('entry')\n                .select('entry')\n                .project('lastTimestamp')\n                .by('timestamp')\n        "}},a=r(3469),s=["created_date","last_modified_date"];function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(v(e)+" is not iterable")}function h(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return w(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,s=0,c=e,p.n=r,a}};function f(r,n){for(s=r,c=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],f=p.p,h=o[2];r>3?(i=h===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=r<2&&f<o[1])?(s=0,p.v=n,p.n=o[1]):f<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,p.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,c=h;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(p.n=-1),f(s,c)):p.n=c:p.v=c);try{if(l=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=p.n<0)?c:r.call(n,p))!==a)break}catch(t){o=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(w(t={},n,function(){return this}),t),d=l.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,w(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,w(d,"constructor",l),w(l,"constructor",c),c.displayName="GeneratorFunction",w(l,i,"GeneratorFunction"),w(d),w(d,i,"Generator"),w(d,n,function(){return this}),w(d,"toString",function(){return"[object Generator]"}),(b=function(){return{w:o,m:p}})()}function w(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}w=function(e,t,r,n){function o(t,r){w(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},w(e,t,r,n)}function _(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function E(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){_(o,n,i,a,s,"next",e)}function s(e){_(o,n,i,a,s,"throw",e)}a(void 0)})}}var S,T,I,A,O,R={DEBUG:!1,ACCESS_LEVEL:"user",LANGUAGE:"",THEME:"",NEO4J_CONFIG:{uri:"",username:"",password:"",neo4j_serverauth:""},COSMOSDB_CONFIG:{endpoint:"",key:"",db:"",graph:"",partitionkeyproperty:"",partitionkeyvalue:""},DATABASETYPE:"",CURRENT_USER:""},P=!1,x=!1,N=null,k=!1,L=null,C=new Set,D=new Set(["Active"]),j=[],z=!1,U=0,M=!0;function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",r=document.querySelector(".prompt-editor");if(r){var n=document.createElement("div");n.className="status-message ".concat(t),n.setAttribute("role","alert"),n.setAttribute("aria-live","critical"===t?"assertive":"polite");var i=document.createElement("div");i.className="message-text",i.textContent=e,n.appendChild(i);var o=document.createElement("button");o.className="close-button",o.setAttribute("aria-label","Close error message"),o.innerHTML='<i class="fas fa-times" aria-hidden="true"></i>',o.addEventListener("click",function(){return n.remove()}),o.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n.remove())}),n.appendChild(o);var a=r.querySelector("form");a?r.insertBefore(n,a):r.insertBefore(n,r.firstChild)}}function $(e){var t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}function V(e){try{var t={DEBUG:e.debug||!1,CURRENT_USER:e.current_user||"",ACCESS_LEVEL:e.access_level||"user",THEME:e.theme||"light",DATABASETYPE:e.dbtype||"neo4j"},r=e.locale;r&&(t.LANGUAGE=r),Object.assign(t,{NEO4J_CONFIG:{uri:e.neo4j_uri||"",username:e.neo4j_user||"",password:e.neo4j_password||"",neo4j_serverauth:e.neo4j_serverauth||""}}),Object.assign(t,{COSMOSDB_CONFIG:{endpoint:e.cosmosdb_endpoint||"",key:e.cosmosdb_key||"",db:e.cosmosdb_db||"",graph:e.cosmosdb_graph||"",partitionkeyproperty:e.cosmosdb_partitionkeyproperty||"",partitionkeyvalue:e.cosmosdb_partitionkeyvalue||""}}),Object.assign(R,t),utils.initialize(R),window.i18n&&!window.i18n.initialized&&R.LANGUAGE&&(utils.debugLog("Initializing i18n with language:",R.LANGUAGE),window.i18n.initialize(R.LANGUAGE)),window.localeUI&&!window.localeUI.initialized&&(utils.debugLog("Initializing LocaleUI service"),window.localeUI.initialize())}catch(e){throw e}}function F(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"}function H(){utils.debugLog("Theme in use is: ".concat(R.THEME)),document.documentElement.setAttribute("data-theme",R.THEME)}function W(){document.getElementById("promptSearch"),document.getElementById("new_prompt"),document.getElementById("clone_prompt");document.querySelectorAll(".auto-expand").forEach(function(e){e.setAttribute("style","height:"+e.scrollHeight+"px;overflow-y:hidden;"),e.addEventListener("input",function(){F(this)}),F(e)}),utils.debugLog("Initialized text area");var e,t=function(){var e=E(b().m(function e(){return b().w(function(e){for(;;)switch(e.n){case 0:if(!N){e.n=1;break}return e.n=1,N.cleanup();case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();window.addEventListener("pagehide",t),window.addEventListener("beforeunload",t),window.addEventListener("unload",t),(e=document.getElementById("prompt_type"))&&e.addEventListener("change",function(){Ht(this.value),Oe()})}function q(e,t){var r,n=document.getElementById(e),i=document.getElementById(t);n.addEventListener("input",function(){var e=this.value.toLowerCase();r&&clearTimeout(r),r=setTimeout(function(){Bt()},300),G(e)}),i.addEventListener("click",function(){n.value="",Bt(),G("")})}function G(e){document.getElementById("clearSearch").style.display=e.length>0?"block":"none"}function Y(){var e=document.getElementById("categoryFilterButton"),t=document.getElementById("categoryDropdown"),r=document.getElementById("statusFilterButton"),n=document.getElementById("statusDropdown");K(),function(){var e=document.getElementById("statusFilterButton"),t=document.getElementById("statusDropdown"),r=t.querySelectorAll('input[type="checkbox"]');r.forEach(function(t){"Active"===t.value&&(t.checked=!0),t.addEventListener("change",function(){z||t.disabled||(t.checked?D.add(t.value):D.delete(t.value),te(e,"Status",D.size),fe(!0))})})}(),e.addEventListener("click",function(e){return ee(e,t)}),r.addEventListener("click",function(e){return ee(e,n)}),document.addEventListener("click",function(e){e.target.closest(".filter-group")||(t.classList.remove("show"),n.classList.remove("show"))})}function Q(){var e=document.querySelectorAll('#statusDropdown input[type="checkbox"]'),t=document.querySelectorAll('#categoryDropdown input[type="checkbox"]');e.forEach(function(e){e.disabled=!0}),t.forEach(function(e){e.disabled=!0})}function J(){var e=document.querySelectorAll('#statusDropdown input[type="checkbox"]'),t=document.querySelectorAll('#categoryDropdown input[type="checkbox"]');e.forEach(function(e){e.disabled=!1}),t.forEach(function(e){e.disabled=!1})}function K(){var e=document.getElementById("categoryFilterButton");document.getElementById("categoryDropdown").querySelectorAll('input[type="checkbox"]').forEach(function(t){t.addEventListener("change",function(){z||t.disabled||(t.checked?C.add(t.value):C.delete(t.value),te(e,"Category",C.size),fe(!0))})})}function X(){return Z.apply(this,arguments)}function Z(){return(Z=E(b().m(function e(){var t,r,n,i,o;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=N.getQuery("LOAD_CATEGORY_FILTERS"),e.n=1,N.executeRead(t,{});case 1:r=e.v,n=document.getElementById("categoryDropdown"),(i=n.querySelector(".filter-dropdown-content")).innerHTML="",r.forEach(function(e){var t=document.createElement("div");t.className="filter-item",t.innerHTML='\n                <label>\n                    <input type="checkbox" value="'.concat(e.category,'">\n                    <span>').concat(e.category,"</span>\n                </label>\n            "),i.appendChild(t)}),(o=document.createElement("div")).className="filter-item",o.innerHTML='\n            <label>\n                <input type="checkbox" value="Uncategorized">\n                <span data-i18n="uncategorized">Uncategorized</span>\n            </label>\n        ',i.appendChild(o),K(),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}))).apply(this,arguments)}function ee(e,t){e.stopPropagation(),document.querySelectorAll(".filter-dropdown").forEach(function(e){e!==t&&e.classList.remove("show")}),t.classList.toggle("show")}function te(e,t,r){e.textContent=t+(r>0?" (".concat(r,")"):"")}function re(){var e=document.getElementById("export_prompt"),t=I.querySelector(".prompt-item.active"),r=document.querySelectorAll(".prompt-checkbox:checked");e.disabled=!t&&0===r.length}function ne(e){var t=e.match(/{([a-zA-Z0-9_]+)}/g);return t?t.map(function(e){return e.slice(1,-1)}):[]}function ie(e){var t=document.getElementById("model_provider");t.innerHTML='<option value="" data-i18n="modelProviderPlaceholder" disabled>Select a model provider</option>',e.forEach(function(e){var r=document.createElement("option");r.value=e,r.textContent=e,t.appendChild(r)})}function oe(){var e=ne(document.getElementById("prompt").value),t=A.getTags().filter(function(t){return e.includes(t)||!t.startsWith("{")||!t.endsWith("}")});A.setTags(t)}function ae(e,t){var r=e.querySelector('option[value="'.concat(t,'"]'));r&&r.remove()}function se(e,t){var r=e.querySelector('option[value="'.concat(t,'"]'));r&&(r.disabled=!0)}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";if(!document.getElementById("".concat(e,"Spinner"))){var t=document.createElement("div");t.className="spinner-container ".concat(e),t.id="".concat(e,"Spinner");var r=document.createElement("div");r.className="spinner ".concat(e),t.appendChild(r),I.appendChild(t)}}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial",t=document.getElementById("".concat(e,"Spinner"));t&&t.remove()}function ue(e){var t=e.target;t.scrollTop+t.clientHeight>=t.scrollHeight-100&&!z&&M&&me()}function de(e){if("string"!=typeof e)return"object"===v(e)&&null!==e?JSON.stringify(e,null,2):"boolean"==typeof e?e?"true":"false":null==e?"N/A":e.toString();try{var t=JSON.parse(e);return"object"===v(t)&&null!==t?JSON.stringify(t,null,2):t.toString()}catch(t){return e}}function pe(e,t){var r={};for(var n in t)e&&JSON.stringify(e[n])===JSON.stringify(t[n])||(r[n]={old:e?JSON.stringify(e[n]):null,new:JSON.stringify(t[n])});return r}function fe(){return he.apply(this,arguments)}function he(){return he=E(b().m(function e(){var t,r,n,i=arguments;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=!(i.length>0&&void 0!==i[0])||i[0],!z){e.n=1;break}return e.a(2);case 1:return e.p=1,z=!0,Q(),t&&(I.innerHTML="",ce("initial"),U=0,j=[],M=!0),r=document.getElementById("promptSearch").value.toLowerCase(),e.n=2,me(r);case 2:t&&setTimeout(function(){var e;(e=document.getElementById("promptList")).removeEventListener("scroll",ue),e.addEventListener("scroll",ue)},100),e.n=4;break;case 3:e.p=3,e.v,(n=PromptErrorHandler).showError.apply(n,m(PromptErrorCodes.BATCHED_PROMPTS_LOAD_ERROR));case 4:return e.p=4,z=!1,J(),le("initial"),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])})),he.apply(this,arguments)}function me(){return ye.apply(this,arguments)}function ye(){return ye=E(b().m(function e(){var t,r,n,o,a,s,c,l,u,d,p=arguments;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:"",M){e.n=1;break}return e.a(2);case 1:if(U>0&&ce("load-more"),e.p=2,n=new i.e,n=D.size>0?i.e.from(D).map(function(e){return"Active"===e}):[!0,!1],!(C.size>0)){e.n=3;break}o=i.e.from(C).map(function(e){return e.toLowerCase()}),e.n=5;break;case 3:return a=N.getQuery("LOAD_CATEGORY_FILTERS"),e.n=4,N.executeRead(a,{});case 4:s=e.v,o=i.e.from(s.map(function(e){return e.category.toLowerCase()}));case 5:o.quotedElements=!0,c={searchTerm:t.toLowerCase()||"",categories:o,statusConditions:n,currentUser:R.CURRENT_USER},d=R.ACCESS_LEVEL,e.n="system"===d?6:"admin"===d?7:"restricted"===d?8:9;break;case 6:return r=N.getQuery("LOAD_SYSTEM_PROMPTS"),e.a(3,10);case 7:return r=N.getQuery("LOAD_ADMIN_PROMPTS"),e.a(3,10);case 8:return r=N.getQuery("LOAD_RESTRICTED_PROMPTS"),e.a(3,10);case 9:return r=N.getQuery("LOAD_USER_PROMPTS"),e.a(3,10);case 10:return e.n=11,N.executeRead(r,c,null,!1,20*U,20);case 11:l=e.v,M=20===l.length,l.length>0?(Mt(j=[].concat(m(j),m(l))),U++):M=!1,e.n=13;break;case 12:e.p=12,e.v,(u=PromptErrorHandler).showError.apply(u,m(PromptErrorCodes.BATCHED_PROMPTS_LOAD_ERROR));case 13:return e.p=13,z=!1,J(),le("load-more"),e.f(13);case 14:return e.a(2)}},e,null,[[2,12,13,14]])})),ye.apply(this,arguments)}function ge(e){return ve.apply(this,arguments)}function ve(){return(ve=E(b().m(function e(t){var r,n,i,o,a;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return utils.debugLog("Load prompt",t),e.p=1,r=N.getQuery("LOAD_PROMPT"),e.n=2,N.executeRead(r,{promptId:t,version:null},null,!0);case 2:if(!(n=e.v)){e.n=3;break}i=n,o=n.versions,k=!1,L=d(d({},i),{},{versions:o}),kt(i),oe(),Wt("edit"),PromptStatusHandler.showSuccess("promptLoadSuccess",{id:i.prompt_id}),document.querySelectorAll(".prompt-item").forEach(function(e){e.classList.remove("active"),e.dataset.promptId===t&&e.classList.add("active")}),re(),be(o),jt(R.ACCESS_LEVEL,!1,i.author),e.n=4;break;case 3:throw new Error("Prompt not found");case 4:e.n=6;break;case 5:e.p=5,e.v,(a=PromptErrorHandler).showError.apply(a,m(PromptErrorCodes.PROMPT_LOAD_ERROR));case 6:return e.a(2)}},e,null,[[1,5]])}))).apply(this,arguments)}function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=document.getElementById("prior_versions"),n=document.getElementById("activateVersionBtn");r.innerHTML="";var i=new Set,o=null;e.forEach(function(e){var n=e.version,a=e.promptId,s=e.active,c="object"===v(n)?n.low:n;if(!i.has(c)){i.add(c);var l=document.createElement("option");l.value=a,l.textContent="Version ".concat(c),l.setAttribute("data-i18n-dynamic","versionNumber"),l.setAttribute("data-i18n-params",JSON.stringify({number:c})),l.dataset.active=s.toString(),s&&(o=l),c===t&&(l.selected=!0),r.appendChild(l)}}),!t&&o&&(o.selected=!0),r.disabled=!1;var a=r.options[r.selectedIndex];n.disabled=!a||"true"===a.dataset.active}function we(e,t){return _e.apply(this,arguments)}function _e(){return(_e=E(b().m(function e(t,r){var n,i,o,a,s,c;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return utils.debugLog("Load specific version for",t,"version",r),e.p=1,n=N.getQuery("LOAD_PROMPT"),e.n=2,N.executeRead(n,{promptId:t,version:parseInt(r)},null,!0);case 2:(i=e.v)?(o=i,a=i.versions,kt(o),oe(),be(a,o.version),PromptStatusHandler.showSuccess("versionLoaded",{version:o.version})):(s=PromptErrorHandler).showError.apply(s,m(PromptErrorCodes.VERSION_NOT_FOUND)),e.n=4;break;case 3:e.p=3,e.v,(c=PromptErrorHandler).showError.apply(c,m(PromptErrorCodes.PRIOR_VERSION_LOAD_ERROR));case 4:return e.a(2)}},e,null,[[1,3]])}))).apply(this,arguments)}function Ee(e){return Se.apply(this,arguments)}function Se(){return(Se=E(b().m(function e(t){var r,n,i,o,a,c,u,p,f,h,y,g,w,_,E,S,T,I,A,O,P,x,C,D,j;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.preventDefault(),r=document.querySelector("#save_prompt"),n=r.querySelector(".icon-xl"),i=r.querySelector(".spinner"),o=document.querySelector("#cancel_prompt"),a=document.querySelectorAll(".right-actions button"),r.disabled=!0,n.classList.add("hide"),i.classList.remove("hide"),o.disabled=!0,a.forEach(function(e){return e.disabled=!0}),e.n=1,Lt();case 1:if(c=e.v,utils.debugLog("Prompt data before saving:",c),e.p=2,u=document.querySelector(".prompt-editor"),p=!k&&L&&1===Object.keys(L).length&&L.prompt_id,!(u.classList.contains("new-mode")||u.classList.contains("clone-mode")||u.classList.contains("import-mode"))){e.n=3;break}c.version=1,e.n=8;break;case 3:if(!u.classList.contains("edit-mode")&&!p){e.n=7;break}if(!p){e.n=5;break}return e.n=4,Ce(c.prompt_id);case 4:c.version=e.v,e.n=6;break;case 5:L&&L.versions?(f=L.versions.map(function(e){return"object"===v(e.version)?e.version.low:e.version}),h=Math.max.apply(Math,m(f).concat([L.version||1])),c.version=h+1):c.version=((null===(y=L)||void 0===y?void 0:y.version)||1)+1;case 6:e.n=8;break;case 7:g=document.getElementById("version"),c.version=parseInt(g.value,10)||1;case 8:return e.n=9,Qe(c);case 9:if(e.v){e.n=10;break}return r.disabled=!1,n.classList.remove("hide"),i.classList.add("hide"),o.disabled=!1,a.forEach(function(e){return e.disabled=!1}),e.a(2);case 10:if(c.active=!0,c.author=R.CURRENT_USER,w=c.created_date,_=c.last_modified_date,E=l(c,s),S=null,T={},I="",k){e.n=12;break}return e.n=11,Te(null===(A=L)||void 0===A?void 0:A.prompt_id);case 11:S=e.v,T=pe(S,c),I=JSON.stringify(T);case 12:return O=k?N.getQuery("INSERT_PROMPT"):N.getQuery("UPDATE_PROMPT"),P=(new Date).toISOString(),x=Object.keys(T).length,C=d(d({},E),{},{audit_created_date:P,entry_created_date:P,created_date:w,last_modified_date:_,hasChanges:x>0,changeCount:x,stringifiedChanges:I,auditId:crypto.randomUUID(),entryId:crypto.randomUUID(),timestamp:Math.floor(Date.now()/1e3),currentUser:R.CURRENT_USER}),e.n=13,N.executeWrite(O,C);case 13:if(D=e.v,Re(),!D){e.n=15;break}return k?PromptStatusHandler.showSuccess("promptCreateSuccess",{id:D.prompt_id}):PromptStatusHandler.showSuccess("promptUpdateSuccess",{id:D.prompt_id}),qt(),Ne(),Wt("view"),k=!1,L=null,e.n=14,fe();case 14:$(".".concat("prompt-editor")),e.n=16;break;case 15:throw new Error("No records returned after saving. The prompt may not exist or may not be active.");case 16:e.n=18;break;case 17:e.p=17,j=e.v,PromptErrorHandler.showError("application","promptSaveError",{error:j.message});case 18:return e.p=18,r.disabled=!1,n.classList.remove("hide"),i.classList.add("hide"),o.disabled=!1,a.forEach(function(e){return e.disabled=!1}),e.f(18);case 19:return e.a(2)}},e,null,[[2,17,18,19]])}))).apply(this,arguments)}function Te(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=E(b().m(function e(t){var r,n;return b().w(function(e){for(;;)switch(e.n){case 0:return r=document.getElementById("version").value,n=N.getQuery("LOAD_PROMPT"),e.n=1,N.executeRead(n,{promptId:t,version:r},null,!0);case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function Ae(){T.querySelectorAll("input, select, textarea").forEach(function(e){"checkbox"===e.type||"radio"===e.type||"SELECT"===e.tagName||e.addEventListener("input",Oe),e.addEventListener("change",Oe)}),A&&A.element&&A.element.addEventListener("tagInput:change",Oe),O&&O.element&&O.element.addEventListener("tagInput:change",Oe)}function Oe(){x=!0}function Re(){x=!1}function Pe(){return xe.apply(this,arguments)}function xe(){return(xe=E(b().m(function e(){return b().w(function(e){for(;;)switch(e.n){case 0:if(!x){e.n=2;break}return e.n=1,zt();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:qt(),Ne(),Wt("view");case 3:return e.a(2)}},e)}))).apply(this,arguments)}function Ne(){document.querySelectorAll(".prompt-item").forEach(function(e){e.classList.remove("active")}),L=null}function ke(e){return Le.apply(this,arguments)}function Le(){return(Le=E(b().m(function e(t){var r,n,i,o,a,s,c,l,u,d;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return utils.debugLog("Activate prior version for",t),r=document.querySelector("#activateVersionBtn"),n=r.querySelector(".icon-l"),i=r.querySelector(".spinner"),r.disabled=!0,n.classList.add("hide"),i.classList.remove("hide"),e.p=1,s=document.getElementById("prior_versions"),c=s.options[s.selectedIndex],l=c.dataset.version||c.textContent.match(/\d+/)[0],u=N.getQuery("ACTIVATE_PRIOR_VERSION"),e.n=2,N.executeWrite(u,{promptId:null===(o=L)||void 0===o?void 0:o.prompt_id,selectedVersion:parseInt(l)},null,!0);case 2:return e.n=3,Ve(null===(a=L)||void 0===a?void 0:a.prompt_id,parseInt(l),"Activated prior version");case 3:return PromptStatusHandler.showSuccess("versionActivateSuccess"),e.n=4,fe();case 4:return e.n=5,ge(document.getElementById("prior_versions").value);case 5:document.getElementById("prior_versions").disabled=!1,document.getElementById("activateVersionBtn").disabled=!0,e.n=7;break;case 6:e.p=6,e.v,(d=PromptErrorHandler).showError.apply(d,m(PromptErrorCodes.VERSION_ACTIVATE_ERROR));case 7:return e.p=7,n.classList.remove("hide"),i.classList.add("hide"),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}))).apply(this,arguments)}function Ce(e){return De.apply(this,arguments)}function De(){return(De=E(b().m(function e(t){var r,n,i,o;return b().w(function(e){for(;;)switch(e.n){case 0:return r=N.getQuery("GET_NEXT_VERSION_NUMBER"),e.n=1,N.executeRead(r,{promptId:t},null,!0);case 1:if(n=e.v,null!==(i=n.maxVersion)){e.n=2;break}return e.a(2,1);case 2:return o="bigint"==typeof i?Number(i):i,e.a(2,Number(o)+1)}},e)}))).apply(this,arguments)}function je(e){return ze.apply(this,arguments)}function ze(){return(ze=E(b().m(function e(t){var r,n,i,o,a,s,c,l,u,p,f,h;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=document.querySelector("#clone_prompt"),n=r.querySelector(".icon-xl"),i=r.querySelector(".spinner"),r.disabled=!0,n.classList.add("hide"),i.classList.remove("hide"),utils.debugLog("Clone Started"),t&&(t.preventDefault(),t.stopPropagation()),o=document.querySelector(".prompt-item.active")){e.n=1;break}return(a=PromptErrorHandler).showError.apply(a,m(PromptErrorCodes.SELECT_PROMPT_TO_CLONE)),r.disabled=!1,n.classList.remove("hide"),i.classList.add("hide"),e.a(2);case 1:return k=!0,L=null,utils.debugLog("Mode - IsNew: "+k),s=o.dataset.promptId,e.p=2,e.n=3,Te(s);case 3:if(!(c=e.v)){e.n=5;break}return e.n=4,nt(c.prompt_id);case 4:l=e.v,u="Clone of "+c.name,delete(p=d(d({},c),{},{prompt_id:l,name:u,internal_name:"",author:R.CURRENT_USER,version:1,system_prompt:c.system_prompt||""})).created_date,delete p.last_modified_date,Ne(),kt(p),document.getElementById("internal_name").removeAttribute("readonly"),document.getElementById("area").removeAttribute("readonly"),document.getElementById("function").removeAttribute("readonly"),document.getElementById("version").removeAttribute("readonly"),jt(R.ACCESS_LEVEL,!0,R.CURRENT_USER),Wt("clone"),PromptStatusHandler.showSuccess("promptCloneSuccess"),e.n=6;break;case 5:(f=PromptErrorHandler).showError.apply(f,m(PromptErrorCodes.PROMPT_NOT_FOUND));case 6:e.n=8;break;case 7:e.p=7,e.v,r.disabled=!1,(h=PromptErrorHandler).showError.apply(h,m(PromptErrorCodes.PROMPT_CLONE_ERROR));case 8:return e.p=8,n.classList.remove("hide"),i.classList.add("hide"),e.f(8);case 9:return e.a(2)}},e,null,[[2,7,8,9]])}))).apply(this,arguments)}function Ue(e){return Me.apply(this,arguments)}function Me(){return(Me=E(b().m(function e(t){var r,n;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=N.getQuery("CHECK_PROMPT_ID_EXISTS"),e.n=1,N.executeRead(r,{promptId:t},null,!0);case 1:return n=e.v,e.a(2,0!==n.count);case 2:return e.p=2,e.v,e.a(2,!1)}},e,null,[[0,2]])}))).apply(this,arguments)}function Be(e){return $e.apply(this,arguments)}function $e(){return $e=E(b().m(function e(t){var r,n,i,o,a=arguments;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:null,t&&t.trim()){e.n=1;break}return e.a(2,!1);case 1:return e.p=1,n=N.getQuery("CHECK_INTERNAL_NAME_UNIQUE"),i={internalName:t.trim(),currentPromptId:r},e.n=2,N.executeRead(n,i,null,!0);case 2:return o=e.v,e.a(2,0===o.count);case 3:return e.p=3,e.v,e.a(2,!1)}},e,null,[[1,3]])})),$e.apply(this,arguments)}function Ve(e,t,r){return Fe.apply(this,arguments)}function Fe(){return(Fe=E(b().m(function e(t,r,n){var i,o,a,s;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,i=(new Date).toISOString(),o=N.getQuery("CREATE_AUDIT_ENTRY"),a={promptId:t,version:"object"===v(r)?r.low:r,auditId:crypto.randomUUID(),entryId:crypto.randomUUID(),timestamp:Math.floor(Date.now()/1e3),currentUser:R.CURRENT_USER,changeMessage:n,audit_created_date:i,entry_created_date:i,partitionkeyproperty:R.COSMOSDB_CONFIG.partitionkeyproperty,partitionkeyvalue:R.COSMOSDB_CONFIG.partitionkeyvalue},e.n=1,N.executeWrite(o,a,null,!0);case 1:return s=e.v,e.a(2,s);case 2:throw e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}))).apply(this,arguments)}function He(e){return We.apply(this,arguments)}function We(){return(We=E(b().m(function e(t){var r,n,i,o,a,s,c,l,u;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=document.querySelector("#activatePromptChain"),n=r.querySelector(".icon-l"),i=r.querySelector(".spinner"),r.disabled=!0,n.classList.add("hide"),i.classList.remove("hide"),e.p=1,o=N.getQuery("ACTIVATE_PROMPT_CHAIN"),e.n=2,N.executeWrite(o,{promptId:t},null,!0);case 2:if(!(a=e.v)){e.n=6;break}return s=a.activatedPromptId,c=a.activatedVersion,e.n=3,Ve(s,c,"Activated prompt");case 3:return PromptStatusHandler.showSuccess("latestVersionActivated",{id:s}),e.n=4,fe();case 4:return e.n=5,ge(s);case 5:e.n=7;break;case 6:(l=PromptErrorHandler).showError.apply(l,m(PromptErrorCodes.NO_PROMPT_TO_ACTIVATE));case 7:e.n=9;break;case 8:e.p=8,e.v,(u=PromptErrorHandler).showError.apply(u,m(PromptErrorCodes.PROMPT_ACTIVATION_ERROR));case 9:return e.p=9,r.disabled=!1,n.classList.remove("hide"),i.classList.add("hide"),e.f(9);case 10:return e.a(2)}},e,null,[[1,8,9,10]])}))).apply(this,arguments)}function qe(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=E(b().m(function e(t){var r,n,i,o,a,s,c,l,u,d,p,f,y;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=document.querySelector("#deactivatePromptChain"),n=r.querySelector(".icon-l"),i=r.querySelector(".spinner"),r.disabled=!0,n.classList.add("hide"),i.classList.remove("hide"),e.p=1,o=N.getQuery("DEACTIVATE_PROMPT_CHAIN"),e.n=2,N.executeWrite(o,{promptId:t},null,!0);case 2:if(!((a=e.v)&&a.deactivatedCount>0)){e.n=11;break}if(s=a.deactivatedCount,!((c=a.deactivatedVersions)&&c.length>0)){e.n=9;break}l=h(c),e.p=3,l.s();case 4:if((u=l.n()).done){e.n=6;break}return d=u.value,e.n=5,Ve(d.promptId,d.version,"Deactivated prompt");case 5:e.n=4;break;case 6:e.n=8;break;case 7:e.p=7,y=e.v,l.e(y);case 8:return e.p=8,l.f(),e.f(8);case 9:return PromptStatusHandler.showSuccess("versionsDeactivated",{count:s}),L&&(L.active=!1),Wt("edit"),e.n=10,fe();case 10:e.n=12;break;case 11:(p=PromptErrorHandler).showError.apply(p,m(PromptErrorCodes.NO_PROMPT_TO_DEACTIVATE));case 12:e.n=14;break;case 13:e.p=13,e.v,(f=PromptErrorHandler).showError.apply(f,m(PromptErrorCodes.PROMPT_DEACTIVATION_ERROR));case 14:return e.p=14,r.disabled=!1,n.classList.remove("hide"),i.classList.add("hide"),e.f(14);case 15:return e.a(2)}},e,null,[[3,7,8,9],[1,13,14,15]])}))).apply(this,arguments)}function Ye(){return(Ye=E(b().m(function e(t){var r,n,i,o;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=N.getQuery("GET_AUDIT_HISTORY"),e.n=1,N.executeRead(r,{promptId:t});case 1:n=e.v,i="",0===n.length?i+='<p data-i18n="noAuditHistory">No audit history available.</p>':(i+='<ul class="audit-list">',n.forEach(function(e){var t,r=e.timestamp;t=("number"==typeof r?new Date(1e3*r):r.toStandardDate?r.toStandardDate():new Date(r.toString())).toISOString();var n=e.changes,o={};try{o=JSON.parse(n)}catch(e){o={change:{new:n}}}var a=e.user||'<span data-i18n="unknown">Unknown</span>';i+='\n                    <li class="audit-item">\n                        <div class="audit-header">\n                            <span class="audit-timestamp" data-date="'.concat(t,'" data-i18n-date="datetime-short"></span>\n                            <span class="audit-user"><span data-i18n="by">by</span> ').concat(a,'</span>\n                        </div>\n                        <ul class="audit-changes">\n                '),Object.entries(o).forEach(function(e){var t=c(e,2),r=t[0],n=t[1],o=n.old?de(n.old):"Not Available",a=de(n.new);i+="\n                        <li><strong>".concat(r,':</strong> \n                            <span class="old-value">').concat(o,'</span> → \n                            <span class="new-value">').concat(a,"</span>\n                        </li>\n                    ")}),i+="\n                        </ul>\n                    </li>\n                "}),i+="</ul>"),Gt("auditHistory",i,{translateTitle:!0}),e.n=3;break;case 2:e.p=2,e.v,(o=PromptErrorHandler).showError.apply(o,m(PromptErrorCodes.AUDIT_HISTORY_ERROR));case 3:return e.a(2)}},e,null,[[0,2]])}))).apply(this,arguments)}function Qe(e){return Je.apply(this,arguments)}function Je(){return(Je=E(b().m(function e(t){var r,n,i,o,a,s,c,l,u,d;return b().w(function(e){for(;;)switch(e.n){case 0:if(r=[],n=/^(?:cloned_)?[A-Z]{3,}-[A-Z]{3,}-PROMPT-\d{3}$/,t.prompt_id?n.test(t.prompt_id)||r.push("PROMPT_ID_FORMAT"):r.push("PROMPT_ID_REQUIRED"),t.name||r.push("NAME_REQUIRED"),t.description||r.push("DESCRIPTION_REQUIRED"),t.model_provider||r.push("MODEL_PROVIDER_REQUIRED"),t.model_name||r.push("MODEL_NAME_REQUIRED"),t.internal_name){e.n=1;break}r.push("INTERNAL_NAME_REQUIRED"),e.n=3;break;case 1:return o=!k&&L&&1===Object.keys(L).length&&L.prompt_id,i=o?L.prompt_id:k?null:null===(a=L)||void 0===a?void 0:a.prompt_id,e.n=2,Be(t.internal_name,i);case 2:e.v||r.push("UNIQUE_INTERNAL_NAME_REQUIRED");case 3:if(t.max_tokens||r.push("MAX_TOKENS_REQUIRED"),t.prompt||r.push("PROMPT_REQUIRED"),t.category||r.push("CATEGORY_REQUIRED"),t.type||r.push("TYPE_REQUIRED"),t.access_level||r.push("ACCESS_LEVEL_REQUIRED"),s=t.prompt||"",c=ne(s),l=t.reserved_fields,u=l.filter(function(e){return!c.includes(e)}),d=c.filter(function(e){return!l.includes(e)}),u.length>0&&r.push({code:"MISSING_FIELDS",params:{fields:u}}),d.length>0&&r.push({code:"EXTRA_FIELDS",params:{fields:d}}),"system"===t.type&&"system"!==t.access_level&&r.push("ACCESS_LEVEL_MISMATCH"),!(r.length>0)){e.n=4;break}return PromptErrorHandler.handleValidationErrors(r),e.a(2,!1);case 4:return e.a(2,!0)}},e)}))).apply(this,arguments)}function Ke(){return Xe.apply(this,arguments)}function Xe(){return(Xe=E(b().m(function e(){var t,r;return b().w(function(e){for(;;)switch(e.n){case 0:return t=N.getQuery("LOAD_SYSTEM_OPTIONS"),e.n=1,N.executeRead(t,{id:"SYSTEM-OPTIONS"},null,!0);case 1:if(!(r=e.v)){e.n=2;break}return r.prompt_access_levels=JSON.parse(r.prompt_access_levels),r.prompt_types=JSON.parse(r.prompt_types),e.a(2,r);case 2:throw new Error("System options not found");case 3:return e.a(2)}},e)}))).apply(this,arguments)}function Ze(e){e&&(e.preventDefault(),e.stopPropagation()),qt(),k=!0,L=null,utils.debugLog("Mode - IsNew: "+k);var t=(new Date).toISOString();kt({prompt_id:"",area:"",function:"",version:"001",name:"New Prompt",internal_name:"",type:"",access_level:R.ACCESS_LEVEL,author:R.CURRENT_USER,created_date:t,last_modified_date:t,category:"user",active:!0,system_prompt:""}),PromptStatusHandler.showSuccess("newPromptCreated"),jt(R.ACCESS_LEVEL,!0,R.CURRENT_USER),Wt("new"),document.getElementById("internal_name").readOnly=!1,document.getElementById("reserved_fields").removeAttribute("data-readonly"),Ut("reserved_fields",[],!1),document.getElementById("area").focus()}function et(){return tt.apply(this,arguments)}function tt(){return(tt=E(b().m(function e(){var t,r,n,i,o,a,s,c,l,u,d;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=document.querySelector("#generatePromptId"),r=t.querySelector("i"),n=t.querySelector(".spinner"),t.disabled=!0,r.classList.add("hide"),n.classList.remove("hide"),i=document.getElementById("area").value.trim().toUpperCase(),o=document.getElementById("function").value.trim().toUpperCase(),a=document.getElementById("version").value||"1",i&&o){e.n=1;break}return(s=PromptErrorHandler).showError.apply(s,m(PromptErrorCodes.AREA_FUNCTION_REQUIRED)),t.disabled=!1,r.classList.remove("hide"),n.classList.add("hide"),e.a(2);case 1:return e.p=1,c=rt(i,o,a),e.n=2,Ue(c);case 2:if(!e.v){e.n=4;break}return e.n=3,nt(c);case 3:l=e.v,PromptStatusHandler.showSuccess("newPromptIdGenerated"),e.n=5;break;case 4:l=c,PromptStatusHandler.showSuccess("promptIdGenerated");case 5:document.getElementById("prompt_id").textContent=l,4===(u=l.split("-")).length&&(document.getElementById("version").value=parseInt(u[3],10)),e.n=7;break;case 6:e.p=6,e.v,(d=PromptErrorHandler).showError.apply(d,m(PromptErrorCodes.PROMPT_ID_GENERATION_ERROR));case 7:return e.p=7,t.disabled=!1,r.classList.remove("hide"),n.classList.add("hide"),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}))).apply(this,arguments)}function rt(e,t,r){var n=parseInt(r,10).toString().padStart(3,"0");return"".concat(e.toUpperCase(),"-").concat(t.toUpperCase(),"-PROMPT-").concat(n)}function nt(e){return it.apply(this,arguments)}function it(){return it=E(b().m(function e(t){var r,n,i,o,a,s,c,l,u,d,p,f,h,m,y=arguments;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=y.length>1&&void 0!==y[1]?y[1]:null,e.p=1,4===(n=t.split("-")).length){e.n=2;break}throw new Error("Invalid prompt ID format");case 2:return i=n[0].toUpperCase(),o=n[1].toUpperCase(),a=n[2],parseInt(n[3],10),s="".concat(i,"-").concat(o,"-").concat(a),c=N.getQuery("GET_LATEST_PROMPT"),l={baseId:s},e.n=3,N.executeRead(c,l,r);case 3:return u=e.v,d=1,u&&u.length>0&&u[0].id&&(p=u[0].id,4===(f=p.split("-")).length&&(h=parseInt(f[3],10),d=h+1)),m=d.toString().padStart(3,"0"),e.a(2,"".concat(s,"-").concat(m));case 4:throw e.p=4,e.v;case 5:return e.a(2)}},e,null,[[1,4]])})),it.apply(this,arguments)}function ot(){return at.apply(this,arguments)}function at(){return(at=E(b().m(function e(){var t,r,n,i,o,a,s,c,l,u,d,p,f,y,g,v,w,_,E,S,T,A;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=document.querySelector("#export_prompt"),r=t.querySelector(".icon-xl"),n=t.querySelector(".spinner"),t.disabled=!0,r.classList.add("hide"),n.classList.remove("hide"),0!==(i=Array.from(document.querySelectorAll(".prompt-item .prompt-checkbox:checked")).map(function(e){return e.closest(".prompt-item").dataset.promptId})).length){e.n=2;break}if(o=I.querySelector(".prompt-item.active")){e.n=1;break}return(a=PromptErrorHandler).showError.apply(a,m(PromptErrorCodes.SELECT_PROMPT_TO_EXPORT)),t.disabled=!1,r.classList.remove("hide"),n.classList.add("hide"),e.a(2);case 1:i.push(o.dataset.promptId);case 2:e.p=2,s=[],c=new Set,l=h(i),e.p=3,l.s();case 4:if((u=l.n()).done){e.n=8;break}if(d=u.value,!c.has(d)){e.n=5;break}return e.a(3,7);case 5:return e.n=6,st(d,c);case 6:(p=e.v)&&s.push(p);case 7:e.n=4;break;case 8:e.n=10;break;case 9:e.p=9,A=e.v,l.e(A);case 10:return e.p=10,l.f(),e.f(10);case 11:s&&s.length>0?(f=s.find(function(e){return e.prompt_id===i[0]})||s[0],y=1===i.length?"prompt_".concat(f.prompt_id,".json"):"prompts_".concat(f.prompt_id,"_and_").concat(i.length-1,"_others.json"),g=1===i.length?s[0]:s,v=JSON.stringify(g,null,2),w=new Blob([v],{type:"application/json"}),_=URL.createObjectURL(w),(E=document.createElement("a")).href=_,E.download=y,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(_),PromptStatusHandler.showSuccess("promptExportSuccess")):(S=PromptErrorHandler).showError.apply(S,m(PromptErrorCodes.PROMPT_NOT_FOUND)),e.n=13;break;case 12:e.p=12,e.v,(T=PromptErrorHandler).showError.apply(T,m(PromptErrorCodes.PROMPT_EXPORT_ERROR));case 13:return e.p=13,t.disabled=!1,r.classList.remove("hide"),n.classList.add("hide"),e.f(13);case 14:return e.a(2)}},e,null,[[3,9,10,11],[2,12,13,14]])}))).apply(this,arguments)}function st(e,t){return ct.apply(this,arguments)}function ct(){return(ct=E(b().m(function e(t,r){var n,i;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r.add(t),e.n=1,Te(t);case 1:if(!(n=e.v)){e.n=2;break}return delete(i=d({},n)).lastAuditTimestamp,i.system_prompt||(i.system_prompt=""),e.a(2,i);case 2:return e.a(2,null);case 3:return e.p=3,e.v,e.a(2,null)}},e,null,[[0,3]])}))).apply(this,arguments)}function lt(){var e=document.createElement("input");e.type="file",e.accept="application/json",e.multiple=!0,e.onchange=function(){var e=E(b().m(function e(t){var r,n,i,o,a,s,c,l,u,d,p,y,g,v,w,_,E,S,T,I,A;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:r=document.querySelector("#import_prompt"),n=r.querySelector(".icon-xl"),i=r.querySelector(".spinner"),r.disabled=!0,n.classList.add("hide"),i.classList.remove("hide"),o=Array.from(t.target.files),utils.debugLog("Selected ".concat(o.length," file(s) for import")),e.p=1,a=[],s=[],c=new Map,l=new Set,u=b().m(function e(){var t,u,d,f,m,y,g,v,w,_,E;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=o[p],utils.debugLog("Processing file ".concat(p+1,"/").concat(o.length,": ").concat(t.name)),e.p=1,e.n=2,new Promise(function(e,r){var n=new FileReader;n.onload=function(t){return e(t.target.result)},n.onerror=function(e){return r(e)},n.readAsText(t)});case 2:u=e.v,d=JSON.parse(u),utils.debugLog("File ".concat(t.name," parsed successfully")),f=Array.isArray(d),y=h(m=f?d:[d]),e.p=3,y.s();case 4:if((g=y.n()).done){e.n=8;break}if((v=g.value).prompt_id&&v.name&&v.prompt){e.n=5;break}throw new Error("Invalid prompt data: missing required fields");case 5:if(!l.has(v.prompt_id)){e.n=6;break}return w=c.get(v.prompt_id),B('Duplicate prompt ID "'.concat(v.prompt_id,'" found. First occurrence in "').concat(w,'", duplicate found in "').concat(t.name,'"'),"error"),r.disabled=!1,n.classList.remove("hide"),i.classList.add("hide"),e.a(2,{v:void 0});case 6:l.add(v.prompt_id),c.set(v.prompt_id,t.name),v._sourceFile=t.name,a.push(v);case 7:e.n=4;break;case 8:e.n=10;break;case 9:e.p=9,_=e.v,y.e(_);case 10:return e.p=10,y.f(),e.f(10);case 11:utils.debugLog("Added ".concat(m.length," prompt(s) from ").concat(t.name,". Total prompts: ").concat(a.length)),e.n=13;break;case 12:e.p=12,E=e.v,s.push({fileName:t.name,error:E.message});case 13:return e.a(2)}},e,null,[[3,9,10,11],[1,12]])}),p=0;case 2:if(!(p<o.length)){e.n=5;break}return e.d(f(u()),3);case 3:if(!(d=e.v)){e.n=4;break}return e.a(2,d.v);case 4:p++,e.n=2;break;case 5:if(0!==a.length){e.n=6;break}return s.length>0&&(y=PromptErrorHandler).showError.apply(y,m(PromptErrorCodes.PROMPT_IMPORT_ERROR)),e.a(2);case 6:if(!(a.length>999)){e.n=7;break}return PromptErrorHandler.showError("tooManyPrompts",{count:a.length}),e.a(2);case 7:if(!((g=a).length>1)){e.n=12;break}return e.n=8,pt(g);case 8:if(v=e.v,w={},!v.hasConflicts){e.n=10;break}return e.n=9,ht(v.conflicts);case 9:if(null!==(w=e.v)){e.n=10;break}return PromptStatusHandler.showSuccess("promptImportCancelled"),e.a(2);case 10:return e.n=11,gt(g,{actionChoices:w});case 11:(_=e.v).importedIds.length>0?PromptStatusHandler.showSuccess("promptsImportedSuccessfully",{count:_.importedIds.length}):PromptStatusHandler.showSuccess("noPromptsImported"),fe(!0),e.n=18;break;case 12:return E=g[0],e.n=13,pt([E]);case 13:if(S=e.v,T="import",!S.hasConflicts){e.n=16;break}return e.n=14,ht(S.conflicts,!0);case 14:if(null!==(I=e.v)){e.n=15;break}return PromptStatusHandler.showSuccess("promptImportCancelled"),e.a(2);case 15:T=I[0]||"import";case 16:if("keep"!==T){e.n=17;break}return PromptStatusHandler.showSuccess("promptImportCancelled"),e.a(2);case 17:return e.n=18,ut(E,T);case 18:e.n=20;break;case 19:e.p=19,e.v,(A=PromptErrorHandler).showError.apply(A,m(PromptErrorCodes.PROMPT_IMPORT_ERROR));case 20:return e.p=20,r.disabled=!1,n.classList.remove("hide"),i.classList.add("hide"),e.f(20);case 21:return e.a(2)}},e,null,[[1,19,20,21]])}));return function(t){return e.apply(this,arguments)}}(),e.click()}function ut(e,t){return dt.apply(this,arguments)}function dt(){return(dt=E(b().m(function e(t,r){var n;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,"overwrite"!==r){e.n=1;break}Nt(t,!0),PromptStatusHandler.showSuccess("promptImportSuccess"),e.n=17;break;case 1:if("import-new"!==r){e.n=6;break}return e.n=2,nt(t.prompt_id);case 2:return t.prompt_id=e.v,e.n=3,Ot(t.name);case 3:if(t.name=e.v,!t.internal_name){e.n=5;break}return e.n=4,Pt(t.internal_name);case 4:t.internal_name=e.v;case 5:void 0!==t.version&&(t.version=1),t.system_prompt||(t.system_prompt=""),Nt(t,!1),PromptStatusHandler.showSuccess("promptImportSuccess"),e.n=17;break;case 6:if("keep"!==r){e.n=7;break}return PromptStatusHandler.showSuccess("promptImportCancelled"),e.a(2);case 7:return e.n=8,Ue(t.prompt_id);case 8:if(!e.v){e.n=10;break}return e.n=9,nt(t.prompt_id);case 9:t.prompt_id=e.v,PromptStatusHandler.showSuccess("newPromptIdGenerated");case 10:return e.n=11,St(t.name);case 11:if(!e.v){e.n=13;break}return e.n=12,Ot(t.name);case 12:t.name=e.v;case 13:if(!t.internal_name){e.n=16;break}return e.n=14,It(t.internal_name);case 14:if(!e.v){e.n=16;break}return e.n=15,Pt(t.internal_name);case 15:t.internal_name=e.v;case 16:void 0!==t.version&&(t.version=1),t.system_prompt||(t.system_prompt=""),Nt(t,!1),PromptStatusHandler.showSuccess("promptImportSuccess");case 17:e.n=19;break;case 18:e.p=18,e.v,(n=PromptErrorHandler).showError.apply(n,m(PromptErrorCodes.PROMPT_IMPORT_ERROR));case 19:return e.a(2)}},e,null,[[0,18]])}))).apply(this,arguments)}function pt(e){return ft.apply(this,arguments)}function ft(){return(ft=E(b().m(function e(t){var r,n,i,o,a,s,c,l;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:r=[],n=h(t),e.p=1,n.s();case 2:if((i=n.n()).done){e.n=16;break}if(o=i.value,a={prompt:o,idExists:!1,nameExists:!1,internalNameExists:!1,existingPromptWithSameId:null,existingPromptWithSameName:null,existingPromptWithSameInternalName:null},!o.prompt_id){e.n=6;break}return e.p=3,e.n=4,Ue(o.prompt_id);case 4:e.v&&(a.idExists=!0,a.existingPromptWithSameId={prompt_id:o.prompt_id}),e.n=6;break;case 5:e.p=5,e.v;case 6:if(!o.name){e.n=10;break}return e.p=7,e.n=8,St(o.name);case 8:e.v&&(a.nameExists=!0,a.existingPromptWithSameName={name:o.name}),e.n=10;break;case 9:e.p=9,e.v;case 10:if(!o.internal_name){e.n=14;break}return e.p=11,s=N.getQuery("CHECK_INTERNAL_NAME_UNIQUE"),e.n=12,N.executeRead(s,{internalName:o.internal_name,currentPromptId:null},null,!0);case 12:(c=e.v)&&c.count>0&&(a.internalNameExists=!0,a.existingPromptWithSameInternalName={internal_name:o.internal_name}),e.n=14;break;case 13:e.p=13,e.v;case 14:(a.idExists||a.nameExists||a.internalNameExists)&&r.push(a);case 15:e.n=2;break;case 16:e.n=18;break;case 17:e.p=17,l=e.v,n.e(l);case 18:return e.p=18,n.f(),e.f(18);case 19:return e.a(2,{hasConflicts:r.length>0,conflicts:r})}},e,null,[[11,13],[7,9],[3,5],[1,17,18,19]])}))).apply(this,arguments)}function ht(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(r){var n=document.getElementById("existing-prompts-dialog"),i=n.querySelector(".existing-prompts-tbody"),o=document.getElementById("existing-prompt-row-template");n.querySelector(".overwrite-warning");i.innerHTML="",e.forEach(function(e,t){var r,n,a,s=e.prompt,c=[];e.idExists&&c.push((null===(r=window.i18n)||void 0===r?void 0:r.translate("idAlreadyExists"))||"ID already exists");e.nameExists&&c.push((null===(n=window.i18n)||void 0===n?void 0:n.translate("nameAlreadyExists"))||"Name already exists");e.internalNameExists&&c.push((null===(a=window.i18n)||void 0===a?void 0:a.translate("internalNameAlreadyExists"))||"Internal name already exists");var l=o.content.cloneNode(!0),u=l.querySelector("tr");l.querySelector(".prompt-name").textContent=s.name||"Unnamed",l.querySelector(".prompt-id").textContent=s.prompt_id||"No ID",l.querySelector(".conflict-types").textContent=c.join(", "),u.setAttribute("data-prompt-index",t),l.querySelectorAll('input[type="radio"]').forEach(function(e){e.name="prompt-".concat(t)});var d=l.querySelector('input[value="overwrite"]'),p=l.querySelector(".dropdown-selected"),f=l.querySelector(".selected-text");d&&p&&f&&(d.checked=!0,p.setAttribute("data-value","overwrite"),f.textContent="Overwrite with imported version",f.setAttribute("data-i18n","overwriteWithImported")),i.appendChild(l)}),function(e){var t=e.querySelectorAll(".custom-dropdown");t.forEach(function(r){var n=r.querySelector(".dropdown-selected"),i=r.querySelector(".dropdown-options"),o=r.querySelectorAll('input[type="radio"]');n.onclick=function(e){if(e.stopPropagation(),t.forEach(function(e){e!==r&&(e.querySelector(".dropdown-options").style.display="none",e.querySelector(".dropdown-selected").classList.remove("open"))}),"none"===i.style.display||""===i.style.display){var o=n.getBoundingClientRect();i.style.top="".concat(o.bottom,"px"),i.style.left="".concat(o.left,"px"),i.style.width="".concat(o.width,"px"),i.style.display="block",n.classList.add("open")}else i.style.display="none",n.classList.remove("open")},o.forEach(function(t){t.onchange=function(){t.checked&&(mt(t),i.style.display="none",n.classList.remove("open"),yt(e))}})}),document.onclick=function(e){e.target.closest(".custom-dropdown")||t.forEach(function(e){e.querySelector(".dropdown-options").style.display="none",e.querySelector(".dropdown-selected").classList.remove("open")})}}(n);var a=n.querySelector(".set-all-overwrite"),s=n.querySelector(".set-all-keep"),c=n.querySelector(".set-all-import-new");if(t){var l=n.querySelector(".bulk-actions");l&&(l.style.display="none")}else{var u=n.querySelector(".bulk-actions");u&&(u.style.display="flex")}a.onclick=function(){n.querySelectorAll('input[value="overwrite"]').forEach(function(e){e.checked=!0,mt(e)}),yt(n)},s.onclick=function(){n.querySelectorAll('input[value="keep"]').forEach(function(e){e.checked=!0,mt(e)}),yt(n)},c.onclick=function(){n.querySelectorAll('input[value="import-new"]').forEach(function(e){e.checked=!0,mt(e)}),yt(n)};var d=n.querySelector(".modal-close"),p=n.querySelector(".cancel-button"),f=n.querySelector(".confirm-button"),h=function(){n.style.display="none",r(null)};d.onclick=h,p.onclick=h,f.onclick=function(){var t={};e.forEach(function(e,r){var i=n.querySelector('input[name="prompt-'.concat(r,'"]:checked'));t[r]=i?i.value:"overwrite"}),n.style.display="none",r(t)},yt(n),n.style.display="flex"})}function mt(e){var t=e.closest(".custom-dropdown").querySelector(".dropdown-selected"),r=t.querySelector(".selected-text"),n=e.parentNode.querySelector("span").textContent;r.textContent=n,t.setAttribute("data-value",e.value),"overwrite"===e.value?r.setAttribute("data-i18n","overwriteWithImported"):"keep"===e.value?r.setAttribute("data-i18n","keepCurrentVersion"):"import-new"===e.value&&r.setAttribute("data-i18n","importWithNewIdAndName")}function yt(e){var t=e.querySelector(".overwrite-warning"),r=e.querySelector('input[value="overwrite"]:checked');t.style.display=r?"block":"none"}function gt(e){return vt.apply(this,arguments)}function vt(){return vt=E(b().m(function e(t){var r,n,i,o,a,s,c,l,u=arguments;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:r=(u.length>1&&void 0!==u[1]?u[1]:{}).actionChoices,n=void 0===r?{}:r,i=new Set,o=[],a=0;case 1:if(!(a<t.length)){e.n=6;break}return s=t[a],e.p=2,e.n=3,bt(s,i,n,a);case 3:(c=e.v)&&o.push(c),e.n=5;break;case 4:e.p=4,l=e.v,o.push({originalId:s.prompt_id,finalId:null,originalName:s.name,finalName:null,action:"error",idChanged:!1,nameChanged:!1,error:l.message});case 5:a++,e.n=1;break;case 6:return e.a(2,{importedIds:Array.from(i),results:o})}},e,null,[[2,4]])})),vt.apply(this,arguments)}function bt(e,t,r,n){return wt.apply(this,arguments)}function wt(){return(wt=E(b().m(function e(t,r,n,i){var o,a,s,c,l,u,d,p,f,h,m,y;return b().w(function(e){for(;;)switch(e.n){case 0:if(o=t.prompt_id,a=t.name,s=t.internal_name,"keep"!==n[i]){e.n=1;break}return e.a(2,{originalId:o,finalId:o,originalName:a,finalName:a,action:"skipped",idChanged:!1,nameChanged:!1,skipped:!0});case 1:if(c=t.name,l=!1,u=t.internal_name,d=!1,p=!1,"import-new"!==n[i]){e.n=6;break}return e.n=2,nt(t.prompt_id);case 2:return f=e.v,t.prompt_id=f,p=o!==f,e.n=3,Ot(t.name);case 3:if(c=e.v,t.name=c,l=!0,!t.internal_name){e.n=5;break}return e.n=4,Pt(t.internal_name);case 4:u=e.v,t.internal_name=u,d=!0;case 5:e.n=13;break;case 6:if("overwrite"!==n[i]){e.n=7;break}e.n=13;break;case 7:return e.n=8,St(t.name);case 8:if(!e.v){e.n=10;break}return e.n=9,Ot(t.name);case 9:c=e.v,t.name=c,l=!0;case 10:if(h=t.internal_name,!t.internal_name){e.n=13;break}return e.n=11,It(t.internal_name);case 11:if(!e.v){e.n=13;break}return e.n=12,Pt(t.internal_name);case 12:h=e.v,t.internal_name=h;case 13:return t.version=1,t.active=!0,t.created_date=(new Date).toISOString(),t.last_modified_date=(new Date).toISOString(),t.author=R.CURRENT_USER,m="overwrite"===n[i],e.n=14,_t(t,m);case 14:if(!(y=e.v)||!y.prompt_id){e.n=15;break}return r.add(y.prompt_id),e.a(2,{originalId:o,finalId:y.prompt_id,originalName:a,finalName:c,originalInternalName:s,finalInternalName:u,action:n[i]||"import-new",idChanged:p||o!==y.prompt_id,nameChanged:l,internalNameChanged:d});case 15:throw new Error("Failed to save prompt to database");case 16:return e.a(2)}},e)}))).apply(this,arguments)}function _t(e){return Et.apply(this,arguments)}function Et(){return Et=E(b().m(function e(t){var r,n,i,o,a,s,c,l=arguments;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=l.length>1&&void 0!==l[1]&&l[1],e.p=1,n=(new Date).toISOString(),!r){e.n=6;break}return a=N.getQuery("CHECK_PROMPT_ID_EXISTS"),e.p=2,e.n=3,N.executeRead(a,{promptId:t.prompt_id});case 3:(s=e.v)&&s.count>0?(i=N.getQuery("UPDATE_PROMPT"),o=d(d({oldPromptId:t.prompt_id},t),{},{created_date:t.created_date||n,last_modified_date:n})):(i=N.getQuery("INSERT_PROMPT"),o=d(d({},t),{},{created_date:n,last_modified_date:n})),e.n=5;break;case 4:e.p=4,e.v,i=N.getQuery("INSERT_PROMPT"),o=d(d({},t),{},{created_date:n,last_modified_date:n});case 5:e.n=7;break;case 6:i=N.getQuery("INSERT_PROMPT"),o=d(d({},t),{},{created_date:n,last_modified_date:n});case 7:return e.n=8,N.executeWrite(i,o);case 8:if(!(c=e.v)){e.n=9;break}return e.a(2,c);case 9:throw new Error("No result returned from database");case 10:e.n=12;break;case 11:throw e.p=11,e.v;case 12:return e.a(2)}},e,null,[[2,4],[1,11]])})),Et.apply(this,arguments)}function St(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=E(b().m(function e(t){var r,n;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=N.getQuery("CHECK_NAME_UNIQUE"),e.n=1,N.executeRead(r,{name:t,currentPromptId:null},null,!0);case 1:return n=e.v,e.a(2,n&&n.count>0);case 2:return e.p=2,e.v,e.a(2,!1)}},e,null,[[0,2]])}))).apply(this,arguments)}function It(e){return At.apply(this,arguments)}function At(){return(At=E(b().m(function e(t){var r,n;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=N.getQuery("CHECK_INTERNAL_NAME_UNIQUE"),e.n=1,N.executeRead(r,{internalName:t,currentPromptId:null},null,!0);case 1:return n=e.v,e.a(2,n&&n.count>0);case 2:return e.p=2,e.v,e.a(2,!1)}},e,null,[[0,2]])}))).apply(this,arguments)}function Ot(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=E(b().m(function e(t){var r,n;return b().w(function(e){for(;;)switch(e.n){case 0:r=1,n="Import of ".concat(t);case 1:return e.n=2,St(n);case 2:if(!e.v){e.n=4;break}if(n="Import (".concat(r,") of ").concat(t),!(++r>999)){e.n=3;break}return e.a(3,4);case 3:e.n=1;break;case 4:return e.a(2,n)}},e)}))).apply(this,arguments)}function Pt(e){return xt.apply(this,arguments)}function xt(){return(xt=E(b().m(function e(t){var r,n,i;return b().w(function(e){for(;;)switch(e.n){case 0:r=1;case 1:if(!(r<=999)){e.n=4;break}return n=r.toString().padStart(3,"0"),i="".concat(t,"_").concat(n),e.n=2,It(i);case 2:if(e.v){e.n=3;break}return e.a(2,i);case 3:r++,e.n=1;break;case 4:throw new Error("Unable to generate unique internal name for: ".concat(t));case 5:return e.a(2)}},e)}))).apply(this,arguments)}function Nt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];kt(e),document.querySelectorAll(".prompt-item").forEach(function(e){e.classList.remove("active")}),t?(k=!1,L={prompt_id:e.prompt_id}):(k=!0,L=null);var r=document.getElementById("model_provider");if(r&&e.model_provider){var n=Array.from(r.options).find(function(t){return t.value===e.model_provider});n&&(n.selected=!0)}var i=document.getElementById("system_prompt");i&&void 0!==e.system_prompt&&(i.value=e.system_prompt||"",i.classList.contains("auto-expand")&&e.system_prompt&&F(i)),oe(),jt(R.ACCESS_LEVEL,k,R.CURRENT_USER),Wt(t?"edit":"import"),document.getElementById("internal_name").removeAttribute("readonly"),document.getElementById("area").removeAttribute("readonly"),document.getElementById("function").removeAttribute("readonly"),document.getElementById("version").removeAttribute("readonly"),document.querySelectorAll(".prompt-item").forEach(function(e){e.classList.remove("active")}),$(".prompt-editor");var o=new Event("change");r.dispatchEvent(o)}function kt(e){if(utils.debugLog("Setting form data:",e),qt(),Object.keys(e).forEach(function(t){var r="type"===t?"prompt_type":t,n=document.getElementById(r);if(n){if("reserved_fields"===t||"tags"===t)("reserved_fields"===t?A:O).setTags(Array.isArray(e[t])?e[t]:[]);else if("created_date"===t||"last_modified_date"===t){var i=document.getElementById(t);i.setAttribute("data-date",e[t]),i.setAttribute("data-i18n-date","datetime-medium")}else"prompt_id"===t?n.textContent=e[t]:"system_prompt"===t?(n.value=e[t]||"",n.classList.contains("auto-expand")&&e[t]&&F(n)):"INPUT"!==n.tagName&&"SELECT"!==n.tagName&&"TEXTAREA"!==n.tagName||(n.value=e[t],["author","internal_name","version"].includes(t)&&(n.readOnly=!0,n.classList.add("readonly")),"prompt"!==t&&"system_prompt"!==t||!n.classList.contains("auto-expand")||F(n),"prompt"===t&&oe());if("model_provider"===t||"type"===t){var o="type"===t?"prompt_type":t,a=document.getElementById(o),s=Array.from(a.options).find(function(r){return r.value===e[t]});s&&(s.selected=!0),"type"===t&&Ht(e[t])}}}),e.prompt_id){var t=e.prompt_id.split("-");4===t.length&&(document.getElementById("area").value=t[0],document.getElementById("function").value=t[1],document.getElementById("version").value=t[3])}}function Lt(){return Ct.apply(this,arguments)}function Ct(){return(Ct=E(b().m(function e(){var t,r,n,i,o,a,s,c,l,u,d;return b().w(function(e){for(;;)switch(e.n){case 0:if(t=new FormData(T),(r=Object.fromEntries(t.entries())).prompt_id=document.getElementById("prompt_id").textContent||"",r.system_prompt=document.getElementById("system_prompt").value||"",utils.debugLog("Raw form data:",r),(n=document.getElementById("prompt_type"))&&(r.type=n.value),"prompt_type"in r&&delete r.prompt_type,r.max_tokens=parseInt(document.getElementById("max_tokens").value,10),r.model_provider=document.getElementById("model_provider").value,r.model_name=document.getElementById("model_name").value,r.access_level=document.getElementById("access_level").value,r.category=document.getElementById("category").value,r.reserved_fields=A.getTags(),r.tags=O.getTags(),r.max_tokens=parseInt(r.max_tokens,10)||0,delete r.area,delete r.function,delete r.version,i=document.querySelector(".prompt-editor"),o=!k&&L&&1===Object.keys(L).length&&L.prompt_id,!(i.classList.contains("new-mode")||i.classList.contains("clone-mode")||i.classList.contains("import-mode"))){e.n=1;break}r.version=1,e.n=6;break;case 1:if(!i.classList.contains("edit-mode")&&!o){e.n=5;break}if(!o){e.n=3;break}return e.n=2,Ce(r.prompt_id);case 2:r.version=e.v,e.n=4;break;case 3:L&&L.versions?(a=L.versions.map(function(e){return"object"===v(e.version)?e.version.low:e.version}),s=Math.max.apply(Math,m(a).concat([L.version||1])),r.version=s+1):r.version=((null===(c=L)||void 0===c?void 0:c.version)||1)+1;case 4:e.n=6;break;case 5:l=document.getElementById("version"),r.version=parseInt(l.value,10)||1;case 6:return u=(new Date).toISOString(),d=document.getElementById("created_date").getAttribute("data-date"),r.created_date=d?new Date(d).toISOString():u,r.last_modified_date=u,e.a(2,r)}},e)}))).apply(this,arguments)}function Dt(e){document.getElementById("promptAccessLevel").textContent="".concat(e)}function jt(e,t,r){var n=document.getElementById("prompt_type"),i=document.getElementById("access_level"),o=document.getElementById("category"),a=document.getElementById("system_prompt");n&&(n.disabled=!0),i&&(i.disabled=!0),o&&(o.disabled=!0);var s=r===R.CURRENT_USER;switch(a&&(a.readOnly=!1,a.classList.remove("readonly")),e){case"system":n&&(n.value="system",Array.from(n.options).forEach(function(e){"system"!==e.value&&e.remove()})),i&&(i.value="system",Array.from(i.options).forEach(function(e){"system"!==e.value&&e.remove()}));break;case"admin":n&&(n.disabled=!1),i&&(i.disabled=!1),o&&(o.disabled=!1),n&&se(n,"system"),i&&se(i,"system");break;case"restricted":(t||s)&&(n&&(n.disabled=!1,ae(n,"system"),ae(n,"admin")),i&&(i.disabled=!1,ae(i,"system"),ae(i,"admin")));break;default:(t||s)&&(n&&(n.disabled=!1,ae(n,"system"),ae(n,"admin"),ae(n,"restricted")),i&&(i.value="user",i.disabled=!0))}}function zt(){return new Promise(function(e){if(x){Gt("discardChanges",'\n            <div class="row">\n                <p>You have unsaved changes. Are you sure you want to discard them?</p>\n            </div>\n            <div class="row form-actions">\n                <button type="button" class="secondary-button cancel-button">\n                    Cancel\n                </button>\n                <button type="button" class="danger-button confirm-button">\n                    Confirm\n                </button>\n            </div>\n        ',{translateTitle:!0,modalClass:"confirm-modal"}),setTimeout(function(){var t=document.querySelector(".modal.confirm-modal");if(t){var r=t.querySelector(".confirm-button"),n=t.querySelector(".cancel-button"),i=t.querySelector(".close-button"),o=function(){t.remove(),e(!1)};r&&(r.onclick=function(){x=!1,t.remove(),e(!0)}),n&&(n.onclick=o),i&&(i.onclick=o)}else e(!1)},10)}else e(!0)})}function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.getElementById(e),i=t;function o(){if(n.innerHTML="",i.forEach(function(e){var t=document.createElement("span");if(t.classList.add("tag"),t.textContent=e,!r){var a=document.createElement("button");a.textContent="×",a.setAttribute("data-i18n-aria-label","remove"),a.setAttribute("data-i18n-params",JSON.stringify({item:e})),a.onclick=function(){i=i.filter(function(t){return t!==e}),o()},t.appendChild(a)}n.appendChild(t)}),!r){var t=document.createElement("input");t.type="text",t.setAttribute("data-i18n-placeholder","add"),t.setAttribute("data-i18n-aria-label","addNew"),t.setAttribute("data-i18n-params",JSON.stringify({item:e})),t.addEventListener("keydown",function(e){if("Enter"===e.key||","===e.key){e.preventDefault();var r=t.value.trim();r&&!i.includes(r)&&(i.push(r),o(),t.value="")}}),n.appendChild(t)}}return o(),{getTags:function(){return i},setTags:function(e){i=e,o()}}}function Mt(e){var t=new Set(Array.from(I.children).filter(function(e){return e.classList.contains("prompt-item")}).map(function(e){return e.dataset.promptId}));(null==e?void 0:e.sort(function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())})).forEach(function(e){var r;if(!t.has(e.prompt_id)){var n=document.createElement("div");n.className="prompt-item",n.dataset.promptId=e.prompt_id,n.dataset.accessLevel=e.access_level,n.dataset.type=e.type,n.dataset.active=null===(r=e.active)||void 0===r?void 0:r.toString(),n.dataset.tags=JSON.stringify(e.tags||[]);var i=document.createElement("input");i.type="checkbox",i.className="prompt-checkbox prompt-select",i.setAttribute("aria-label","Select ".concat(e.name)),i.addEventListener("click",function(e){var t,r,n;e.stopPropagation(),t=document.getElementById("markAllPrompts"),r=document.querySelectorAll(".prompt-checkbox"),n=document.querySelectorAll(".prompt-checkbox:checked"),0===r.length||0===n.length?(t.checked=!1,t.indeterminate=!1):n.length===r.length?(t.checked=!0,t.indeterminate=!1):(t.checked=!1,t.indeterminate=!0),re()}),n.addEventListener("click",function(t){t.target.closest(".prompt-checkbox, .prompt-menu")||ge(e.prompt_id)});var o=document.createElement("div");o.className="prompt-header";var a=document.createElement("div");a.className="prompt-name",a.textContent="".concat(e.name);var s=document.createElement("div");s.className="prompt-menu";var c=document.createElement("button");c.className="prompt-menu-button",c.innerHTML='<i class="fa-solid fa-ellipsis-vertical"></i>',c.setAttribute("data-i18n-aria-label","promptOptions");var l=document.createElement("div");l.className="prompt-menu-dropdown";var u=document.createElement("button");u.className="prompt-menu-item",u.innerHTML='<span data-i18n="viewHistory">View History</span>',u.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),function(e){Ye.apply(this,arguments)}(e.prompt_id),l.classList.remove("show")}),c.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),document.querySelectorAll(".prompt-menu-dropdown").forEach(function(e){e!==l&&e.classList.remove("show")}),l.classList.toggle("show")}),l.appendChild(u),s.appendChild(c),s.appendChild(l);var d=document.createElement("span");d.className="prompt-category",d.textContent="".concat(e.category);var p=document.createElement("div");p.className="prompt-info-container",p.addEventListener("click",function(e){e.stopPropagation()});var f=document.createElement("div");f.className="date-container";var h=document.createElement("div");h.className="created-date",h.setAttribute("data-date",e.created_date),h.innerHTML=e.created_date?'<i class="fa-regular fa-square-plus"></i><span data-date="'.concat(e.created_date,'" data-i18n-date="date-medium"></span>'):'<i class="fa-regular fa-square-plus"></i> -';var m=document.createElement("div");m.className="last-modified-date",m.setAttribute("data-date",e.last_modified_date),m.innerHTML=e.last_modified_date?'<i class="fa-solid fa-pen-to-square"></i><span data-date="'.concat(e.last_modified_date,'" data-i18n-date="date-medium"></span>'):"",f.appendChild(h),f.appendChild(m),p.appendChild(f),o.appendChild(a),o.appendChild(s);var y=document.createElement("div");y.className="prompt-content",y.appendChild(o),y.appendChild(d),y.appendChild(p),n.appendChild(i),n.appendChild(y),I.appendChild(n)}}),window.menuCloseHandler||(window.menuCloseHandler=function(e){document.querySelectorAll(".prompt-menu-dropdown").forEach(function(t){t.parentElement.contains(e.target)||t.classList.remove("show")})},document.addEventListener("click",window.menuCloseHandler))}function Bt(){return $t.apply(this,arguments)}function $t(){return($t=E(b().m(function e(){return b().w(function(e){for(;;)switch(e.n){case 0:if(!z){e.n=1;break}return e.a(2);case 1:return e.n=2,fe(!0);case 2:return e.a(2)}},e)}))).apply(this,arguments)}function Vt(e,t){var r=document.getElementById(e),n=document.getElementById("".concat(e,"_description"));r.innerHTML='<option value="" data-i18n="dropdownPlaceholder">Select an option</option>',t.forEach(function(e){var t=document.createElement("option");t.value=e.value,t.textContent=e.value,t.setAttribute("data-description",e.description),r.appendChild(t)}),r.addEventListener("mouseover",function(e){"OPTION"===e.target.tagName&&""!==e.target.value&&(n.textContent=e.target.getAttribute("data-description"))}),r.addEventListener("mouseout",function(){if(""===r.value)n.textContent="";else{var e=r.options[r.selectedIndex];n.textContent=e.getAttribute("data-description")}}),r.addEventListener("change",function(){if(""!==r.value){var e=r.options[r.selectedIndex];n.textContent=e.getAttribute("data-description")}else n.textContent=""})}function Ft(){var e=document.getElementById("promptIdStatus");e&&(e.style.display="none",e.textContent="")}function Ht(e){var t=document.getElementById("systemPromptSection"),r=document.getElementById("system_prompt");e&&"system"!==e?(t.classList.add("show"),t.style.display="block",r.required=!1,r.readOnly=!1,r.classList.remove("readonly")):(t.classList.remove("show"),t.style.display="none",r.required=!1,r.value="")}function Wt(e){var t=document.querySelector(".prompt-editor");t.classList.remove("view-mode","edit-mode","new-mode","clone-mode","import-mode"),t.classList.add("".concat(e,"-mode"));var r=document.getElementById("generatePromptId"),n=document.getElementById("area"),i=document.getElementById("function"),o=document.getElementById("version"),a="new"===e||"clone"===e||"import"===e;r.disabled=!a,n.readOnly=!a,i.readOnly=!a,o.readOnly=!a,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.getElementById("new_prompt"),n=document.getElementById("save_prompt"),i=document.getElementById("clone_prompt"),o=document.getElementById("import_prompt"),a=document.getElementById("export_prompt"),s=document.getElementById("cancel_prompt"),c=document.getElementById("generatePromptId");switch(o.disabled=!1,n.style.display="none",s.style.display="none",r.style.display="flex",e){case"view":r.style.display="flex",r.disabled=!1,i.disabled=!t,re(),c.disabled=!0;break;case"edit":r.style.display="none",n.style.display="flex",s.style.display="flex",i.disabled=!1,a.disabled=!1,c.disabled=!0;break;case"clone":case"new":case"import":r.style.display="none",n.style.display="flex",s.style.display="flex",i.disabled=!0,a.disabled=!0,c.disabled=!1}}(e,"edit"===e||"clone"===e);var s,c=document.getElementById("deactivatedLabel"),l=document.getElementById("deactivatePromptChain"),u=document.getElementById("activatePromptChain");"edit"===e?null!==(s=L)&&void 0!==s&&s.active?(l.classList.remove("hide"),u.classList.add("hide"),c.classList.add("hide")):(l.classList.add("hide"),u.classList.remove("hide"),c.classList.remove("hide")):(l.classList.add("hide"),u.classList.add("hide"),c.classList.add("hide"));Ft()}function qt(){T.reset(),document.getElementById("prompt_id").textContent="",document.getElementById("name").value="",document.getElementById("internal_name").value="",document.getElementById("description").value="",document.getElementById("prompt").value="",document.getElementById("system_prompt").value="",document.getElementById("area").value="",document.getElementById("function").value="",document.getElementById("version").value="",document.getElementById("model_provider").selectedIndex=0,document.getElementById("prompt_type").selectedIndex=0,document.getElementById("access_level").selectedIndex=0,document.getElementById("activateVersionBtn").disabled=!0,document.getElementById("author").value="",document.getElementById("category").value="",document.getElementById("model_name").value="",document.getElementById("max_tokens").value="";var e=document.getElementById("prior_versions");e.innerHTML="";var t=document.createElement("option");t.value="",t.setAttribute("data-i18n","currentVersion"),t.selected=!0,e.appendChild(t),document.getElementById("activateVersionBtn").disabled=!0,document.getElementById("created_date").textContent="",document.getElementById("created_date").removeAttribute("data-date"),document.getElementById("last_modified_date").textContent="",document.getElementById("last_modified_date").removeAttribute("data-date"),A.setTags([]),O.setTags([]),document.querySelectorAll(".auto-expand").forEach(function(e){e.style.height="auto"}),document.getElementById("deactivatedLabel").classList.add("hide"),document.getElementById("activatePromptChain").classList.add("hide"),document.getElementById("deactivatePromptChain").classList.add("hide");var r=document.getElementById("systemPromptSection");r.style.display="none",r.classList.remove("show");var n=document.getElementById("system_prompt");n.readOnly=!1,n.classList.remove("readonly"),Ft(),x=!1}function Gt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.wide,i=void 0!==n&&n,o=r.modalClass,a=void 0===o?"":o,s=r.onClose,c=void 0===s?null:s,l=r.closeOnBackdrop,u=void 0!==l&&l,d=r.translateTitle,p=void 0!==d&&d,f=document.createElement("div");f.className="modal ".concat(a).concat(i?" wide":""),f.setAttribute("role","dialog"),f.setAttribute("aria-labelledby","modalTitle");var h=p?'<h2 id="modalTitle" data-i18n="'.concat(e,'"></h2>'):'<h2 id="modalTitle">'.concat(e,"</h2>");f.innerHTML='\n        <div class="modal-content">\n            <div class="modal-header">\n                '.concat(h,'\n                <span class="close-button" data-i18n-aria-label="close"><i class="fa-solid fa-times"></i></span>\n            </div>\n            <div class="modal-body">').concat(t,"</div>\n        </div>\n    "),document.body.appendChild(f),f.querySelectorAll(".timestamp").forEach(function(e){var t,r=(null===(t=e.childNodes[0])||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim())||e.textContent.trim();if(r){var n=new Date(r);isNaN(n.getTime())||(e.setAttribute("data-date",n.toISOString()),e.setAttribute("data-i18n-date","datetime-medium"))}});f.querySelector(".close-button").onclick=function(){return f.remove()},u&&f.addEventListener("click",function(e){e.target===f&&(f.remove(),c&&c())})}function Yt(){return Yt=E(b().m(function e(){var t,r,n,s;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return utils.debugLog("Initializing application"),utils.debugLog("Mode - IsNew: "+k),e.p=1,H(),T=document.getElementById("promptForm"),I=document.getElementById("promptList"),ce("initial"),Wt("view"),N=i.M.classFactory(R,o,a),e.n=2,N.initialize();case 2:return utils.debugLog("Database driver initialized successfully"),e.n=3,Ke();case 3:return S=e.v,k=!1,Vt("prompt_type",S.prompt_types),Vt("access_level",S.prompt_access_levels),A=Ut("reserved_fields",[],!0),O=Ut("tags"),e.n=4,fe();case 4:return e.n=5,X();case 5:Y(),W(),q("promptSearch","clearSearch"),Dt(R.ACCESS_LEVEL),ie(S.models_providers),document.getElementById("import_prompt").addEventListener("click",lt),document.getElementById("export_prompt").addEventListener("click",ot),document.getElementById("prompt").addEventListener("input",oe),(t=document.getElementById("save_prompt"))&&t.addEventListener("click",function(){var e=E(b().m(function e(t){return b().w(function(e){for(;;)switch(e.n){case 0:return t.preventDefault(),e.n=1,Ee(t);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),Ae(),(r=document.getElementById("cancel_prompt"))&&r.addEventListener("click",Pe),T.addEventListener("submit",Ee),n=!1,document.getElementById("prior_versions").addEventListener("change",function(e){if(!n){n=!0;try{var t=document.getElementById("activateVersionBtn"),r=this.options[this.selectedIndex];if(t.disabled=!r||"true"===r.dataset.active,r&&r.value){var i,o=r.textContent.match(/\d+/),a=o?o[0]:r.dataset.version;if(a)we(null===(i=L)||void 0===i?void 0:i.prompt_id,a)}}finally{n=!1}}}),document.getElementById("activateVersionBtn").addEventListener("click",function(){var e,t=document.getElementById("prior_versions").value;t?ke(t):(e=PromptErrorHandler).showError.apply(e,m(PromptErrorCodes.SELECT_VERSION_TO_ACTIVATE))}),document.getElementById("new_prompt").addEventListener("click",Ze),document.getElementById("clone_prompt").addEventListener("click",je),document.getElementById("markAllPrompts").addEventListener("change",function(){var e=this;document.querySelectorAll(".prompt-checkbox").forEach(function(t){t.checked=e.checked}),re()}),(s=document.getElementById("generatePromptId"))&&s.addEventListener("click",et),document.getElementById("deactivatePromptChain").addEventListener("click",function(){var e,t;null!==(e=L)&&void 0!==e&&e.prompt_id?qe(L.prompt_id):(t=PromptErrorHandler).showError.apply(t,m(PromptErrorCodes.SELECT_PROMPT_TO_DEACTIVATE))}),document.getElementById("activatePromptChain").addEventListener("click",function(){var e,t;null!==(e=L)&&void 0!==e&&e.prompt_id?He(L.prompt_id):(t=PromptErrorHandler).showError.apply(t,m(PromptErrorCodes.SELECT_PROMPT_TO_ACTIVATE))}),jt(R.ACCESS_LEVEL,!0,R.CURRENT_USER),Ft(),e.n=7;break;case 6:e.p=6,e.v;case 7:utils.debugLog("Application initialized");case 8:return e.a(2)}},e,null,[[1,6]])})),Yt.apply(this,arguments)}window.showError=B,window.showMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=document.querySelector(".prompt-editor");if(n){var i=document.createElement("div");i.className="status-message ".concat(t),i.setAttribute("role","status"),i.textContent=e;var o=n.querySelector("form");o?n.insertBefore(i,o):n.insertBefore(i,n.firstChild),setTimeout(function(){i.parentNode&&i.remove()},r)}},window.scrollToTop=$,window.loadConfig=V,window.onValueMappingLoaded=function(e){P||(P=!0,V(e),function(){Yt.apply(this,arguments)}())}},6078:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),{valueKey:i,LambdaSerializer:o}=r(474);e.exports=class{constructor(e){this.ioc=e,this.graphsonLambdaSerializer=new o}canBeUsedFor(e){return this.graphsonLambdaSerializer.canBeUsedFor(e)}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.LAMBDA,1]);const e=[0,0,0,0],r=[0,0,0,0],i=[0,0,0,0];return n.from([...e,...r,...i])}const r=[];t&&r.push(n.from([this.ioc.DataType.LAMBDA,0]));const o=this.graphsonLambdaSerializer.serialize(e),a=o[i].language,s=o[i].script,c=o[i].arguments;return r.push(this.ioc.stringSerializer.serialize(a,!1)),r.push(this.ioc.stringSerializer.serialize(s,!1)),r.push(this.ioc.intSerializer.serialize(c,!1)),n.concat(r)}}},6115:(e,t,r)=>{"use strict";const{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=r(4134),a=o("nodejs.stream.destroyed"),s=o("nodejs.stream.errored"),c=o("nodejs.stream.readable"),l=o("nodejs.stream.writable"),u=o("nodejs.stream.disturbed"),d=o("nodejs.webstream.isClosedPromise"),p=o("nodejs.webstream.controllerErrorFunction");function f(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function h(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function m(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function y(e){return!(!e||m(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function g(e){return!(!e||m(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function v(e){return!(!e||m(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function b(e){if(!m(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[a]||null!=n&&n.destroyed)}function w(e){if(!h(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function _(e,t){if(!f(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function E(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!b(e)&&(f(e)&&e.readable&&!_(e))}function S(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!b(e)&&(h(e)&&e.writable&&!w(e))}function T(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function I(e){return"boolean"==typeof e._sent100&&T(e)}e.exports={isDestroyed:b,kIsDestroyed:a,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,r,n,i,o,a,c,l,u,d;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(a=e[s])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(l=e._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(d=e._writableState)||void 0===d?void 0:d.errored))},kIsErrored:s,isReadable:E,kIsReadable:c,kIsClosedPromise:d,kControllerErrorFunction:p,kIsWritable:l,isClosed:function(e){if(!m(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&T(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return m(e)?!!b(e)||(!1===(null==t?void 0:t.readable)||!E(e))&&(!1===(null==t?void 0:t.writable)||!S(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:f,isReadableStream:y,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:_,isReadableErrored:function(e){var t,r;return m(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:m,isWebStream:function(e){return y(e)||g(e)||v(e)},isWritable:S,isWritableNodeStream:h,isWritableStream:g,isWritableEnded:w,isWritableFinished:function(e,t){if(!h(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return m(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:I,willEmitClose:function(e){if(!m(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&I(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:v}},6140:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},6238:(e,t,r)=>{"use strict";const n=r(5606),{AbortError:i,codes:o}=r(6371),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:c,once:l}=r(7760),{validateAbortSignal:u,validateFunction:d,validateObject:p,validateBoolean:f}=r(277),{Promise:h,PromisePrototypeThen:m,SymbolDispose:y}=r(4134),{isClosed:g,isReadable:v,isReadableNodeStream:b,isReadableStream:w,isReadableFinished:_,isReadableErrored:E,isWritable:S,isWritableNodeStream:T,isWritableStream:I,isWritableFinished:A,isWritableErrored:O,isNodeStream:R,willEmitClose:P,kIsClosedPromise:x}=r(6115);let N;const k=()=>{};function L(e,t,o){var f,h;if(2===arguments.length?(o=t,t=c):null==t?t=c:p(t,"options"),d(o,"callback"),u(t.signal,"options.signal"),o=l(o),w(e)||I(e))return function(e,t,o){let a=!1,s=k;if(t.signal)if(s=()=>{a=!0,o.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(s);else{N=N||r(7760).addAbortListener;const n=N(t.signal,s),i=o;o=l((...t)=>{n[y](),i.apply(e,t)})}const c=(...t)=>{a||n.nextTick(()=>o.apply(e,t))};return m(e[x].promise,c,c),k}(e,t,o);if(!R(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const L=null!==(f=t.readable)&&void 0!==f?f:b(e),C=null!==(h=t.writable)&&void 0!==h?h:T(e),D=e._writableState,j=e._readableState,z=()=>{e.writable||B()};let U=P(e)&&b(e)===L&&T(e)===C,M=A(e,!1);const B=()=>{M=!0,e.destroyed&&(U=!1),(!U||e.readable&&!L)&&(L&&!$||o.call(e))};let $=_(e,!1);const V=()=>{$=!0,e.destroyed&&(U=!1),(!U||e.writable&&!C)&&(C&&!M||o.call(e))},F=t=>{o.call(e,t)};let H=g(e);const W=()=>{H=!0;const t=O(e)||E(e);return t&&"boolean"!=typeof t?o.call(e,t):L&&!$&&b(e,!0)&&!_(e,!1)?o.call(e,new s):!C||M||A(e,!1)?void o.call(e):o.call(e,new s)},q=()=>{H=!0;const t=O(e)||E(e);if(t&&"boolean"!=typeof t)return o.call(e,t);o.call(e)},G=()=>{e.req.on("finish",B)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?C&&!D&&(e.on("end",z),e.on("close",z)):(e.on("complete",B),U||e.on("abort",W),e.req?G():e.on("request",G)),U||"boolean"!=typeof e.aborted||e.on("aborted",W),e.on("end",V),e.on("finish",B),!1!==t.error&&e.on("error",F),e.on("close",W),H?n.nextTick(W):null!=D&&D.errorEmitted||null!=j&&j.errorEmitted?U||n.nextTick(q):(L||U&&!v(e)||!M&&!1!==S(e))&&(C||U&&!S(e)||!$&&!1!==v(e))?j&&e.req&&e.aborted&&n.nextTick(q):n.nextTick(q);const Y=()=>{o=k,e.removeListener("aborted",W),e.removeListener("complete",B),e.removeListener("abort",W),e.removeListener("request",G),e.req&&e.req.removeListener("finish",B),e.removeListener("end",z),e.removeListener("close",z),e.removeListener("finish",B),e.removeListener("end",V),e.removeListener("error",F),e.removeListener("close",W)};if(t.signal&&!H){const a=()=>{const r=o;Y(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(a);else{N=N||r(7760).addAbortListener;const n=N(t.signal,a),i=o;o=l((...t)=>{n[y](),i.apply(e,t)})}}return Y}e.exports=L,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=c),null!==(r=t)&&void 0!==r&&r.cleanup&&(f(t.cleanup,"cleanup"),n=t.cleanup),new h((r,i)=>{const o=L(e,t,e=>{n&&o(),e?i(e):r()})})}},6284:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,r,n){return(r=function(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var o={_initialized:!1,_debugEnabled:!1,_config:null,initialize:function(e){var t;return this._initialized&&this._config?this._config=n(n({},this._config),e):this._config=e,this._debugEnabled=(null===(t=this._config)||void 0===t?void 0:t.DEBUG)||!1,this._initialized=!0,this.debugLog("Utils initialized with this locale:",this._config.LANGUAGE),this},debugLog:function(e){if(!this._initialized||this._debugEnabled){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i;if(r.length>0)(i=console).log.apply(i,["[DEBUG]",e].concat(r))}},getConfig:function(){return this._config},isInitialized:function(){return this._initialized},loadScript:function(e){return new Promise(function(t,r){var n=document.createElement("script");n.src=e,n.async=!0,n.onload=function(){return t()},n.onerror=function(){return r(new Error("Failed to load script: ".concat(e)))},document.head.appendChild(n)})},generateUUID:function(){if("undefined"!=typeof crypto&&crypto.randomUUID)return crypto.randomUUID();if("undefined"!=typeof crypto&&crypto.getRandomValues){var e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,Array.from(e).map(function(e){return e.toString(16).padStart(2,"0")}).join("").replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}for(var t=(new Date).getTime(),r="undefined"!=typeof performance&&performance.now?performance.now():0,n=function(){var e=1e4*Math.sin(t*r*Math.random());return Math.floor(256*(e-Math.floor(e)))},i=new Uint8Array(16),o=0;o<16;o++)i[o]=n();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,Array.from(i).map(function(e){return e.toString(16).padStart(2,"0")}).join("").replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}};e.exports&&(e.exports=o),window.utils=o},6348:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.TEXTP]=this}canBeUsedFor(e){return e instanceof i.TextP}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.TEXTP,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}const r=[];let i;return t&&r.push(n.from([this.ioc.DataType.TEXTP,0])),r.push(this.ioc.stringSerializer.serialize(e.operator,!1)),i=void 0===e.other||null===e.other?Array.isArray(e.value)?e.value:[e.value]:[e.value,e.other],r.push(this.ioc.listSerializer.serialize(i,!1)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.TEXTP)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u;try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{name}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.listSerializer.deserialize(o,!1)),r+=l}catch(e){throw e.message="{values}: "+e.message,e}if(o=o.slice(l),c.length<1)return{v:new i.TextP(""),len:r};const d=i.TextP[a];return u="function"==typeof d?d(...c):new i.TextP(a,...c),{v:u,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},6371:(e,t,r)=>{"use strict";const{format:n,inspect:i}=r(9231),{AggregateError:o}=r(4134),a=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u={};function d(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function p(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function f(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return d(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const i=(t.match(/%[dfijoOs]/g)||[]).length;return d(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,u[e]=i}function h(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class m extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(e,t,r)=>{d("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],a=[],s=[];for(const e of t)d("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?o.push(e.toLowerCase()):l.test(e)?a.push(e):(d("object"!==e,'The value "object" should be written as "Object"'),s.push(e));if(a.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(n+=" or ")}if(a.length>0){switch(a.length){case 1:n+=`an instance of ${a[0]}`;break;case 2:n+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();n+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();n+=`one of ${s.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var u;if(null!==(u=r.constructor)&&void 0!==u&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{n+=`. Received ${i(r,{depth:-1})}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),f("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=i(t);n.length>128&&(n=n.slice(0,128)+"...");return`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`},TypeError),f("ERR_MISSING_ARGS",(...e)=>{let t;d(e.length>0,"At least one arg needs to be specified");const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;if(d(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32)n=p(String(r));else if("bigint"==typeof r){n=String(r);const e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=p(n)),n+="n"}else n=i(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:m,aggregateTwoErrors:h(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new a([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:h,codes:u}},6414:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.VERTEXPROPERTY]=this}canBeUsedFor(e){return e instanceof i.VertexProperty}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.VERTEXPROPERTY,1]):n.concat([this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.stringSerializer.serialize("",!1),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null)]);const r=[];return t&&r.push(n.from([this.ioc.DataType.VERTEXPROPERTY,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1)),r.push(this.ioc.anySerializer.serialize(e.value)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),r.push(this.ioc.anySerializer.serialize(e.properties)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.VERTEXPROPERTY)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u,d,p,f,h;try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.stringSerializer.deserialize(o,!1)),r+=l}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(l);try{({v:u,len:d}=this.ioc.anySerializer.deserialize(o)),r+=d}catch(e){throw e.message="{value}: "+e.message,e}o=o.slice(d);try{({len:p}=this.ioc.unspecifiedNullSerializer.deserialize(o)),r+=p}catch(e){throw e.message="{parent}: "+e.message,e}o=o.slice(p);try{({v:f,len:h}=this.ioc.anySerializer.deserialize(o)),r+=h}catch(e){throw e.message="{properties}: "+e.message,e}o=o.slice(h);const m=f||[];return{v:new i.VertexProperty(a,c,u,m),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},6524:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n}=r(4134);e.exports=o;const i=r(7382);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},6532:(e,t,r)=>{"use strict";const n=r(5606),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:a}=r(4134),{Buffer:s}=r(8287),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:l}=r(6371).codes;e.exports=function(e,t,r){let u,d;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])d=!0,u=t[o]();else{if(!t||!t[a])throw new c("iterable",["Iterable"],t);d=!1,u=t[a]()}const p=new e({objectMode:!0,highWaterMark:1,...r});let f=!1;return p._read=function(){f||(f=!0,async function(){for(;;){try{const{value:e,done:t}=d?await u.next():u.next();if(t)p.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw f=!1,new l;if(p.push(t))continue;f=!1}}catch(e){p.destroy(e)}break}}())},p._destroy=function(e,t){i(async function(e){const t=null!=e,r="function"==typeof u.throw;if(t&&r){const{value:t,done:r}=await u.throw(e);if(await t,r)return}if("function"==typeof u.return){const{value:e}=await u.return();await e}}(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},p}},6579:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e}writeRequest({requestId:e,op:t,processor:r,args:i}){const o=[n.from([129]),this.ioc.uuidSerializer.serialize(e,!1),this.ioc.stringSerializer.serialize(t,!1),this.ioc.stringSerializer.serialize(r,!1),this.ioc.mapSerializer.serialize(i,!1)];return n.concat(o)}}},6580:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{get INT32_MIN(){return-2147483648}get INT32_MAX(){return 2147483647}constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.INT]=this}canBeUsedFor(e){return"number"==typeof e&&!(e<this.INT32_MIN||e>this.INT32_MAX)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.INT,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.INT,0]));const i=n.alloc(4);return i.writeInt32BE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.INT)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<4)throw new Error("unexpected {value} length");r+=4;return{v:i.readInt32BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},6665:(e,t,r)=>{"use strict";const n=r(5332),i=r(3335).TraversalStrategies,o=n.GraphTraversalSource,a=r(163).Graph;class s{constructor(e){this.traversalSourceClass=e}static traversal(e){return new s(e||o)}withRemote(e){return this.withGraph(new a).withRemote(e)}withGraph(e){return new this.traversalSourceClass(e,new i)}}e.exports=s},6706:(e,t,r)=>{const n=r(5606),i=r(8287),{isReadable:o,isWritable:a,isIterable:s,isNodeStream:c,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:d,isReadableStream:p,isWritableStream:f}=r(6115),h=r(6238),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:g}}=r(6371),{destroyer:v}=r(5896),b=r(3370),w=r(7576),_=r(8584),{createDeferredPromise:E}=r(7760),S=r(6532),T=globalThis.Blob||i.Blob,I=void 0!==T?function(e){return e instanceof T}:function(e){return!1},A=globalThis.AbortController||r(5568).AbortController,{FunctionPrototypeCall:O}=r(4134);class R extends b{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function P(e){const t=e.readable&&"function"!=typeof e.readable.read?w.wrap(e.readable):e.readable,r=e.writable;let n,i,s,c,l,u=!!o(t),d=!!a(r);function p(e){const t=c;c=null,t?t(e):e&&l.destroy(e)}return l=new R({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==r||!r.writableObjectMode),readable:u,writable:d}),d&&(h(r,e=>{d=!1,e&&v(t,e),p(e)}),l._write=function(e,t,i){r.write(e,t)?i():n=i},l._final=function(e){r.end(),i=e},r.on("drain",function(){if(n){const e=n;n=null,e()}}),r.on("finish",function(){if(i){const e=i;i=null,e()}})),u&&(h(t,e=>{u=!1,e&&v(t,e),p(e)}),t.on("readable",function(){if(s){const e=s;s=null,e()}}),t.on("end",function(){l.push(null)}),l._read=function(){for(;;){const e=t.read();if(null===e)return void(s=l._read);if(!l.push(e))return}}),l._destroy=function(e,o){e||null===c||(e=new m),s=null,n=null,i=null,null===c?o(e):(c=o,v(r,e),v(t,e))},l}e.exports=function e(t,r){if(d(t))return t;if(l(t))return P({readable:t});if(u(t))return P({writable:t});if(c(t))return P({writable:!1,readable:!1});if(p(t))return P({readable:w.fromWeb(t)});if(f(t))return P({writable:_.fromWeb(t)});if("function"==typeof t){const{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:r}=E();const i=new A,o=i.signal,a=e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:a,cb:s}=await e;if(n.nextTick(s),a)return;if(o.aborted)throw new m(void 0,{cause:o.reason});({promise:t,resolve:r}=E()),yield i}}(),{signal:o});return{value:a,write(e,t,n){const i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return S(R,e,{objectMode:!0,write:i,final:o,destroy:a});const c=null==e?void 0:e.then;if("function"==typeof c){let t;const r=O(c,e,e=>{if(null!=e)throw new g("nully","body",e)},e=>{v(t,e)});return t=new R({objectMode:!0,readable:!1,write:i,final(e){o(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:a})}throw new g("Iterable, AsyncIterable or AsyncFunction",r,e)}if(I(t))return e(t.arrayBuffer());if(s(t))return S(R,t,{objectMode:!0,writable:!1});if(p(null==t?void 0:t.readable)&&f(null==t?void 0:t.writable))return R.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable)){return P({readable:null!=t&&t.readable?l(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?u(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0})}const i=null==t?void 0:t.then;if("function"==typeof i){let e;return O(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{v(e,t)}),e=new R({objectMode:!0,writable:!1,read(){}})}throw new y(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},6792:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7037))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=o},6980:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports={des_error:({serializer:e,args:t,cursor:r,err:i})=>{void 0===r&&(r=t[0]);let o="";r instanceof n&&(r.length>32&&(o="..."),r=r.slice(0,32).toString("hex"));const a=t[1],s=t[2];let c=`${e.constructor.name}.deserialize(cursor=${r}${o}`;return void 0!==a&&(c+=`, fullyQualifiedFormat=${a}`),void 0!==s&&(c+=`, nullable=${s}`),c+=`): ${i.message.replace(/\.$/,"")}.`,i.message=c,i}}},7007:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,r)}(e,i,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,o,a;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,console&&console.warn}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function h(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var l=c.length,u=h(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7037:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7656))&&n.__esModule?n:{default:n};var o=function(e){return"string"==typeof e&&i.default.test(e)};t.default=o},7092:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e}canBeUsedFor(){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.LONG,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.LONG,0]));const i=n.alloc(8);return i.writeBigInt64BE(BigInt(e)),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.LONG)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;return{v:i.readBigInt64BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7100:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return Array.isArray(e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ID,0]));let i=e.length;if(i<0&&(i=0),i>this.ioc.intSerializer.INT32_MAX)throw new Error(`Array length=${i} is greater than supported max_length=${this.ioc.intSerializer.INT32_MAX}.`);r.push(this.ioc.intSerializer.serialize(i,!1));for(let t=0;t<i;t++)r.push(this.ioc.anySerializer.serialize(e[t]));return n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ID)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");i=i.slice(a);const s=[];for(let e=0;e<o;e++){let t,n;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}}: `+t.message,t}i=i.slice(n),s.push(t)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7135:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.UNSPECIFIED_NULL]=this}canBeUsedFor(e){return null==e}serialize(e){return n.from([this.ioc.DataType.UNSPECIFIED_NULL,1])}deserialize(e){let t=0,r=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");const i=r.readUInt8();if(t++,i!==this.ioc.DataType.UNSPECIFIED_NULL)throw new Error("unexpected {type_code}");if(r=r.slice(1),r.length<1)throw new Error("{value_flag} is missing");const o=r.readUInt8();if(t++,1!==o)throw new Error("unexpected {value_flag}");return r=r.slice(1),{v:null,len:t}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:r,err:e})}}}},7186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(9025)),i=o(r(9042));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v5",80,i.default);t.default=a},7240:(e,t,r)=>{"use strict";const n=r(5737),i=n.RemoteConnection,o=n.RemoteTraversal,a=r(1104),s=r(7545),c=r(9032),l=r(3335).OptionsStrategy;class u extends i{constructor(e,t={}){super(e,t),this._client=new s(e,t)}open(){return this._client.open()}get isOpen(){return this._client.isOpen}submit(e){const t=e.sourceInstructions.find(e=>"withStrategies"===e[0]&&e[1]instanceof l),r=["evaluationTimeout","scriptEvaluationTimeout","batchSize","requestId","userAgent","materializeProperties"];let n;if(void 0!==t){n={};const e=t[1].configuration;for(const t in e)e.hasOwnProperty(t)&&r.indexOf(t)>-1&&(n[t]=e[t])}return this._client.submit(e,null,n).then(e=>new o(e.toArray()))}createSession(){if(this.isSessionBound)throw new Error("Connection is already bound to a session - child sessions are not allowed");const e=Object.assign({},this.options);return e.session=a.getUuid(),new u(this.url,e)}get isSessionBound(){return this.options.session}commit(){return this._client.submit(c.GraphOp.commit,null)}rollback(){return this._client.submit(c.GraphOp.rollback,null)}close(){return this._client.close()}addListener(...e){return this._client.addListener(...e)}removeListener(...e){return this._client.removeListener(...e)}}e.exports=u},7286:e=>{"use strict";class t extends Error{constructor(e,t){super(e),this.name="ResponseError",this.statusCode=t.code,this.statusMessage=t.message,this.statusAttributes=t.attributes||{}}}e.exports=t},7382:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n,Symbol:i}=r(4134);e.exports=l;const{ERR_METHOD_NOT_IMPLEMENTED:o}=r(6371).codes,a=r(3370),{getHighWaterMark:s}=r(5291);n(l.prototype,a.prototype),n(l,a);const c=i("kCallback");function l(e){if(!(this instanceof l))return new l(e);const t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function u(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())})}function d(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(e,t,r){throw new o("_transform()")},l.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[c]=r)})},l.prototype._read=function(){if(this[c]){const e=this[c];this[c]=null,e()}}},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=s(e),a=o[0],c=o[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,c)),u=0,d=c>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function l(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(c(n));return i.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7545:(e,t,r)=>{"use strict";const n=r(1104),i=r(4074),o=r(9032);e.exports=class{constructor(e,t={}){this._options=t,"session"===this._options.processor&&(this._options.session=t.session||n.getUuid()),this._options.session&&(this._options.processor=t.processor||"session"),this._connection=new i(e,t)}open(){return this._connection.open()}get isOpen(){return this._connection.isOpen}submit(e,t,r){const n=r&&r.requestId;n&&delete r.requestId;const i=Object.assign({gremlin:e,aliases:{g:this._options.traversalSource||"g"}},r);if(this._options.session&&"session"===this._options.processor&&(i.session=this._options.session),e instanceof o)return this._options.session&&"session"===this._options.processor?this._connection.submit("session","bytecode",i,n):this._connection.submit("traversal","bytecode",i,n);if("string"==typeof e)return i.bindings=t,i.language="gremlin-groovy",i.accept=this._connection.mimeType,this._connection.submit(this._options.processor||"","eval",i,n);throw new TypeError("message must be of type Bytecode or string")}stream(e,t,r){const n=r&&r.requestId;n&&delete r.requestId;const i=Object.assign({gremlin:e,aliases:{g:this._options.traversalSource||"g"}},r);if(this._options.session&&"session"===this._options.processor&&(i.session=this._options.session),e instanceof o)return this._options.session&&"session"===this._options.processor?this._connection.stream("session","bytecode",i,n):this._connection.stream("traversal","bytecode",i,n);if("string"==typeof e)return i.bindings=t,i.language="gremlin-groovy",i.accept=this._connection.mimeType,this._connection.stream(this._options.processor||"","eval",i,n);throw new TypeError("message must be of type Bytecode or string")}close(){if(this._options.session&&"session"===this._options.processor){const e={session:this._options.session};return this._connection.submit(this._options.processor,"close",e,null).then(()=>this._connection.close())}return this._connection.close()}addListener(e,t){this._connection.on(e,t)}removeListener(e,t){this._connection.removeListener(e,t)}}},7576:(e,t,r)=>{"use strict";const n=r(5606),{ArrayPrototypeIndexOf:i,NumberIsInteger:o,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:c,ObjectKeys:l,ObjectSetPrototypeOf:u,Promise:d,SafeSet:p,SymbolAsyncDispose:f,SymbolAsyncIterator:h,Symbol:m}=r(4134);e.exports=G,G.ReadableState=q;const{EventEmitter:y}=r(7007),{Stream:g,prependListener:v}=r(4259),{Buffer:b}=r(8287),{addAbortSignal:w}=r(4147),_=r(6238);let E=r(7760).debuglog("stream",e=>{E=e});const S=r(345),T=r(5896),{getHighWaterMark:I,getDefaultHighWaterMark:A}=r(5291),{aggregateTwoErrors:O,codes:{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:x,ERR_STREAM_PUSH_AFTER_EOF:N,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:k},AbortError:L}=r(6371),{validateObject:C}=r(277),D=m("kPaused"),{StringDecoder:j}=r(3141),z=r(6532);u(G.prototype,g.prototype),u(G,g);const U=()=>{},{errorOrDestroy:M}=T,B=1,$=16,V=32,F=2048,H=4096;function W(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function q(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(3370)),this.state=F|H|$|V,e&&e.objectMode&&(this.state|=B),n&&e&&e.readableObjectMode&&(this.state|=B),this.highWaterMark=e?I(this,e,"readableHighWaterMark",n):A(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[D]=null,e&&!1===e.emitClose&&(this.state&=~F),e&&!1===e.autoDestroy&&(this.state&=~H),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new j(e.encoding),this.encoding=e.encoding)}function G(e){if(!(this instanceof G))return new G(e);const t=this instanceof r(3370);this._readableState=new q(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),g.call(this,e),T.construct(this,()=>{this._readableState.needReadable&&Z(this,this._readableState)})}function Y(e,t,r,n){E("readableAddChunk",t);const i=e._readableState;let o;if(0===(i.state&B)&&("string"==typeof t?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=b.from(t,r).toString(i.encoding):(t=b.from(t,r),r=""))):t instanceof b?r="":g._isUint8Array(t)?(t=g._uint8ArrayToBuffer(t),r=""):null!=t&&(o=new R("chunk",["string","Buffer","Uint8Array"],t))),o)M(e,o);else if(null===t)i.state&=-9,function(e,t){if(E("onEofChunk"),t.ended)return;if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?K(e):(t.needReadable=!1,t.emittedReadable=!0,X(e))}(e,i);else if(0!==(i.state&B)||t&&t.length>0)if(n)if(4&i.state)M(e,new k);else{if(i.destroyed||i.errored)return!1;Q(e,i,t,!0)}else if(i.ended)M(e,new N);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?Q(e,i,t,!1):Z(e,i)):Q(e,i,t,!1)}else n||(i.state&=-9,Z(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function Q(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(65536&t.state?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),64&t.state&&K(e)),Z(e,t)}c(q.prototype,{objectMode:W(B),ended:W(2),endEmitted:W(4),reading:W(8),constructed:W($),sync:W(V),needReadable:W(64),emittedReadable:W(128),readableListening:W(256),resumeScheduled:W(512),errorEmitted:W(1024),emitClose:W(F),autoDestroy:W(H),destroyed:W(8192),closed:W(16384),closeEmitted:W(32768),multiAwaitDrain:W(65536),readingMore:W(1<<17),dataEmitted:W(1<<18)}),G.prototype.destroy=T.destroy,G.prototype._undestroy=T.undestroy,G.prototype._destroy=function(e,t){t(e)},G.prototype[y.captureRejectionSymbol]=function(e){this.destroy(e)},G.prototype[f]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new L,this.destroy(e)),new d((t,r)=>_(this,n=>n&&n!==e?r(n):t(null)))},G.prototype.push=function(e,t){return Y(this,e,t,!1)},G.prototype.unshift=function(e,t){return Y(this,e,t,!0)},G.prototype.isPaused=function(){const e=this._readableState;return!0===e[D]||!1===e.flowing},G.prototype.setEncoding=function(e){const t=new j(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};function J(e,t){return e<=0||0===t.length&&t.ended?0:0!==(t.state&B)?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function K(e){const t=e._readableState;E("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(E("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(X,e))}function X(e){const t=e._readableState;E("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ie(e)}function Z(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(E("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function te(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[D]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function re(e){E("readable nexttick read 0"),e.read(0)}function ne(e,t){E("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ie(e),t.flowing&&!t.reading&&e.read(0)}function ie(e){const t=e._readableState;for(E("flow",t.flowing);t.flowing&&null!==e.read(););}function oe(e,t){"function"!=typeof e.read&&(e=G.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=U;function i(t){this===e?(n(),n=U):n=t}e.on("readable",i);const o=_(e,{writable:!1},e=>{r=e?O(r,e):null,n(),n=U});try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new d(i)}}}catch(e){throw r=O(r,e),r}finally{!r&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",i),o()):T.destroyer(e,null)}}(e,t);return r.stream=e,r}function ae(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function se(e){const t=e._readableState;E("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(ce,t,e))}function ce(e,t){if(E("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(le,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function le(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let ue;function de(){return void 0===ue&&(ue={}),ue}G.prototype.read=function(e){E("read",e),void 0===e?e=NaN:o(e)||(e=s(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new x("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return E("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?se(this):K(this),null;if(0===(e=J(e,t))&&t.ended)return 0===t.length&&se(this),null;let n,i=!!(64&t.state);if(E("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,E("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,E("reading, ended or constructing",i);else if(i){E("do read"),t.state|=8|V,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(e){M(this,e)}t.state&=~V,t.reading||(e=J(r,t))}return n=e>0?ae(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&se(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},G.prototype._read=function(e){throw new P("_read()")},G.prototype.pipe=function(e,t){const r=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new p(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),E("pipe count=%d opts=%j",i.pipes.length,t);const o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?s:y;function a(t,n){E("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,function(){E("cleanup"),e.removeListener("close",h),e.removeListener("finish",m),c&&e.removeListener("drain",c);e.removeListener("error",f),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",d),l=!0,c&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&c()}())}function s(){E("onend"),e.end()}let c;i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);let l=!1;function u(){l||(1===i.pipes.length&&i.pipes[0]===e?(E("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(E("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),r.pause()),c||(c=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(E("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(E("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",c))}function d(t){E("ondata");const r=e.write(t);E("dest.write",r),!1===r&&u()}function f(t){if(E("onerror",t),y(),e.removeListener("error",f),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?M(e,t):e.emit("error",t)}}function h(){e.removeListener("finish",m),y()}function m(){E("onfinish"),e.removeListener("close",h),y()}function y(){E("unpipe"),r.unpipe(e)}return r.on("data",d),v(e,"error",f),e.once("close",h),e.once("finish",m),e.emit("pipe",r),!0===e.writableNeedDrain?u():i.flowing||(E("pipe resume"),r.resume()),e},G.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=i(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},G.prototype.on=function(e,t){const r=g.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,E("on readable",i.length,i.reading),i.length?K(this):i.reading||n.nextTick(re,this))),r},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(e,t){const r=g.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(te,this),r},G.prototype.off=G.prototype.removeListener,G.prototype.removeAllListeners=function(e){const t=g.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(te,this),t},G.prototype.resume=function(){const e=this._readableState;return e.flowing||(E("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(ne,e,t))}(this,e)),e[D]=!1,this},G.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},G.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{M(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=l(e);for(let t=1;t<r.length;t++){const n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},G.prototype[h]=function(){return oe(this)},G.prototype.iterator=function(e){return void 0!==e&&C(e,"options"),oe(this,e)},c(G.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(q.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(e){this[D]=!!e}}}),G._fromList=ae,G.from=function(e,t){return z(G,e,t)},G.fromWeb=function(e,t){return de().newStreamReadableFromReadableStream(e,t)},G.toWeb=function(e,t){return de().newReadableStreamFromStreamReadable(e,t)},G.wrap=function(e,t){var r,n;return new G({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){T.destroyer(e,t),r(t)}}).wrap(e)}},7656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},7758:(e,t,r)=>{const n=r(5606),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:a,SymbolDispose:s}=r(4134),c=r(6238),{once:l}=r(7760),u=r(5896),d=r(3370),{aggregateTwoErrors:p,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:v}=r(6371),{validateFunction:b,validateAbortSignal:w}=r(277),{isIterable:_,isReadable:E,isReadableNodeStream:S,isNodeStream:T,isTransformStream:I,isWebStream:A,isReadableStream:O,isReadableFinished:R}=r(6115),P=globalThis.AbortController||r(5568).AbortController;let x,N,k;function L(e,t,r){let n=!1;e.on("close",()=>{n=!0});return{destroy:t=>{n||(n=!0,u.destroyer(e,t||new y("pipe")))},cleanup:c(e,{readable:t,writable:r},e=>{n=!e})}}function C(e){if(_(e))return e;if(S(e))return async function*(e){N||(N=r(7576));yield*N.prototype[a].call(e)}(e);throw new f("val",["Readable","Iterable","AsyncIterable"],e)}async function D(e,t,r,{end:n}){let i,a=null;const s=e=>{if(e&&(i=e),a){const e=a;a=null,e()}},l=()=>new o((e,t)=>{i?t(i):a=()=>{i?t(i):e()}});t.on("drain",s);const u=c(t,{readable:!1},s);try{t.writableNeedDrain&&await l();for await(const r of e)t.write(r)||await l();n&&(t.end(),await l()),r()}catch(e){r(i!==e?p(i,e):e)}finally{u(),t.off("drain",s)}}async function j(e,t,r,{end:n}){I(t)&&(t=t.writable);const i=t.getWriter();try{for await(const t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function z(e,t,o){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new m("streams");const a=new P,c=a.signal,l=null==o?void 0:o.signal,u=[];function p(){B(new v)}let y,g,b;w(l,"options.signal"),k=k||r(7760).addAbortListener,l&&(y=k(l,p));const R=[];let N,z=0;function M(e){B(e,0===--z)}function B(e,r){var i;if(!e||g&&"ERR_STREAM_PREMATURE_CLOSE"!==g.code||(g=e),g||r){for(;R.length;)R.shift()(g);null===(i=y)||void 0===i||i[s](),a.abort(),r&&(g||u.forEach(e=>e()),n.nextTick(t,g,b))}}for(let H=0;H<e.length;H++){const W=e[H],q=H<e.length-1,G=H>0,Y=q||!1!==(null==o?void 0:o.end),Q=H===e.length-1;if(T(W)){if(Y){const{destroy:J,cleanup:K}=L(W,q,G);R.push(J),E(W)&&Q&&u.push(K)}function $(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&M(e)}W.on("error",$),E(W)&&Q&&u.push(()=>{W.removeListener("error",$)})}if(0===H)if("function"==typeof W){if(N=W({signal:c}),!_(N))throw new h("Iterable, AsyncIterable or Stream","source",N)}else N=_(W)||S(W)||I(W)?W:d.from(W);else if("function"==typeof W){var V;if(I(N))N=C(null===(V=N)||void 0===V?void 0:V.readable);else N=C(N);if(N=W(N,{signal:c}),q){if(!_(N,!0))throw new h("AsyncIterable",`transform[${H-1}]`,N)}else{var F;x||(x=r(6524));const X=new x({objectMode:!0}),Z=null===(F=N)||void 0===F?void 0:F.then;if("function"==typeof Z)z++,Z.call(N,e=>{b=e,null!=e&&X.write(e),Y&&X.end(),n.nextTick(M)},e=>{X.destroy(e),n.nextTick(M,e)});else if(_(N,!0))z++,D(N,X,M,{end:Y});else{if(!O(N)&&!I(N))throw new h("AsyncIterable or Promise","destination",N);{const re=N.readable||N;z++,D(re,X,M,{end:Y})}}N=X;const{destroy:ee,cleanup:te}=L(N,!1,!0);R.push(ee),Q&&u.push(te)}}else if(T(W)){if(S(N)){z+=2;const ne=U(N,W,M,{end:Y});E(W)&&Q&&u.push(ne)}else if(I(N)||O(N)){const ie=N.readable||N;z++,D(ie,W,M,{end:Y})}else{if(!_(N))throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],N);z++,D(N,W,M,{end:Y})}N=W}else if(A(W)){if(S(N))z++,j(C(N),W,M,{end:Y});else if(O(N)||_(N))z++,j(N,W,M,{end:Y});else{if(!I(N))throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],N);z++,j(N.readable,W,M,{end:Y})}N=W}else N=d.from(W)}return(null!=c&&c.aborted||null!=l&&l.aborted)&&n.nextTick(p),N}function U(e,t,r,{end:i}){let o=!1;if(t.on("close",()=>{o||r(new g)}),e.pipe(t,{end:!1}),i){function a(){o=!0,t.end()}R(e)?n.nextTick(a):e.once("end",a)}else r();return c(e,{readable:!0,writable:!1},t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),c(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:z,pipeline:function(...e){return z(e,l(function(e){return b(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},7760:(e,t,r)=>{"use strict";const n=r(8287),{format:i,inspect:o}=r(9231),{codes:{ERR_INVALID_ARG_TYPE:a}}=r(6371),{kResistStopPropagation:s,AggregateError:c,SymbolDispose:l}=r(4134),u=globalThis.AbortSignal||r(5568).AbortSignal,d=globalThis.AbortController||r(5568).AbortController,p=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||n.Blob,h=void 0!==f?function(e){return e instanceof f}:function(e){return!1},m=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new a(t,"AbortSignal",e)};e.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:i,inspect:o,types:{isAsyncFunction:e=>e instanceof p,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:h,deprecate:(e,t)=>e,addAbortListener:r(7007).addAbortListener||function(e,t){if(void 0===e)throw new a("signal","AbortSignal",e);let r;return m(e,"signal"),((e,t)=>{if("function"!=typeof e)throw new a(t,"Function",e)})(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[l](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:u.any||function(e){if(1===e.length)return e[0];const t=new d,r=()=>t.abort();return e.forEach(e=>{m(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},7765:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BULKSET]=this}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BULKSET)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");i=i.slice(a);let s=new Array;for(let e=0;e<o;e++){let t,n,o,a;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}} value: `+t.message,t}i=i.slice(n);try{({v:o,len:a}=this.ioc.longSerializer.deserialize(i,!1)),r+=a}catch(t){throw t.message=`{item_${e}} bulk: `+t.message,t}if(o<0)throw new Error(`{item_${e}}: bulk is less than zero`);if(o>4294967295)throw new Error(`{item_${e}}: bulk is greater than 2^32-1`);i=i.slice(a),o=Number(o);const c=new Array(o).fill(t);s=s.concat(c)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7775:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7037))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},7777:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTEBUFFER]=this}canBeUsedFor(e){return e instanceof n}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BYTEBUFFER,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.BYTEBUFFER,0]));let i=e.length;if(i<0&&(i=0),i>this.ioc.intSerializer.INT32_MAX)throw new Error(`Buffer length=${i} is greater than supported max_length=${this.ioc.intSerializer.INT32_MAX}.`);return r.push(this.ioc.intSerializer.serialize(i,!1)),r.push(e),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BYTEBUFFER)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");if(i=i.slice(a),o!==i.length)throw new Error(`{value}: unexpected actual {value} length=${i.length} when {length}=${o}`);const s=i.slice(0,o);return r+=o,{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7830:(e,t,r)=>{"use strict";const{pipeline:n}=r(7758),i=r(3370),{destroyer:o}=r(5896),{isNodeStream:a,isReadable:s,isWritable:c,isWebStream:l,isTransformStream:u,isWritableStream:d,isReadableStream:p}=r(6115),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:m}}=r(6371),y=r(6238);e.exports=function(...e){if(0===e.length)throw new m("streams");if(1===e.length)return i.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=i.from(e[t])}for(let r=0;r<e.length;++r)if(a(e[r])||l(e[r])){if(r<e.length-1&&!(s(e[r])||p(e[r])||u(e[r])))throw new h(`streams[${r}]`,t[r],"must be readable");if(r>0&&!(c(e[r])||d(e[r])||u(e[r])))throw new h(`streams[${r}]`,t[r],"must be writable")}let r,g,v,b,w;const _=e[0],E=n(e,function(e){const t=b;b=null,t?t(e):e?w.destroy(e):T||S||w.destroy()}),S=!!(c(_)||d(_)||u(_)),T=!!(s(E)||p(E)||u(E));if(w=new i({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==E||!E.readableObjectMode),writable:S,readable:T}),S){if(a(_))w._write=function(e,t,n){_.write(e,t)?n():r=n},w._final=function(e){_.end(),g=e},_.on("drain",function(){if(r){const e=r;r=null,e()}});else if(l(_)){const e=(u(_)?_.writable:_).getWriter();w._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},w._final=async function(t){try{await e.ready,e.close().catch(()=>{}),g=t}catch(e){t(e)}}}const e=u(E)?E.readable:E;y(e,()=>{if(g){const e=g;g=null,e()}})}if(T)if(a(E))E.on("readable",function(){if(v){const e=v;v=null,e()}}),E.on("end",function(){w.push(null)}),w._read=function(){for(;;){const e=E.read();if(null===e)return void(v=w._read);if(!w.push(e))return}};else if(l(E)){const e=(u(E)?E.readable:E).getReader();w._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!w.push(t))return;if(r)return void w.push(null)}catch{return}}}return w._destroy=function(e,t){e||null===b||(e=new f),v=null,r=null,g=null,null===b?t(e):(b=t,a(E)&&o(E,e))},w}},8095:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.MAP]=this}canBeUsedFor(e){return null!=e&&(e instanceof Map||!Array.isArray(e)&&"object"==typeof e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.MAP,1]):this.ioc.intSerializer.serialize(0,!1);const r=e instanceof Map,i=r?Array.from(e.keys()):Object.keys(e);let o=i.length;o<0?o=0:o>this.ioc.intSerializer.INT32_MAX&&(o=this.ioc.intSerializer.INT32_MAX);const a=[];t&&a.push(n.from([this.ioc.DataType.MAP,0])),a.push(this.ioc.intSerializer.serialize(o,!1));for(let t=0;t<o;t++){const n=i[t],o=r?e.get(n):e[n];a.push(this.ioc.anySerializer.serialize(n),this.ioc.anySerializer.serialize(o))}return n.concat(a)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.MAP)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");i=i.slice(a);const s=new Map;for(let e=0;e<o;e++){let t,n,o,a;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}} key: `+t.message,t}i=i.slice(n);try{({v:o,len:a}=this.ioc.anySerializer.deserialize(i)),r+=a}catch(t){throw t.message=`{item_${e}} value: `+t.message,t}i=i.slice(a),s.set(t,o)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},8209:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,n,i,o){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return a(u,"_invoke",function(r,n,i){var o,a,s,l=0,u=i||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,a=0,s=e,p.n=r,c}};function f(r,n){for(a=r,s=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],f=p.p,h=o[2];r>3?(i=h===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=r<2&&f<o[1])?(a=0,p.v=n,p.n=o[1]):f<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,p.n=h,a=0))}if(i||r>1)return c;throw d=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),a=u,s=h;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(l=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=p.n<0)?s:r.call(n,p))!==c)break}catch(t){o=e,a=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var p=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),f=d.prototype=l.prototype=Object.create(p);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,a(f,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(f),a(f,i,"Generator"),a(f,n,function(){return this}),a(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:h}})()}function a(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}a=function(e,t,r,n){function o(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},a(e,t,r,n)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)})}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var d=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1,this.dynamicElements=new Set,this.translationQueue=new Set,this.translationScheduled=!1},n=[{key:"initializeEventListeners",value:function(){var e=this;i18n.on("localeChanged",function(t){e.updatePageLocalization(t)}),document.querySelectorAll(".locale-option").forEach(function(t){t.addEventListener("click",function(){var t=c(o().m(function t(r){var n;return o().w(function(t){for(;;)switch(t.n){case 0:return n=r.currentTarget.getAttribute("data-locale"),t.n=1,e.handleLocaleChange(n);case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())})}},{key:"handleLocaleChange",value:(a=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!this.isChangingLocale){e.n=1;break}return e.a(2);case 1:return e.p=1,this.isChangingLocale=!0,document.body.classList.add("changing-locale"),e.n=2,i18n.setLocale(t);case 2:if(e.v){e.n=3;break}throw new Error("Failed to load locale: ".concat(t));case 3:e.n=5;break;case 4:e.p=4,e.v,showError("Failed to change language settings");case 5:return e.p=5,this.isChangingLocale=!1,document.body.classList.remove("changing-locale"),e.f(5);case 6:return e.a(2)}},e,this,[[1,4,5,6]])})),function(e){return a.apply(this,arguments)})},{key:"initializeDynamicElements",value:function(){var e=this;this.dynamicElements=new Set([].concat(r(document.querySelectorAll("[data-i18n]")),r(document.querySelectorAll("[data-i18n-placeholder]")),r(document.querySelectorAll("[data-i18n-aria-label]")),r(document.querySelectorAll("[data-i18n-title]")),r(document.querySelectorAll("[data-i18n-dynamic]")),r(document.querySelectorAll("[data-i18n-date]")),r(document.querySelectorAll("[data-i18n-params]")))),new MutationObserver(function(t){t.forEach(function(t){if("childList"===t.type)t.addedNodes.forEach(function(t){if(t.nodeType===Node.ELEMENT_NODE){var r=[];(t.hasAttribute("data-i18n")||t.hasAttribute("data-i18n-placeholder")||t.hasAttribute("data-i18n-aria-label")||t.hasAttribute("data-i18n-title")||t.hasAttribute("data-i18n-dynamic")||t.hasAttribute("data-i18n-date"))&&(e.dynamicElements.add(t),r.push(t)),t.querySelectorAll("[data-i18n], [data-i18n-placeholder], [data-i18n-aria-label], [data-i18n-title], [data-i18n-dynamic], [data-i18n-date]").forEach(function(t){e.dynamicElements.add(t),r.push(t)}),e.queueForTranslation(r)}});else if("attributes"===t.type){var r=t.target;r.nodeType===Node.ELEMENT_NODE&&(r.hasAttribute("data-i18n")||r.hasAttribute("data-i18n-placeholder")||r.hasAttribute("data-i18n-aria-label")||r.hasAttribute("data-i18n-title")||r.hasAttribute("data-i18n-dynamic")||r.hasAttribute("data-i18n-date")||r.hasAttribute("data-i18n-params"))&&(e.dynamicElements.add(r),e.queueForTranslation([r]))}})}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-i18n","data-i18n-placeholder","data-i18n-aria-label","data-i18n-title","data-i18n-dynamic","data-i18n-date","data-i18n-params"]})}},{key:"updateElementLocalization",value:function(e){try{if(e.hasAttribute("data-i18n")){var r=e.getAttribute("data-i18n"),n=i18n.translate(r);if(n)if("BUTTON"===e.tagName&&e.querySelector(".spinner")){var i=e.querySelector("span[data-i18n]");if(i)i.textContent=n;else{var o=e.querySelector(".spinner");e.innerHTML="",e.appendChild(o);var a=document.createElement("span");a.setAttribute("data-i18n",r),a.textContent=n,e.appendChild(a)}}else e.textContent=n}if(e.hasAttribute("data-i18n-title")){var s=e.getAttribute("data-i18n-title"),c=i18n.translate(s);c&&(e.title=c)}if(e.hasAttribute("data-i18n-placeholder")){var l=e.getAttribute("data-i18n-placeholder"),u=i18n.translate(l);u&&(e.placeholder=u)}if(e.hasAttribute("data-i18n-aria-label")){var d=e.getAttribute("data-i18n-aria-label"),p=i18n.translate(d);p&&e.setAttribute("aria-label",p)}if(e.hasAttribute("data-i18n-title")){var f=e.getAttribute("data-i18n-title"),h=i18n.translate(f);h&&(e.title=h)}if(e.hasAttribute("data-i18n-dynamic")){var m=e.getAttribute("data-i18n-dynamic"),y=e.getAttribute("data-i18n-params"),g=y?JSON.parse(y):{},v=i18n.translate(m,g);v&&(e.textContent=v)}if(e.hasAttribute("data-i18n-date")){var b=e.getAttribute("data-i18n-date"),w=e.getAttribute("data-date");if(w){var _,E="datetime",S="medium";if(b.includes("-")){var T=t(b.split("-"),2);E=T[0],S=T[1]}else S=b;switch(E){case"date":_=i18n.culturalConfig.formatDate(new Date(w),S);break;case"time":_=i18n.culturalConfig.formatTime(new Date(w),S);break;default:_=i18n.culturalConfig.formatDateTime(new Date(w),S)}var I=e.querySelector("i"),A=I?I.outerHTML:"";e.innerHTML=A+_}}}catch(e){}}},{key:"queueForTranslation",value:function(e){var t=this;e.forEach(function(e){return t.translationQueue.add(e)}),this.scheduleTranslation()}},{key:"scheduleTranslation",value:function(){var e=this;this.translationScheduled||(this.translationScheduled=!0,requestAnimationFrame(function(){e.processTranslationQueue(),e.translationScheduled=!1}))}},{key:"processTranslationQueue",value:function(){var e=this;this.translationQueue.forEach(function(t){document.body.contains(t)&&e.updateElementLocalization(t)}),this.translationQueue.clear()}},{key:"updatePageLocalization",value:function(e){var t=this;try{this.dynamicElements.forEach(function(e){document.body.contains(e)?t.updateElementLocalization(e):t.dynamicElements.delete(e)}),document.documentElement.setAttribute("dir",e.direction),document.documentElement.setAttribute("lang",e.locale.split("-")[0]),this.applyCulturalStyles(e.culturalPreferences),window.dispatchEvent(new CustomEvent("localizationUpdated",{detail:e}))}catch(e){}}},{key:"applyCulturalStyles",value:function(e){var t=document.documentElement;t.style.setProperty("--decimal-separator",e.numberFormat.decimal),t.style.setProperty("--grouping-separator",e.numberFormat.group),t.style.setProperty("--time-format",e.timeFormat.short),t.style.setProperty("--date-format",e.dateFormat.medium),t.style.setProperty("--date-time-format",e.dateTimeFormat.medium)}},{key:"initialize",value:function(){this.initialized||(this.initializeDynamicElements(),this.initializeEventListeners(),this.initialized=!0);var e={locale:i18n.currentLocale,direction:i18n.culturalConfig.isRTL()?"rtl":"ltr",culturalPreferences:i18n.culturalConfig.getCulturalPreferences()};this.updatePageLocalization(e)}}],n&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,i,a}();window.localeUI=new d},8287:(e,t,r)=>{"use strict";const n=r(7526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|m(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|h(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||J(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|h(e))}function p(e){const t=e.length<0?0:0|h(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(i)return n?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(l(e,o+n)!==l(t,n)){r=!1;break}if(r)return o}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(J(n))return a;e[r+a]=n}return a}function _(e,t,r,n){return Y(q(t,e.length-r),e,r,n)}function E(e,t,r,n){return Y(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return Y(G(t),e,r,n)}function T(e,t,r,n){return Y(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!c.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Q(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),l=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<s;++e)if(l[e]!==u[e]){o=l[e],a=u[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function R(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=K[e[n]];return i}function N(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function k(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,i){V(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function D(e,t,r,n,i){V(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X(function(e){F(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))}),c.prototype.readBigUInt64BE=X(function(e){F(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||k(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||k(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X(function(e){F(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=X(function(e){F(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||k(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||k(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||k(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||k(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){L(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){L(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X(function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=X(function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);L(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);L(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X(function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=X(function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const M={};function B(e,t,r){M[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function $(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function V(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new M.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){F(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||H(t,e.length-(r+1))}(n,i,o)}function F(e,t){if("number"!=typeof e)throw new M.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,r){if(Math.floor(e)!==e)throw F(e,r),new M.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),B("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),B("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=$(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=$(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);const W=/[^+/0-9A-Za-z-_]/g;function q(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const K=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},8372:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e;const t=e=>{const t={};return Object.values(e).forEach(e=>t[e.elementName]=e),t},r=e.DataType;this.types=[{name:"Barrier",code:r.BARRIER,enum:t(i.barrier)},{name:"Cardinality",code:r.CARDINALITY,enum:t(i.cardinality)},{name:"Column",code:r.COLUMN,enum:t(i.column)},{name:"Direction",code:r.DIRECTION,enum:t(i.direction)},{name:"DT",code:r.DT,enum:t(i.dt)},{name:"Merge",code:r.MERGE,enum:t(i.merge)},{name:"Operator",code:r.OPERATOR,enum:t(i.operator)},{name:"Order",code:r.ORDER,enum:t(i.order)},{name:"Pick",code:r.PICK,enum:t(i.pick)},{name:"Pop",code:r.POP,enum:t(i.pop)},{name:"Scope",code:r.SCOPE,enum:t(i.scope)},{name:"T",code:r.T,enum:t(i.t)}],this.byname={},this.bycode={};for(const e of this.types)this.ioc.serializers[e.code]=this,this.byname[e.name]=e,this.bycode[e.code]=e}canBeUsedFor(e){if(!(e instanceof i.EnumValue))return!1;if(!this.byname[e.typeName])throw new Error(`EnumSerializer.serialize: typeName=${e.typeName} is not supported.`);return!0}serialize(e,t=!0){const r=this.byname[e.typeName];if(void 0===e.elementName||null===e.elementName)return t?n.from([r.code,1]):n.from([this.ioc.DataType.STRING,0,0,0,0,0]);const i=[];return t&&i.push(n.from([r.code,0])),i.push(this.ioc.stringSerializer.serialize(e.elementName,!0)),n.concat(i)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");let a,s,c,l;if(t){const e=o.readUInt8();if(r++,a=this.bycode[e],!a)throw new Error(`unexpected {type_code}=${e}`);if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}try{({v:s,len:c}=this.ioc.stringSerializer.deserialize(o,!0)),r+=c}catch(e){throw e.message="elementName: "+e.message,e}return o=o.slice(c),l=a?a.enum[s]:new i.EnumValue(void 0,s),{v:l,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},8402:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(9253);e.exports=class extends i{constructor(e){if(super(e),void 0===this._options.username||null===this._options.username||0===this._options.username.length||void 0===this._options.password||null===this._options.password||0===this._options.password.length)throw new Error("Missing credentials for SASL PLAIN mechanism")}get name(){return"PLAIN"}evaluateChallenge(e){return this._hasInitialResponse(e)?Promise.resolve({saslMechanism:this.name,sasl:this._saslArgument(this._options.authzid,this._options.username,this._options.password)}):Promise.resolve({sasl:this._saslArgument(this._options.authzid,this._options.username,this._options.password)})}_saslArgument(e,t,r){return null==e&&(e=""),null==t&&(t=""),void 0!==r&&null!==r.length||(r=""),n.from(`${e}\0${t}\0${r}`).toString("base64")}_hasInitialResponse(e){return null!=e}}},8584:(e,t,r)=>{"use strict";const n=r(5606),{ArrayPrototypeSlice:i,Error:o,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:c,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:d,SymbolHasInstance:p}=r(4134);e.exports=C,C.WritableState=k;const{EventEmitter:f}=r(7007),h=r(4259).Stream,{Buffer:m}=r(8287),y=r(5896),{addAbortSignal:g}=r(4147),{getHighWaterMark:v,getDefaultHighWaterMark:b}=r(5291),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:A,ERR_STREAM_WRITE_AFTER_END:O,ERR_UNKNOWN_ENCODING:R}=r(6371).codes,{errorOrDestroy:P}=y;function x(){}l(C.prototype,h.prototype),l(C,h);const N=d("kOnFinished");function k(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(3370)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?v(this,e,"writableHighWaterMark",n):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=U.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,L(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[N]=[]}function L(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function C(e){const t=this instanceof r(3370);if(!t&&!a(C,this))return new C(e);this._writableState=new k(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&g(e.signal,this)),h.call(this,e),y.construct(this,()=>{const e=this._writableState;e.writing||V(this,e),W(this,e)})}function D(e,t,r,i){const o=e._writableState;if("function"==typeof r)i=r,r=o.defaultEncoding;else{if(r){if("buffer"!==r&&!m.isEncoding(r))throw new R(r)}else r=o.defaultEncoding;"function"!=typeof i&&(i=x)}if(null===t)throw new A;if(!o.objectMode)if("string"==typeof t)!1!==o.decodeStrings&&(t=m.from(t,r),r="buffer");else if(t instanceof m)r="buffer";else{if(!h._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=h._uint8ArrayToBuffer(t),r="buffer"}let a;return o.ending?a=new O:o.destroyed&&(a=new T("write")),a?(n.nextTick(i,a),P(e,a,!0),a):(o.pendingcb++,function(e,t,r,n,i){const o=t.objectMode?1:r.length;t.length+=o;const a=t.length<t.highWaterMark;a||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==x&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1);return a&&!t.errored&&!t.destroyed}(e,o,t,r,i))}function j(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new T("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function z(e,t,r,n){--t.pendingcb,n(r),$(t),P(e,r)}function U(e,t){const r=e._writableState,i=r.sync,o=r.writecb;"function"==typeof o?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?n.nextTick(z,e,r,t,o):z(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&V(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},n.nextTick(M,r.afterWriteTickInfo)):B(e,r,1,o))):P(e,new E)}function M({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,B(e,t,r,n)}function B(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&$(t),W(e,t)}function $(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;const{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new T("write"))}const r=e[N].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new T("end"))}L(e)}function V(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:o}=t,a=r.length-n;if(!a)return;let s=n;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const n=t.allNoop?x:e=>{for(let t=s;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===s?r:i(r,s);o.allBuffers=t.allBuffers,j(e,t,!0,t.length,o,"",n),L(t)}else{do{const{chunk:n,encoding:i,callback:a}=r[s];r[s++]=null;j(e,t,!1,o?1:n.length,n,i,a)}while(s<r.length&&!t.writing);s===r.length?L(t):s>256?(r.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function F(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function H(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function i(i){if(r)P(e,null!=i?i:E());else if(r=!0,t.pendingcb--,i){const r=t[N].splice(0);for(let e=0;e<r.length;e++)r[e](i);P(e,i,t.sync)}else F(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(q,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}function W(e,t,r){F(t)&&(H(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick((e,t)=>{F(t)?q(e,t):t.pendingcb--},e,t)):F(t)&&(t.pendingcb++,q(e,t))))}function q(e,t){t.pendingcb--,t.finished=!0;const r=t[N].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}k.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(k.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(C,p,{__proto__:null,value:function(e){return!!a(this,e)||this===C&&(e&&e._writableState instanceof k)}}),C.prototype.pipe=function(){P(this,new S)},C.prototype.write=function(e,t,r){return!0===D(this,e,t,r)},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||V(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=u(e)),!m.isEncoding(e))throw new R(e);return this._writableState.defaultEncoding=e,this},C.prototype._write=function(e,t,r){if(!this._writev)throw new _("_write()");this._writev([{chunk:e,encoding:t}],r)},C.prototype._writev=null,C.prototype.end=function(e,t,r){const i=this._writableState;let a;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){const r=D(this,e,t);r instanceof o&&(a=r)}return i.corked&&(i.corked=1,this.uncork()),a||(i.errored||i.ending?i.finished?a=new I("end"):i.destroyed&&(a=new T("end")):(i.ending=!0,W(this,i,!0),i.ended=!0)),"function"==typeof r&&(a||i.finished?n.nextTick(r,a):i[N].push(r)),this},c(C.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const G=y.destroy;let Y;function Q(){return void 0===Y&&(Y={}),Y}C.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[N].length)&&n.nextTick($,r),G.call(this,e,t),this},C.prototype._undestroy=y.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype[f.captureRejectionSymbol]=function(e){this.destroy(e)},C.fromWeb=function(e,t){return Q().newStreamWritableFromWritableStream(e,t)},C.toWeb=function(e){return Q().newWritableStreamFromStreamWritable(e)}},8605:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Neo4jDatabaseService:()=>M});var n=r(1982);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(i(e)+" is not iterable")}function l(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return u(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,s=0,c=e,p.n=r,a}};function f(r,n){for(s=r,c=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],f=p.p,h=o[2];r>3?(i=h===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=r<2&&f<o[1])?(s=0,p.v=n,p.n=o[1]):f<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,p.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,c=h;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(p.n=-1),f(s,c)):p.n=c:p.v=c);try{if(l=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=p.n<0)?c:r.call(n,p))!==a)break}catch(t){o=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function d(){}t=Object.getPrototypeOf;var p=[][n]?t(t([][n]())):(u(t={},n,function(){return this}),t),f=d.prototype=s.prototype=Object.create(p);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=d,u(f,"constructor",d),u(d,"constructor",c),c.displayName="GeneratorFunction",u(d,i,"GeneratorFunction"),u(f),u(f,i,"Generator"),u(f,n,function(){return this}),u(f,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:h}})()}function u(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}u=function(e,t,r,n){function o(t,r){u(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},u(e,t,r,n)}function d(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)})}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var m={READ:"READ",WRITE:"WRITE"},y=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t.uri||!t.username||!t.password)throw new Error("Invalid Neo4j configuration");this.config=t,this.driver=null,this.isInitialized=!1,this.connectionRetryCount=0,this.maxRetries=3,this.poolConfig={maxConnectionPoolSize:1,connectionTimeout:15e3,maxTransactionRetryTime:15e3,connectionAcquisitionTimeout:15e3,maxConnectionLifetime:36e5,idleTimeoutMillis:18e5}},t=[{key:"isRetryableError",value:function(e){return["ServiceUnavailable","SessionExpired","TransientError","Neo.TransientError"].some(function(t){var r,n;return(null===(r=e.code)||void 0===r?void 0:r.includes(t))||(null===(n=e.message)||void 0===n?void 0:n.includes(t))})}},{key:"checkConnections",value:(h=p(l().m(function e(){var t;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.driver){e.n=1;break}return debugLog("No driver found during health check - will initialize on next query"),this.isInitialized=!1,e.a(2);case 1:return e.p=1,e.n=2,this.driver.verifyConnectivity();case 2:utils.debugLog("Connection health check passed"),e.n=4;break;case 3:return e.p=3,t=e.v,utils.debugLog("Connection health check failed:",t),this.isInitialized=!1,e.n=4,this.cleanup();case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return h.apply(this,arguments)})},{key:"withRetry",value:(d=p(l().m(function e(t){var r,n,i,o,a=this,s=arguments;return l().w(function(e){for(;;)switch(e.n){case 0:r=s.length>1&&void 0!==s[1]?s[1]:3,n=l().m(function e(){var n,i,s;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t();case 1:return i=e.v,e.a(2,{v:i});case 2:if(e.p=2,s=e.v,!(a.isRetryableError(s)&&o<r)){e.n=4;break}return n=Math.min(100*Math.pow(2,o),2e3),e.n=3,new Promise(function(e){return setTimeout(e,n)});case 3:return a.isInitialized=!1,e.a(2,0);case 4:throw s;case 5:return e.a(2)}},e,null,[[0,2]])}),o=1;case 1:if(!(o<=r)){e.n=5;break}return e.d(c(n()),2);case 2:if(0!==(i=e.v)){e.n=3;break}return e.a(3,4);case 3:if(!i){e.n=4;break}return e.a(2,i.v);case 4:o++,e.n=1;break;case 5:return e.a(2)}},e)})),function(e){return d.apply(this,arguments)})},{key:"executeQuery",value:(u=p(l().m(function e(t){var r,n,i=this,o=arguments;return l().w(function(e){for(;;)switch(e.n){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]?o[2]:m.READ,utils.debugLog("Executing Neo4j query:",t,"Params:",r,"Mode:",n),this.isInitialized){e.n=1;break}return utils.debugLog("Connection not initialized or lost - reinitializing"),e.n=1,this.initialize();case 1:return e.a(2,this.withRetry(p(l().m(function e(){var o,a;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(o=i.driver.session({database:i.config.database,defaultAccessMode:n===m.WRITE?neo4j.session.WRITE:neo4j.session.READ}),e.p=1,n!==m.WRITE){e.n=3;break}return e.n=2,o.writeTransaction(function(){var e=p(l().m(function e(n){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.run(t,r);case 1:return e.a(2,e.v)}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:a=e.v,e.n=5;break;case 3:return e.n=4,o.readTransaction(function(){var e=p(l().m(function e(n){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.run(t,r);case 1:return e.a(2,e.v)}},e)}));return function(t){return e.apply(this,arguments)}}());case 4:a=e.v;case 5:return e.a(2,a);case 6:return e.p=6,e.n=7,o.close().catch(function(e){});case 7:return e.f(6);case 8:return e.a(2)}},e,null,[[1,,6,8]])}))))}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"read",value:(s=p(l().m(function e(t){var r,n=arguments;return l().w(function(e){for(;;)if(0===e.n)return r=n.length>1&&void 0!==n[1]?n[1]:{},e.a(2,this.executeQuery(t,r,m.READ))},e,this)})),function(e){return s.apply(this,arguments)})},{key:"write",value:(o=p(l().m(function e(t){var r,n=arguments;return l().w(function(e){for(;;)if(0===e.n)return r=n.length>1&&void 0!==n[1]?n[1]:{},e.a(2,this.executeQuery(t,r,m.WRITE))},e,this)})),function(e){return o.apply(this,arguments)})},{key:"initialize",value:(i=p(l().m(function e(){var t,r,n,i=this;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!this.driver){e.n=1;break}return e.n=1,this.cleanup();case 1:return t=this.config.uri.startsWith("neo4j+s://")||this.config.uri.includes("?trust=")||this.config.uri.includes("&trust="),r=a({},this.poolConfig),t&&(delete r.encrypted,delete r.trust,delete r.trustStrategy),this.driver=neo4j.driver(this.config.uri,neo4j.auth.basic(this.config.username,this.config.password),r),e.n=2,this.driver.verifyConnectivity();case 2:return this.isInitialized=!0,utils.debugLog("Neo4j connection initialized successfully"),this.healthCheckInterval=setInterval(function(){i.checkConnections().catch(function(e){})},3e5),e.a(2,this.driver);case 3:throw e.p=3,n=e.v,this.isInitialized=!1,utils.debugLog("Connection initialization error:",n),n;case 4:return e.a(2)}},e,this,[[0,3]])})),function(){return i.apply(this,arguments)})},{key:"cleanup",value:(n=p(l().m(function e(){return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.healthCheckInterval&&(clearInterval(this.healthCheckInterval),this.healthCheckInterval=null),!this.driver){e.n=5;break}return e.p=1,e.n=2,this.driver.close();case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:this.driver=null;case 5:this.isInitialized=!1,this.connectionRetryCount=0;case 6:return e.a(2)}},e,this,[[1,3]])})),function(){return n.apply(this,arguments)})}],t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,i,o,s,u,d,h}();function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}window.Neo4jConnectionManager=y,window.NEO4J_SESSION_MODES=m;var w={toNeo4jDateTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return{year:{low:e.getFullYear(),high:0},month:{low:e.getMonth()+1,high:0},day:{low:e.getDate(),high:0},hour:{low:e.getHours(),high:0},minute:{low:e.getMinutes(),high:0},second:{low:e.getSeconds(),high:0},nanosecond:{low:0,high:0},timeZoneOffsetSeconds:{low:0,high:0}}},fromNeo4jDateTime:function(e){if(!e)return null;if("string"==typeof e)return new Date(e);if(e instanceof Date)return e;try{var t;if(void 0!==(null===(t=e.year)||void 0===t?void 0:t.low)){var r,n,i,o,a="".concat(e.year.low,"-").concat(String(e.month.low).padStart(2,"0"),"-").concat(String(e.day.low).padStart(2,"0"),"T").concat(String((null===(r=e.hour)||void 0===r?void 0:r.low)||0).padStart(2,"0"),":").concat(String((null===(n=e.minute)||void 0===n?void 0:n.low)||0).padStart(2,"0"),":").concat(String((null===(i=e.second)||void 0===i?void 0:i.low)||0).padStart(2,"0"),".").concat(String((null===(o=e.nanosecond)||void 0===o?void 0:o.low)||0).padStart(3,"0"),"Z");return new Date(a)}return new Date(e)}catch(e){return null}},isNeo4jDateTime:function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return!1}if(!e||"object"!==b(e))return!1;return!!["year","month","day","hour","minute","second","nanosecond","timeZoneOffsetSeconds"].every(function(t){return e.hasOwnProperty(t)})&&Object.entries(e).every(function(e){var t=g(e,2),r=(t[0],t[1]);return r&&"object"===b(r)&&"low"in r&&"high"in r&&"number"==typeof r.low&&"number"==typeof r.high})},now:function(){return this.toNeo4jDateTime(new Date)}};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){A(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function A(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return R(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,s=0,c=e,p.n=r,a}};function f(r,n){for(s=r,c=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],f=p.p,h=o[2];r>3?(i=h===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=r<2&&f<o[1])?(s=0,p.v=n,p.n=o[1]):f<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,p.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,h),s=u,c=h;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(p.n=-1),f(s,c)):p.n=c:p.v=c);try{if(l=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=p.n<0)?c:r.call(n,p))!==a)break}catch(t){o=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(R(t={},n,function(){return this}),t),d=l.prototype=s.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,R(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,R(d,"constructor",l),R(l,"constructor",c),c.displayName="GeneratorFunction",R(l,i,"GeneratorFunction"),R(d),R(d,i,"Generator"),R(d,n,function(){return this}),R(d,"toString",function(){return"[object Generator]"}),(O=function(){return{w:o,m:p}})()}function R(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}R=function(e,t,r,n){function o(t,r){R(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},R(e,t,r,n)}function P(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function x(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){P(o,n,i,a,s,"next",e)}function s(e){P(o,n,i,a,s,"throw",e)}a(void 0)})}}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function k(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}function L(e,t,r){return t=D(t),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,C()?Reflect.construct(t,r||[],D(e).constructor):t.apply(e,r))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}window.Neo4jDate=w;var z="READ",U="WRITE",M=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=L(this,t,[e])).config=e,r.connectionManager=new y(e),r.session=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(t,e),r=t,n=[{key:"initialize",value:(f=x(O().m(function e(){return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.connectionManager.initialize();case 1:return e.a(2)}},e,this)})),function(){return f.apply(this,arguments)})},{key:"close",value:(p=x(O().m(function e(){return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.connectionManager.cleanup();case 1:return e.a(2)}},e,this)})),function(){return p.apply(this,arguments)})},{key:"startTransaction",value:(d=x(O().m(function e(){var t,r=arguments;return O().w(function(e){for(;;)if(0===e.n)return t=r.length>0&&void 0!==r[0]?r[0]:"WRITE",e.a(2,this.connectionManager.driver.session({defaultAccessMode:t}))},e,this)})),function(){return d.apply(this,arguments)})},{key:"endTransaction",value:(u=x(O().m(function e(){var t,r=arguments;return O().w(function(e){for(;;)switch(e.n){case 0:null!=(t=r.length>0&&void 0!==r[0]?r[0]:null)&&t.close();case 1:return e.a(2)}},e)})),function(){return u.apply(this,arguments)})},{key:"executeInTransaction",value:(l=x(O().m(function e(t,r){return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.executeWrite(function(){var e=x(O().m(function e(t){return O().w(function(e){for(;;)if(0===e.n)return e.a(2,r(t))},e)}));return function(t){return e.apply(this,arguments)}}());case 1:return e.a(2,e.v)}},e)})),function(e,t){return l.apply(this,arguments)})},{key:"executeNeo4jQuery",value:(c=x(O().m(function e(t){var r,n,i,o=arguments;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]?o[2]:z,null!=this.connectionManager){e.n=1;break}throw new Error("Neo4J connection manager has not been initialised.");case 1:return e.p=1,e.n=2,this.connectionManager.executeQuery(t,r,n);case 2:return i=e.v,e.a(2,i.records);case 3:throw e.p=3,e.v;case 4:return e.a(2)}},e,this,[[1,3]])})),function(e){return c.apply(this,arguments)})},{key:"executeRead",value:(s=x(O().m(function e(t,r){var n,i,o,a,s=arguments;return O().w(function(e){for(;;)switch(e.n){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4&&void 0!==s[4]?s[4]:0,a=s.length>5&&void 0!==s[5]?s[5]:0,e.n=1,this.executeInternal(t,I(I({},r),{},{skip:o,limit:a}),n,i,z);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"executeWrite",value:(a=x(O().m(function e(t,r){var n,i=arguments;return O().w(function(e){for(;;)switch(e.n){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:null,e.n=1,this.executeInternal(t,r,n,!0,U);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"executeInternal",value:(o=x(O().m(function e(t,r,n,i,o){var a,s;return O().w(function(e){for(;;)switch(e.n){case 0:if(null==n){e.n=2;break}return e.n=1,n.run(t,r);case 1:a=e.v,e.n=4;break;case 2:return e.n=3,this.executeNeo4jQuery(t,r,o);case 3:a=e.v;case 4:if(s=this.normaliseData(a),!i){e.n=6;break}if(!Array.isArray(s)){e.n=5;break}if(!(s.length>0)){e.n=5;break}return e.a(2,s[0]);case 5:return e.a(2,s);case 6:if(!Array.isArray(s)){e.n=7;break}return e.a(2,s);case 7:if(null==s){e.n=8;break}return e.a(2,[s]);case 8:return e.a(2,[]);case 9:return e.a(2)}},e,this)})),function(e,t,r,n,i){return o.apply(this,arguments)})},{key:"normaliseData",value:function(e){var t=this;return e.records?0===e.records.length?null:1===e.records.length?this.normaliseRecord(e.records[0]):e.records.map(function(e){return t.normaliseRecord(e)}):0===e.length?null:1===e.length?this.normaliseNodeset(e[0]):e.map(function(e){return t.normaliseNodeset(e)})}},{key:"normaliseRecord",value:function(e){var t,r={};for(t=0;t<e.keys.length;t++){var n=e.keys[t],i=e._fields[t],o=n.lastIndexOf("."),a=-1===o?n:n.substring(o+1);"object"===S(i)&&this.isDate(i)?r[a]=w.fromNeo4jDateTime(i):"object"===S(i)&&null!=i.toNumber?r[a]=i.toNumber():r[a]=i}return r}},{key:"normaliseNodeset",value:function(e){var t,r={};for(t=0;t<e.length;t++){var n=e.keys[t],i=n.lastIndexOf("."),o=-1===i?n:n.substring(i+1);if(null!=e._fields[t])if(e._fields[t].properties)r[o]=this.normaliseNode(e._fields[t]);else{var a=e._fields[t];"object"===S(a)&&this.isDate(a)?r[o]=w.fromNeo4jDateTime(a):"object"===S(a)?null!=a.toNumber?r[o]=a.toNumber():r[o]=this.normaliseObject(a):r[o]=a}else r[o]=null}return r}},{key:"normaliseNode",value:function(e){for(var t={},r=0,n=Object.entries(e.properties);r<n.length;r++){var i=_(n[r],2),o=i[0],a=i[1];"object"===S(a)&&this.isDate(a)?t[o]=w.fromNeo4jDateTime(a):"object"===S(a)?null!=a.toNumber?t[o]=a.toNumber():t[o]=this.normaliseObject(a):t[o]=a}return t}},{key:"normaliseObject",value:function(e){var t,r=this;if(Array.isArray(e))t=[],e.forEach(function(e){return t.push(r.normaliseObject(e))});else if(this.isPrimitive(e))t=e;else{t={};for(var n=0,i=Object.entries(e);n<i.length;n++){var o=_(i[n],2),a=o[0],s=o[1];null!=s&&"object"===S(s)?this.isDate(s)?t[a]=w.fromNeo4jDateTime(s):t[a]=this.normaliseObject(s):t[a]=s}}return t}},{key:"isDate",value:function(e){if(e&&e.__isInteger__)return!1;var t=new Date(e);return!isNaN(t.getTime())}},{key:"isPrimitive",value:function(e){return e!==Object(e)}}],n&&N(r.prototype,n),i&&N(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,o,a,s,c,l,u,d,p,f}(n.M)},8653:e=>{"use strict";e.exports={INT:1,LONG:2,STRING:3,DATE:4,TIMESTAMP:5,CLASS:6,DOUBLE:7,FLOAT:8,LIST:9,MAP:10,SET:11,UUID:12,EDGE:13,PATH:14,PROPERTY:15,GRAPH:16,VERTEX:17,VERTEXPROPERTY:18,BARRIER:19,BINDING:20,BYTECODE:21,CARDINALITY:22,COLUMN:23,DIRECTION:24,OPERATOR:25,ORDER:26,PICK:27,POP:28,LAMBDA:29,P:30,SCOPE:31,T:32,TRAVERSER:33,BIGDECIMAL:34,BIGINTEGER:35,BYTE:36,BYTEBUFFER:37,SHORT:38,BOOLEAN:39,TEXTP:40,TRAVERSALSTRATEGY:41,BULKSET:42,TREE:43,METRICS:44,TRAVERSALMETRICS:45,MERGE:46,DT:47,CHAR:128,DURATION:129,INETADDRESS:130,INSTANT:131,LOCALDATE:132,LOCALDATETIME:133,LOCALTIME:134,MONTHDAY:135,OFFSETDATETIME:136,OFFSETTIME:137,PERIOD:138,YEAR:139,YEARMONTH:140,ZONEDATETIME:141,ZONEOFFSET:142,CUSTOM:0,UNSPECIFIED_NULL:254}},9025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,a,s){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,o.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(n),l.set(e,n.length),l=r(l),l[6]=15&l[6]|t,l[8]=63&l[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=l[e];return a}return(0,i.unsafeStringify)(l)}try{n.name=e}catch(e){}return n.DNS=a,n.URL=s,n};var n,i=r(9910),o=(n=r(6792))&&n.__esModule?n:{default:n};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},9032:(e,t,r)=>{"use strict";const{Traversal:n}=r(1545);class i{constructor(e){e?(this.sourceInstructions=[...e.sourceInstructions],this.stepInstructions=[...e.stepInstructions]):(this.sourceInstructions=[],this.stepInstructions=[])}addSource(e,t){if(void 0===e)throw new Error("Name is not defined");const r=new Array(t.length+1);r[0]=e;for(let e=0;e<t.length;++e)r[e+1]=t[e];return this.sourceInstructions.push(i._generateInstruction(e,t)),this}addStep(e,t){if(void 0===e)throw new Error("Name is not defined");return this.stepInstructions.push(i._generateInstruction(e,t)),this}static _generateInstruction(e,t){const r=(t?t.length:0)+1,i=new Array(r);i[0]=e;for(let e=1;e<r;e++){const r=t[e-1];if(r instanceof n&&null!=r.graph)throw new Error(`The child traversal of ${r} was not spawned anonymously - use the __ class rather than a TraversalSource to construct the child traversal`);i[e]=r}return i}toString(){return JSON.stringify([this.sourceInstructions,this.stepInstructions])}static _createGraphOp(e,t){const r=new i;return r.addSource(e,t),r}static get GraphOp(){return{commit:i._createGraphOp("tx",["commit"]),rollback:i._createGraphOp("tx",["rollback"])}}}e.exports=i},9042:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a);for(let t=0;t<a;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];s[t]=r}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=s[e][t];for(let e=16;e<80;++e)o[e]=n(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let a=i[0],c=i[1],l=i[2],u=i[3],d=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),s=n(a,5)+r(i,c,l,u)+d+t[i]+o[e]>>>0;d=u,u=l,l=n(c,30)>>>0,c=a,a=s}i[0]=i[0]+a>>>0,i[1]=i[1]+c>>>0,i[2]=i[2]+l>>>0,i[3]=i[3]+u>>>0,i[4]=i[4]+d>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i},9198:(e,t,r)=>{"use strict";const n=r(5506),i=r(3095),o=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=o,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=n.Stream,e.exports.default=e.exports},9231:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){const n=t.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"===r&&"object"==typeof n){return`${n.constructor!==Object?n.constructor.name:""} {}`.trim()}return n.toString()}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},9253:e=>{"use strict";e.exports=class{constructor(e){this.setopts(e)}get name(){return null}setopts(e){this._options=e}evaluateChallenge(e){throw new Error("evaluateChallenge should be implemented")}}},9386:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),{TraversalStrategySerializer:i}=r(474);e.exports=class{constructor(e){this.ioc=e,this.graphsonTraversalStrategySerializer=new i}canBeUsedFor(e){return this.graphsonTraversalStrategySerializer.canBeUsedFor(e)}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.TRAVERSALSTRATEGY,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}const r=[];t&&r.push(n.from([this.ioc.DataType.TRAVERSALSTRATEGY,0]));const i=e.fqcn,o={};for(const t in e.configuration)e.configuration.hasOwnProperty(t)&&(o[t]=e.configuration[t]);return r.push(this.ioc.classSerializer.serialize(i,!1)),r.push(this.ioc.mapSerializer.serialize(o,!1)),n.concat(r)}}},9449:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(474),o=r(9032);class a{constructor(e){this._options=e||{},this._serializers=this.getDefaultSerializers().map(e=>{const t=new e;return t.writer=this,t});const t=this._options.serializers||{};Object.keys(t).forEach(e=>{const r=t[e];r.serialize&&(r.writer=this,this._serializers.unshift(r))})}getDefaultSerializers(){return p}adaptObject(e){let t;for(let r=0;r<this._serializers.length;r++){const n=this._serializers[r];if(n.canBeUsedFor&&n.canBeUsedFor(e)){t=n;break}}return t?t.serialize(e):Array.isArray(e)?e.map(e=>this.adaptObject(e)):e}write(e){return JSON.stringify(this.adaptObject(e))}writeRequest({requestId:e,op:t,processor:r,args:i}){const a={requestId:{"@type":"g:UUID","@value":e},op:t,processor:r,args:this._adaptArgs(i,!0)};return a.args.gremlin instanceof o&&(a.args.gremlin=this.adaptObject(a.args.gremlin)),n.from(JSON.stringify(a))}_adaptArgs(e,t){if(e instanceof Object){const r={};return Object.keys(e).forEach(n=>{r[n]=t&&"bindings"===n?this._adaptArgs(e[n],!1):this.adaptObject(e[n])}),r}return e}}class s extends a{getDefaultSerializers(){return f}}class c{constructor(e){this._options=e||{},this._deserializers={};const t=this.getDefaultDeserializers();if(Object.keys(t).forEach(e=>{const r=new(0,t[e]);r.reader=this,this._deserializers[e]=r}),this._options.serializers){const e=this._options.serializers||{};Object.keys(e).forEach(t=>{const r=e[t];r.deserialize&&(r.reader=this,this._deserializers[t]=r)})}}getDefaultDeserializers(){return u}read(e){if(void 0===e)return;if(null===e)return null;if(Array.isArray(e))return e.map(e=>this.read(e));const t=e[i.typeKey];if(t){const r=this._deserializers[t];return r?r.deserialize(e):e[i.valueKey]}return e&&"object"==typeof e&&e.constructor===Object?this._deserializeObject(e):e}readResponse(e){return this.read(JSON.parse(e.toString()))}_deserializeObject(e){const t=Object.keys(e),r={};for(let n=0;n<t.length;n++)r[t[n]]=this.read(e[t[n]]);return r}}class l extends c{getDefaultDeserializers(){return d}}const u={"g:Traverser":i.TraverserSerializer,"g:TraversalStrategy":i.TraversalStrategySerializer,"g:Int32":i.NumberSerializer,"g:Int64":i.NumberSerializer,"g:Float":i.NumberSerializer,"g:Double":i.NumberSerializer,"g:Date":i.DateSerializer,"g:Direction":i.DirectionSerializer,"g:Vertex":i.VertexSerializer,"g:Edge":i.EdgeSerializer,"g:VertexProperty":i.VertexPropertySerializer,"g:Property":i.PropertySerializer,"g:Path":i.Path3Serializer,"g:TextP":i.TextPSerializer,"g:T":i.TSerializer,"g:BulkSet":i.BulkSetSerializer},d=Object.assign({},u,{"g:List":i.ListSerializer,"g:Set":i.SetSerializer,"g:Map":i.MapSerializer}),p=[i.NumberSerializer,i.DateSerializer,i.BytecodeSerializer,i.TraverserSerializer,i.TraversalStrategySerializer,i.PSerializer,i.TextPSerializer,i.LambdaSerializer,i.EnumSerializer,i.VertexSerializer,i.EdgeSerializer,i.LongSerializer],f=p.concat([i.ListSerializer,i.SetSerializer,i.MapSerializer]);e.exports={GraphSON3Writer:s,GraphSON3Reader:l,GraphSON2Writer:a,GraphSON2Reader:c,GraphSONWriter:s,GraphSONReader:l}},9899:(e,t,r)=>{"use strict";const n=r(5737),i=r(9032),{TraversalStrategies:o}=r(3335);e.exports={Transaction:class{constructor(e){this._g=e,this._sessionBasedConnection=void 0}begin(){if(this._sessionBasedConnection)throw new Error("Transaction already started on this object");this._sessionBasedConnection=this._g.remoteConnection.createSession();const e=new o;return e.addStrategy(new n.RemoteStrategy(this._sessionBasedConnection)),new this._g.graphTraversalSourceClass(this._g.graph,e,new i(this._g.bytecode),this._g.graphTraversalSourceClass,this._g.graphTraversalClass)}commit(){if(!this._sessionBasedConnection)throw new Error("Cannot commit a transaction that is not started");return this._sessionBasedConnection.commit().finally(()=>this.close())}rollback(){if(!this._sessionBasedConnection)throw new Error("Cannot rollback a transaction that is not started");return this._sessionBasedConnection.rollback().finally(()=>this.close())}get isOpen(){return this._sessionBasedConnection.isOpen}close(){this._sessionBasedConnection&&this._sessionBasedConnection.close()}}}},9910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var n,i=(n=r(7037))&&n.__esModule?n:{default:n};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function a(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var s=function(e,t=0){const r=a(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};t.default=s},9995:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.FLOAT]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.FLOAT,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.FLOAT,0]));const i=n.alloc(4);return i.writeFloatBE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.FLOAT)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<4)throw new Error("unexpected {value} length");r+=4;return{v:i.readFloatBE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return i[e](r,r.exports,a),r.exports}a.m=i,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,a.d(i,o),i},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[])),a.u=e=>e+".js",a.miniCssF=e=>{},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n="admin-prompts:",a.l=(e,t,i,o)=>{if(r[e])r[e].push(t);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",n+i),s.src=e),r[e]=[t];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/dist/",(()=>{var e={572:0};a.f.j=(t,r)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise((r,i)=>n=e[t]=[r,i]);r.push(n[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,r=>{if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,n[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var n,i,[o,s,c]=r,l=0;if(o.some(t=>0!==e[t])){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(c)c(a)}for(t&&t(r);l<o.length;l++)i=o[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkadmin_prompts=self.webpackChunkadmin_prompts||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a(6284),a(5976),a(5283),a(3676),a(4028),a(4640),a(2617),a(5118),a(8209);a(3063)})();