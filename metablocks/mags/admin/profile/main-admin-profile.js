(()=>{var e,t,r,n,i={74:(e,t,r)=>{"use strict";const n=r(1104),i=Object.freeze(new n.ImmutableMap);class o{constructor(e,t){if(!Array.isArray(e))throw new TypeError("items must be an Array instance");this._items=e,this.attributes=t||i,this.length=e.length}[Symbol.iterator](){return this._items[Symbol.iterator]()}toArray(){return this._items}first(){const e=this._items[0];return void 0!==e?e:null}}e.exports=o},163:(e,t,r)=>{"use strict";const n=r(5332),{TraversalStrategies:i}=r(3335);class o{constructor(e,t){this.id=e,this.label=t}equals(e){return e instanceof o&&this.id===e.id}}class a{constructor(e,t){this.key=e,this.value=t}toString(){return`p[${this.key}->${c(this.value)}]`}equals(e){return e instanceof a&&this.key===e.key&&this.value===e.value}}class s{constructor(e,t){this.labels=e,this.objects=t}toString(){return`path[${(this.objects||[]).join(", ")}]`}equals(e){return e instanceof s&&(e===this||l(this.objects,e.objects)&&l(this.labels,e.labels))}}function l(e,t){if(e===t)return!0;if("function"==typeof e.equals)return e.equals(t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r]))return!1;return!0}return!1}function c(e){if(null==e)return e;const t=e.toString();return t.length>20?t.substr(0,20):t}e.exports={Edge:class extends o{constructor(e,t,r,n,i){if(super(e,r),this.outV=t,this.inV=n,this.properties={},i){const e=Object.keys(i);for(let t=0;t<e.length;t++){const r=e[t];this.properties[r]=i[r].value}}}toString(){const e=this.outV?this.outV.id:"?",t=this.inV?this.inV.id:"?";return`e[${this.id}][${e}-${this.label}->${t}]`}},Graph:class{traversal(e){return new(e||n.GraphTraversalSource)(this,new i)}toString(){return"graph[]"}},Path:s,Property:a,Vertex:class extends o{constructor(e,t,r){super(e,t),this.properties=r}toString(){return`v[${this.id}]`}},VertexProperty:class extends o{constructor(e,t,r,n){super(e,t),this.value=r,this.key=this.label,this.properties=n}toString(){return`vp[${this.label}->${c(this.value)}]`}}}},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,o),!0;case 6:return u.fn.call(u.context,t,n,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},243:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.VERTEX]=this}canBeUsedFor(e){return e instanceof i.Vertex}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.VERTEX,1]);const e=[3,0,0,0,0,0],r=[0,0,0,0],i=[254,1];return n.from([...e,...r,...i])}const r=[];return t&&r.push(n.from([this.ioc.DataType.VERTEX,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1)),r.push(this.ioc.anySerializer.serialize(e.properties)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.VERTEX)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,l,c,u,d;try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:l,len:c}=this.ioc.stringSerializer.deserialize(o,!1)),r+=c}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(c);try{({v:u,len:d}=this.ioc.anySerializer.deserialize(o)),r+=d}catch(e){throw e.message="{properties}: "+e.message,e}o=o.slice(d);const f=u||[];return{v:new i.Vertex(a,l,f),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},251:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,f=r?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,h=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=h,a/=256,c-=8);e[r+p-h]|=128*y}},277:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:c,NumberMIN_SAFE_INTEGER:u,NumberParseInt:d,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:p,String:h,StringPrototypeToUpperCase:y,StringPrototypeTrim:m}=r(4134),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:E}}=r(6371),{normalizeEncoding:S}=r(7760),{isAsyncFunction:T,isArrayBufferView:I}=r(7760).types,A={};const O=/^[0-7]+$/;const x=g((e,t,r=u,n=c)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)}),R=g((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)}),k=g((e,t,r=!1)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new _(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new _(t,`>= ${n} && <= ${i}`,e)});function P(e,t){if("string"!=typeof e)throw new v(t,"string",e)}const L=g((e,t,r)=>{if(!i(r,e)){const n=o(a(r,e=>"string"==typeof e?`'${e}'`:h(e)),", ");throw new w(t,e,"must be one of: "+n)}});function N(e,t){if("boolean"!=typeof e)throw new v(t,"boolean",e)}function C(e,t,r){return null!=e&&f(e,t)?e[t]:r}const D=g((e,t,r=null)=>{const i=C(r,"allowArray",!1),o=C(r,"allowFunction",!1);if(!C(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new v(t,"Object",e)}),j=g((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new v(t,"a dictionary",e)}),z=g((e,t,r=0)=>{if(!n(e))throw new v(t,"Array",e);if(e.length<r){throw new w(t,e,`must be longer than ${r}`)}});const M=g((e,t="buffer")=>{if(!I(e))throw new v(t,["Buffer","TypedArray","DataView"],e)});const U=g((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new v(t,"AbortSignal",e)}),B=g((e,t)=>{if("function"!=typeof e)throw new v(t,"Function",e)}),F=g((e,t)=>{if("function"!=typeof e||T(e))throw new v(t,"Function",e)}),$=g((e,t)=>{if(void 0!==e)throw new v(t,"undefined",e)});const W=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function V(e,t){if(void 0===e||!p(W,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===p(O,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return k(e,t),e},validateArray:z,validateStringArray:function(e,t){z(e,t);for(let r=0;r<e.length;r++)P(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){z(e,t);for(let r=0;r<e.length;r++)N(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){z(e,t);for(let r=0;r<e.length;r++){const n=e[r],i=`${t}[${r}]`;if(null==n)throw new v(i,"AbortSignal",n);U(n,i)}},validateBoolean:N,validateBuffer:M,validateDictionary:j,validateEncoding:function(e,t){const r=S(t),n=e.length;if("hex"===r&&n%2!=0)throw new w("encoding",t,`is invalid for data of length ${n}`)},validateFunction:B,validateInt32:R,validateInteger:x,validateNumber:function(e,t,r=void 0,n){if("number"!=typeof e)throw new v(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&l(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:D,validateOneOf:L,validatePlainFunction:F,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===m(e).length||+e!==+e>>>0||e>65535||0===e&&!r)throw new b(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(P(e,t),void 0===A[e]){if(void 0!==A[y(e)])throw new E(e+" (signals must use all capital letters)");throw new E(e)}},validateString:P,validateUint32:k,validateUndefined:$,validateUnion:function(e,t,r){if(!i(r,e))throw new v(t,`('${o(r,"|")}')`,e)},validateAbortSignal:U,validateLinkHeaderValue:function(e){if("string"==typeof e)return V(e,"hints"),e;if(n(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const i=e[n];V(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},345:(e,t,r)=>{"use strict";const{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:a}=r(4134),{Buffer:s}=r(8287),{inspect:l}=r(7760);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);const t=s.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{const o=r.data;if(!(e>o.length)){e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}t+=o,e-=o.length,++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){const t=s.allocUnsafe(e),r=e;let n=this.head,i=0;do{const s=n.data;if(!(e>s.length)){e===s.length?(o(t,s,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new a(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}o(t,s,r-e),e-=s.length,++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},474:(e,t,r)=>{"use strict";const n=r(1545),i=r(3335),o=r(9032),a=r(163),s=r(1104),l="@value",c="@type";class u{serialize(){throw new Error("serialize() method not implemented for "+this.constructor.name)}deserialize(){throw new Error("deserialize() method not implemented for "+this.constructor.name)}canBeUsedFor(){throw new Error("canBeUsedFor() method not implemented for "+this.constructor.name)}}class d extends u{constructor(e){super(),this.typeKey=e}deserialize(e){const t=e[l];if(!Array.isArray(t))throw new Error("Expected Array, obtained: "+t);return t.map(e=>this.reader.read(e))}serialize(e){return{[c]:this.typeKey,[l]:e.map(e=>this.writer.adaptObject(e))}}canBeUsedFor(e){return Array.isArray(e)}}e.exports={BulkSetSerializer:class extends u{deserialize(e){const t=e[l];if(!Array.isArray(t))throw new Error("Expected Array, obtained: "+t);let r=[];for(let e=0,n=t.length;e<n;e+=2){const n=t.slice(e,e+2);r=r.concat(Array(this.reader.read(n[1])).fill(this.reader.read(n[0])))}return r}},BytecodeSerializer:class extends u{serialize(e){let t=e;e instanceof n.Traversal&&(t=e.getBytecode());const r={};r[c]="g:Bytecode";const i=r[l]={},o=this._serializeInstructions(t.sourceInstructions);o&&(i.source=o);const a=this._serializeInstructions(t.stepInstructions);return a&&(i.step=a),r}_serializeInstructions(e){if(0===e.length)return null;const t=new Array(e.length);t[0]=e[0];for(let r=0;r<e.length;r++)t[r]=e[r].map(e=>this.writer.adaptObject(e));return t}canBeUsedFor(e){return e instanceof o||e instanceof n.Traversal}},DateSerializer:class extends u{serialize(e){return{[c]:"g:Date",[l]:e.getTime()}}deserialize(e){return new Date(e[l])}canBeUsedFor(e){return e instanceof Date}},DirectionSerializer:class extends u{deserialize(e){return n.direction[e[l].toLowerCase()]}},EdgeSerializer:class extends u{deserialize(e){const t=e[l];return new a.Edge(this.reader.read(t.id),new a.Vertex(this.reader.read(t.outV),this.reader.read(t.outVLabel)),t.label,new a.Vertex(this.reader.read(t.inV),this.reader.read(t.inVLabel)),this.reader.read(t.properties))}serialize(e){return{[c]:"g:Edge",[l]:{id:this.writer.adaptObject(e.id),label:e.label,outV:this.writer.adaptObject(e.outV.id),outVLabel:e.outV.label,inV:this.writer.adaptObject(e.inV.id),inVLabel:e.inV.label}}}canBeUsedFor(e){return e instanceof a.Edge}},EnumSerializer:class extends u{serialize(e){return{[c]:"g:"+e.typeName,[l]:e.elementName}}canBeUsedFor(e){return e&&e.typeName&&e instanceof n.EnumValue}},LambdaSerializer:class extends u{serialize(e){const t=e(),r="string"==typeof t,n=r?t:t[0],i=r?"gremlin-groovy":t[1],o="gremlin-groovy"===i&&n.includes("->")?n.substring(0,n.indexOf("->")).includes(",")?2:1:-1;return{[c]:"g:Lambda",[l]:{arguments:o,language:i,script:n}}}canBeUsedFor(e){return"function"==typeof e}},ListSerializer:class extends d{constructor(){super("g:List")}},LongSerializer:class extends u{serialize(e){return{[c]:"g:Int64",[l]:e.value}}canBeUsedFor(e){return e instanceof s.Long}},MapSerializer:class extends u{deserialize(e){const t=e[l];if(!Array.isArray(t))throw new Error("Expected Array, obtained: "+t);const r=new Map;for(let e=0;e<t.length;e+=2)r.set(this.reader.read(t[e]),this.reader.read(t[e+1]));return r}serialize(e){const t=[];return e.forEach((e,r)=>{t.push(this.writer.adaptObject(r)),t.push(this.writer.adaptObject(e))}),{[c]:"g:Map",[l]:t}}canBeUsedFor(e){return e instanceof Map}},NumberSerializer:class extends u{serialize(e){return isNaN(e)?{[c]:"g:Double",[l]:"NaN"}:e===Number.POSITIVE_INFINITY?{[c]:"g:Double",[l]:"Infinity"}:e===Number.NEGATIVE_INFINITY?{[c]:"g:Double",[l]:"-Infinity"}:e}deserialize(e){const t=e[l];return"NaN"===t?NaN:"Infinity"===t?Number.POSITIVE_INFINITY:"-Infinity"===t?Number.NEGATIVE_INFINITY:parseFloat(t)}canBeUsedFor(e){return"number"==typeof e}},Path3Serializer:class extends u{deserialize(e){const t=e[l];return new a.Path(this.reader.read(t.labels),this.reader.read(t.objects))}},PathSerializer:class extends u{deserialize(e){const t=e[l],r=t.objects.map(e=>this.reader.read(e));return new a.Path(this.reader.read(t.labels),r)}},PropertySerializer:class extends u{deserialize(e){const t=e[l];return new a.Property(t.key,this.reader.read(t.value))}},PSerializer:class extends u{serialize(e){const t={};t[c]="g:P";const r=t[l]={predicate:e.operator};return void 0===e.other||null===e.other?r.value=this.writer.adaptObject(e.value):r.value=[this.writer.adaptObject(e.value),this.writer.adaptObject(e.other)],t}canBeUsedFor(e){return e instanceof n.P}},TextPSerializer:class extends u{serialize(e){const t={};t[c]="g:TextP";const r=t[l]={predicate:e.operator};return void 0===e.other||null===e.other?r.value=this.writer.adaptObject(e.value):r.value=[this.writer.adaptObject(e.value),this.writer.adaptObject(e.other)],t}canBeUsedFor(e){return e instanceof n.TextP}},SetSerializer:class extends d{constructor(){super("g:Set")}},TSerializer:class extends u{deserialize(e){return n.t[e[l]]}},TraverserSerializer:class extends u{serialize(e){return{[c]:"g:Traverser",[l]:{value:this.writer.adaptObject(e.object),bulk:this.writer.adaptObject(e.bulk)}}}deserialize(e){const t=e[l];return new n.Traverser(this.reader.read(t.value),this.reader.read(t.bulk))}canBeUsedFor(e){return e instanceof n.Traverser}},TraversalStrategySerializer:class extends u{serialize(e){const t={};for(const r in e.configuration)e.configuration.hasOwnProperty(r)&&(t[r]=this.writer.adaptObject(e.configuration[r]));return{[c]:"g:"+e.constructor.name,[l]:t}}canBeUsedFor(e){return e instanceof i.TraversalStrategy}},typeKey:c,valueKey:l,VertexPropertySerializer:class extends u{deserialize(e){const t=e[l];return new a.VertexProperty(this.reader.read(t.id),t.label,this.reader.read(t.value),this.reader.read(t.properties))}},VertexSerializer:class extends u{deserialize(e){const t=e[l];return new a.Vertex(this.reader.read(t.id),t.label,this.reader.read(t.properties))}serialize(e){return{[c]:"g:Vertex",[l]:{id:this.writer.adaptObject(e.id),label:e.label}}}canBeUsedFor(e){return e instanceof a.Vertex}}}},703:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.SHORT]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.SHORT,1]):n.from([0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.SHORT,0]));const i=n.alloc(2);return i.writeInt16BE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.SHORT)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<2)throw new Error("unexpected {value} length");r+=2;return{v:i.readInt16BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},795:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTE]=this}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BYTE,1]):n.from([0]);const r=[];t&&r.push(n.from([this.ioc.DataType.BYTE,0]));const i=n.alloc(1);return i.writeUInt8(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BYTE)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<1)throw new Error("unexpected {value} length");r+=1;return{v:i.readUInt8(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},823:(e,t,r)=>{"use strict";const n=globalThis.AbortController||r(5568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:l}=r(6371),{validateAbortSignal:c,validateInteger:u,validateObject:d}=r(277),f=r(4134).Symbol("kWeak"),p=r(4134).Symbol("kResistStopPropagation"),{finished:h}=r(6238),y=r(7830),{addAbortSignalNoValidate:m}=r(4147),{isWritable:g,isNodeStream:b}=r(6115),{deprecate:v}=r(7760),{ArrayPrototypePush:w,Boolean:_,MathFloor:E,Number:S,NumberIsNaN:T,Promise:I,PromiseReject:A,PromiseResolve:O,PromisePrototypeThen:x,Symbol:R}=r(4134),k=R("kEmpty"),P=R("kEof");function L(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal");let n=1;null!=(null==t?void 0:t.concurrency)&&(n=E(t.concurrency));let i=n-1;return null!=(null==t?void 0:t.highWaterMark)&&(i=E(t.highWaterMark)),u(n,"options.concurrency",1),u(i,"options.highWaterMark",0),i+=n,async function*(){const o=r(7760).AbortSignalAny([null==t?void 0:t.signal].filter(_)),a=this,s=[],c={signal:o};let u,d,f=!1,p=0;function h(){f=!0,y()}function y(){p-=1,m()}function m(){d&&!f&&p<n&&s.length<i&&(d(),d=null)}!async function(){try{for await(let t of a){if(f)return;if(o.aborted)throw new l;try{if(t=e(t,c),t===k)continue;t=O(t)}catch(e){t=A(e)}p+=1,x(t,y,h),s.push(t),u&&(u(),u=null),!f&&(s.length>=i||p>=n)&&await new I(e=>{d=e})}s.push(P)}catch(e){const t=A(e);x(t,y,h),s.push(t)}finally{f=!0,u&&(u(),u=null)}}();try{for(;;){for(;s.length>0;){const e=await s[0];if(e===P)return;if(o.aborted)throw new l;e!==k&&(yield e),s.shift(),m()}await new I(e=>{u=e})}}finally{f=!0,d&&(d(),d=null)}}.call(this)}async function N(e,t=void 0){for await(const r of C.call(this,e,t))return!0;return!1}function C(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return L.call(this,async function(t,r){return await e(t,r)?t:k},t)}class D extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function j(e){if(e=S(e),T(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:v(function(e=void 0){return null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&c(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l({cause:e.signal.reason});yield[t++,n]}}.call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;e--<=0&&(yield r)}}.call(this)},filter:C,flatMap:function(e,t){const r=L.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:L,take:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;if(e-- >0&&(yield r),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal"),b(e)&&!g(e))throw new i("stream",e,"must be writable");const r=y(this,e);return null!=t&&t.signal&&m(t.signal,r),r}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await N.call(this,async(...t)=>!await e(...t),t)},forEach:async function(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);for await(const r of L.call(this,async function(t,r){return await e(t,r),k},t));},reduce:async function(e,t,r){var i;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&d(r,"options"),null!=(null==r?void 0:r.signal)&&c(r.signal,"options.signal");let a=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){const e=new l(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(e)),e}const s=new n,u=s.signal;if(null!=r&&r.signal){const e={once:!0,[f]:this,[p]:!0};r.signal.addEventListener("abort",()=>s.abort(),e)}let y=!1;try{for await(const n of this){var m;if(y=!0,null!=r&&null!==(m=r.signal)&&void 0!==m&&m.aborted)throw new l;a?t=await e(t,n,{signal:u}):(t=n,a=!0)}if(!y&&!a)throw new D}finally{s.abort()}return t},toArray:async function(e){null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&c(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l(void 0,{cause:e.signal.reason});w(t,n)}return t},some:N,find:async function(e,t){for await(const r of C.call(this,e,t))return r}}},834:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(9032),o=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTECODE]=this}canBeUsedFor(e){return e instanceof i||e instanceof o.Traversal}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.BYTECODE,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}e instanceof o.Traversal&&(e=e.getBytecode());const r=[];t&&r.push(n.from([this.ioc.DataType.BYTECODE,0])),r.push(this.ioc.intSerializer.serialize(e.stepInstructions.length,!1));for(let t=0;t<e.stepInstructions.length;t++){const n=e.stepInstructions[t],i=n[0],o=n.length-1;r.push(this.ioc.stringSerializer.serialize(i,!1)),r.push(this.ioc.intSerializer.serialize(o,!1));for(let e=0;e<o;e++)r.push(this.ioc.anySerializer.serialize(n[1+e],!0))}r.push(this.ioc.intSerializer.serialize(e.sourceInstructions.length,!1));for(let t=0;t<e.sourceInstructions.length;t++){const n=e.sourceInstructions[t],i=n[0],o=n.length-1;r.push(this.ioc.stringSerializer.serialize(i,!1)),r.push(this.ioc.intSerializer.serialize(o,!1));for(let e=0;e<o;e++)r.push(this.ioc.anySerializer.serialize(n[1+e],!0))}return n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.BYTECODE)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}const a=new i;let s,l,c,u;try{({v:s,len:l}=this.ioc.intSerializer.deserialize(o,!1)),r+=l}catch(e){throw e.message="{steps_length}: "+e.message,e}if(s<0)throw new Error("{steps_length} is less than zero");o=o.slice(l);for(let e=0;e<s;e++){let t,n,i,s;try{({v:t,len:n}=this.ioc.stringSerializer.deserialize(o,!1)),r+=n}catch(t){throw t.message=`{step_${e}} {name}: `+t.message,t}o=o.slice(n);try{({v:i,len:s}=this.ioc.intSerializer.deserialize(o,!1)),r+=s}catch(t){throw t.message=`{step_${e}} {values_length}: `+t.message,t}if(i<0)throw new Error(`{step_${e}} {values_length} is less than zero`);o=o.slice(s);const l=[];let c,u;for(let t=0;t<i;t++){try{({v:c,len:u}=this.ioc.anySerializer.deserialize(o)),r+=u,l.push(c)}catch(r){throw r.message=`{step_${e}} {value_${t}}: `+r.message,r}o=o.slice(u)}a.addStep(t,l)}try{({v:c,len:u}=this.ioc.intSerializer.deserialize(o,!1)),r+=u}catch(e){throw e.message="{sources_length}: "+e.message,e}if(c<0)throw new Error("{sources_length} is less than zero");o=o.slice(u);for(let e=0;e<c;e++){let t,n,i,s;try{({v:t,len:n}=this.ioc.stringSerializer.deserialize(o,!1)),r+=n}catch(t){throw t.message=`{source_${e}} {name}: `+t.message,t}o=o.slice(n);try{({v:i,len:s}=this.ioc.intSerializer.deserialize(o,!1)),r+=s}catch(t){throw t.message=`{source_${e}} {values_length}: `+t.message,t}if(i<0)throw new Error(`{source_${e}} {values_length} is less than zero`);o=o.slice(s);const l=[];let c,u;for(let t=0;t<i;t++){try{({v:c,len:u}=this.ioc.anySerializer.deserialize(o)),r+=u,l.push(c)}catch(r){throw r.message=`{source_${e}} {value_${t}}: `+r.message,r}o=o.slice(u)}a.addSource(t,l)}return{v:a,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},1019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n,i={exports:{}},o=i.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],d=!1,f=-1;function p(){d&&c&&(d=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!d){var e=l(p);d=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function m(){}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new y(e,t)),1!==u.length||d||l(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0};var b=i.exports.browser,v=g,w=i.exports.binding,_=g,E={},S=g,T=g,I=g,A=g,O=g,x="browser",R="browser",k="browser",P=[],L={nextTick:i.exports.nextTick,title:i.exports.title,browser:b,env:i.exports.env,argv:i.exports.argv,version:i.exports.version,versions:i.exports.versions,on:i.exports.on,addListener:i.exports.addListener,once:i.exports.once,off:i.exports.off,removeListener:i.exports.removeListener,removeAllListeners:i.exports.removeAllListeners,emit:i.exports.emit,emitWarning:v,prependListener:i.exports.prependListener,prependOnceListener:i.exports.prependOnceListener,listeners:i.exports.listeners,binding:w,cwd:i.exports.cwd,chdir:i.exports.chdir,umask:i.exports.umask,exit:_,pid:1,features:E,kill:S,dlopen:T,uptime:I,memoryUsage:A,uvCounters:O,platform:x,arch:R,execPath:k,execArgv:P};t.addListener=i.exports.addListener,t.arch=R,t.argv=i.exports.argv,t.binding=w,t.browser=b,t.chdir=i.exports.chdir,t.cwd=i.exports.cwd,t.default=L,t.dlopen=T,t.emit=i.exports.emit,t.emitWarning=v,t.env=i.exports.env,t.execArgv=P,t.execPath=k,t.exit=_,t.features=E,t.kill=S,t.listeners=i.exports.listeners,t.memoryUsage=A,t.nextTick=i.exports.nextTick,t.off=i.exports.off,t.on=i.exports.on,t.once=i.exports.once,t.pid=1,t.platform=x,t.prependListener=i.exports.prependListener,t.prependOnceListener=i.exports.prependOnceListener,t.removeAllListeners=i.exports.removeAllListeners,t.removeListener=i.exports.removeListener,t.title=i.exports.title,t.umask=i.exports.umask,t.uptime=I,t.uvCounters=O,t.version=i.exports.version,t.versions=i.exports.versions,t=e.exports=L},1104:(e,t,r)=>{"use strict";var n=r(1019);const i=r(2831);t.toLong=function(e){return new o(e)};const o=t.Long=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("The value must be a string or a number");this.value=e.toString()};t.getUuid=function(){return i.v4()},t.emptyArray=Object.freeze([]);class a extends Map{constructor(e){super(e)}set(){return this}delete(){return!1}clear(){}}t.ImmutableMap=a,t.getUserAgentHeader=function(){return"User-Agent"},t.getUserAgent=async()=>"navigator"in globalThis?globalThis.navigator.userAgent:void 0!==n?.versions?.node?await async function(){const e=await r.e(72).then(r.t.bind(r,1072,19)),t=(n?.env.npm_package_name??"NotAvailable").replace("_"," ");let i,o,a,s;return i=o=a=s="NotAvailable",null!=n&&(n.version&&(i=n.version.replace(" ","_")),n.arch&&(s=n.arch.replace(" ","_"))),null!=e&&(o=e.platform().replace(" ","_"),a=e.release().replace(" ","_")),`${t} Gremlin-Javascript.3.7.4 ${i} ${o}.${a} ${s}`}():void 0;t.toArrayBuffer=e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);e.exports.DeferredPromise=()=>{let e=e=>{},t=e=>{};const r=new Promise((r,n)=>{e=r,t=n});return Object.assign(r,{resolve:e,reject:t})}},1352:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.DOUBLE]=this}canBeUsedFor(e){return"number"==typeof e&&!Number.isInteger(e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.DOUBLE,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.DOUBLE,0]));const i=n.alloc(8);return i.writeDoubleBE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.DOUBLE)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;return{v:i.readDoubleBE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},1421:(e,t,r)=>{"use strict";const n={};n.DataType=r(8653),n.utils=r(6980),n.serializers={},n.intSerializer=new(r(6580))(n),n.longSerializer=new(r(1743))(n),n.longSerializerNg=new(r(7092))(n),n.stringSerializer=new(r(2420))(n,n.DataType.STRING),n.dateSerializer=new(r(2285))(n,n.DataType.DATE),n.timestampSerializer=new(r(2285))(n,n.DataType.TIMESTAMP),n.classSerializer=new(r(2420))(n,n.DataType.CLASS),n.doubleSerializer=new(r(1352))(n),n.floatSerializer=new(r(9995))(n),n.listSerializer=new(r(7100))(n,n.DataType.LIST),n.mapSerializer=new(r(8095))(n),n.setSerializer=new(r(7100))(n,n.DataType.SET),n.uuidSerializer=new(r(4194))(n),n.edgeSerializer=new(r(2588))(n),n.pathSerializer=new(r(5094))(n),n.propertySerializer=new(r(3920))(n),n.vertexSerializer=new(r(243))(n),n.vertexPropertySerializer=new(r(6414))(n),n.bytecodeSerializer=new(r(834))(n),n.pSerializer=new(r(3933))(n),n.traverserSerializer=new(r(4253))(n),n.enumSerializer=new(r(8372))(n),n.lambdaSerializer=new(r(6078))(n),n.bigIntegerSerializer=new(r(4957))(n),n.byteSerializer=new(r(795))(n),n.byteBufferSerializer=new(r(7777))(n),n.shortSerializer=new(r(703))(n),n.booleanSerializer=new(r(3321))(n),n.textPSerializer=new(r(6348))(n),n.traversalStrategySerializer=new(r(9386))(n),n.bulkSetSerializer=new(r(7765))(n),n.unspecifiedNullSerializer=new(r(7135))(n),n.numberSerializationStrategy=new(r(4687))(n),n.anySerializer=new(r(5127))(n),n.graphBinaryReader=new(r(3203))(n),n.graphBinaryWriter=new(r(6579))(n),e.exports=n},1545:e=>{"use strict";const t=Object.freeze({value:null,done:!0}),r=Symbol.asyncIterator||Symbol("@@asyncIterator");class n{constructor(e,t,r){this.operator=e,this.value=t,this.other=r}toString(){function e(t){if(Array.isArray(t)){const r=[];for(const n of t)r.push(e(n));return r}return t&&"string"==typeof t?`'${t}'`:t}return void 0===this.other||null===this.other?this.operator+"("+e(this.value)+")":this.operator+"("+e(this.value)+", "+e(this.other)+")"}and(e){return new n("and",this,e)}or(e){return new n("or",this,e)}static within(...e){return 1===e.length&&Array.isArray(e[0])?new n("within",e[0],null):new n("within",e,null)}static without(...e){return 1===e.length&&Array.isArray(e[0])?new n("without",e[0],null):new n("without",e,null)}static between(...e){return i("between",e)}static eq(...e){return i("eq",e)}static gt(...e){return i("gt",e)}static gte(...e){return i("gte",e)}static inside(...e){return i("inside",e)}static lt(...e){return i("lt",e)}static lte(...e){return i("lte",e)}static neq(...e){return i("neq",e)}static not(...e){return i("not",e)}static outside(...e){return i("outside",e)}static test(...e){return i("test",e)}}function i(e,t){return t.unshift(null,e),new(Function.prototype.bind.apply(n,t))}class o{constructor(e,t,r){this.operator=e,this.value=t,this.other=r}toString(){function e(e){return e&&"string"==typeof e?`'${e}'`:e}return void 0===this.other?this.operator+"("+e(this.value)+")":this.operator+"("+e(this.value)+", "+e(this.other)+")"}and(e){return new n("and",this,e)}or(e){return new n("or",this,e)}static containing(...e){return a("containing",e)}static endingWith(...e){return a("endingWith",e)}static notContaining(...e){return a("notContaining",e)}static notEndingWith(...e){return a("notEndingWith",e)}static notStartingWith(...e){return a("notStartingWith",e)}static startingWith(...e){return a("startingWith",e)}static regex(...e){return a("regex",e)}static notRegex(...e){return a("notRegex",e)}}function a(e,t){return t.unshift(null,e),new(Function.prototype.bind.apply(o,t))}function s(e,t){const r={};return t.split(" ").forEach(t=>{let n=t;n===n.toUpperCase()&&(n=n.toLowerCase()),r[n]=new c(e,t)}),r}const l={from_:"out",to:"in"};class c{constructor(e,t){this.typeName=e,this.elementName=t}toString(){return this.elementName}}e.exports={EnumValue:c,P:n,TextP:o,withOptions:{tokens:"~tinkerpop.valueMap.tokens",none:0,ids:1,labels:2,keys:4,values:8,all:15,indexer:"~tinkerpop.index.indexer",list:0,map:1},IO:class{static get graphml(){return"graphml"}static get graphson(){return"graphson"}static get gryo(){return"gryo"}static get reader(){return"~tinkerpop.io.reader"}static get registry(){return"~tinkerpop.io.registry"}static get writer(){return"~tinkerpop.io.writer"}},Traversal:class{constructor(e,t,r){this.graph=e,this.traversalStrategies=t,this.bytecode=r,this.traversers=null,this.sideEffects=null,this._traversalStrategiesPromise=null,this._traversersIteratorIndex=0}[r](){return this}getBytecode(){return this.bytecode}toList(){return this._applyStrategies().then(()=>{const e=[];let t;for(;(t=this._getNext())&&!t.done;)e.push(t.value);return e})}hasNext(){return this._applyStrategies().then(()=>this.traversers&&this.traversers.length>0&&this._traversersIteratorIndex<this.traversers.length&&this.traversers[this._traversersIteratorIndex].bulk>0)}iterate(){return this.bytecode.addStep("none"),this._applyStrategies().then(()=>{let e;for(;(e=this._getNext())&&!e.done;);})}next(){return this._applyStrategies().then(()=>this._getNext())}_getNext(){for(;this.traversers&&this._traversersIteratorIndex<this.traversers.length;){const e=this.traversers[this._traversersIteratorIndex];if(e.bulk>0)return e.bulk--,{value:e.object,done:!1};this._traversersIteratorIndex++}return t}_applyStrategies(){return this._traversalStrategiesPromise?this._traversalStrategiesPromise:this._traversalStrategiesPromise=this.traversalStrategies.applyStrategies(this)}toJSON(){return this.bytecode.stepInstructions}toString(){return this.bytecode.toString()}},TraversalSideEffects:class{},Traverser:class{constructor(e,t){this.object=e,this.bulk=t||1}},barrier:s("Barrier","normSack"),cardinality:s("Cardinality","list set single"),column:s("Column","keys values"),direction:function(e,t){const r=s(e,t);return Object.keys(l).forEach(e=>{r[e]=r[l[e]]}),r}("Direction","BOTH IN OUT from_ to"),dt:s("DT","second minute hour day"),graphSONVersion:s("GraphSONVersion","V1_0 V2_0 V3_0"),gryoVersion:s("GryoVersion","V1_0 V3_0"),merge:s("Merge","onCreate onMatch outV inV"),operator:s("Operator","addAll and assign div max min minus mult or sum sumLong"),order:s("Order","asc desc shuffle"),pick:s("Pick","any none"),pop:s("Pop","all first last mixed"),scope:s("Scope","global local"),t:s("T","id key label value")}},1597:()=>{function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var o={UNEXPECTED_ERROR:["system","unexpectedError"],MISSING_OBSERVATION_FIELDS:["system","missingObservationFields"],EXTRA_OBSERVATION_FIELDS:["system","extraObservationFields"],MISSING_REFLECTION_FIELDS:["system","missingReflectionFields"],EXTRA_REFLECTION_FIELDS:["system","extraReflectionFields"],NEO4J_ERROR:["network","neo4jError"],BATCH_LOAD_ERROR:["network","batchLoadError"],PROFILE_LOAD_ERROR:["application","profileLoadError"],PROFILE_SAVE_ERROR:["application","profileSaveError"],PROFILE_NOT_FOUND:["application","profileNotFound"],PROFILE_CLONE_ERROR:["application","profileCloneError"],PROFILE_EXPORT_ERROR:["application","profileExportError"],PROFILE_IMPORT_ERROR:["application","profileImportError"],PROFILE_ID_EXISTS:["application","profileIdExists"],JSON_PARSE_ERROR:["application","jsonParseError"],AUDIT_HISTORY_ERROR:["application","auditHistoryError"],NO_CHANGES_TO_SAVE:["application","noChangesToSave"],IMPORT_LIMIT_EXCEEDED:["application","importLimitExceeded"],INSTANCE_COUNT_ERROR:["application","instanceCountError"],DUPLICATE_PROFILE_ID_ACROSS_FILES:["application","duplicateProfileIdAcrossFiles"],BULK_IMPORT_ALL_FAILED:["application","bulkImportAllFailed"],PROFILE_ID_REQUIRED:["validation","profileIdRequired"],PROFILE_ID_FORMAT:["validation","profileIdFormat"],NAME_REQUIRED:["validation","nameRequired"],MODEL_PROVIDER_REQUIRED:["validation","modelProviderRequired"],MODEL_NAME_REQUIRED:["validation","modelNameRequired"],MAX_TOKENS_REQUIRED:["validation","maxTokensRequired"],EXPERIENCE_REQUIRED:["validation","experienceRequired"],SYSTEM_PROMPT_REQUIRED:["validation","systemPromptRequired"],CATEGORY_REQUIRED:["validation","categoryRequired"],AREA_FUNCTION_REQUIRED:["validation","areaFunctionRequired"],OBSERVATION_THRESHOLD_REQUIRED:["validation","observationThresholdRequired"],REFLECTION_THRESHOLD_REQUIRED:["validation","reflectionThresholdRequired"],MEMORY_DECAY_REQUIRED:["validation","memoryDecayRequired"],MAX_MEMORIES_REQUIRED:["validation","maxMemoriesRequired"],RAG_COLLECTION_REQUIRED:["validation","ragCollectionRequired"],RAG_TOP_K_REQUIRED:["validation","ragTopKRequired"],RAG_VECTOR_SIZE_REQUIRED:["validation","ragVectorSizeRequired"],SELECT_PROFILE_TO_CLONE:["selection","selectProfileToClone"],SELECT_PROFILE_TO_EXPORT:["selection","selectProfileToExport"]},a=function(){return t=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},i=null,a=[{key:"showError",value:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n=ErrorHandler.getError(e,t,r),i=n.message,o=n.severity;showError(i,o)}catch(e){var a=ErrorHandler.getError("system","unexpectedError").message;showError(a,"error")}})},{key:"showDirectError",value:function(e){showError(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error")}},{key:"handleValidationErrors",value:function(t){if(0!==t.length){var n=t.map(function(t){try{if("object"===r(t)&&t.code){var n=t.code,i=e(o[n]||[],2),a=i[0],s=i[1];if(!a||!s)return null;var l=ErrorHandler.getError(a,s).message;return t.params&&Object.entries(t.params).forEach(function(t){var r=e(t,2),n=r[0],i=r[1];l=Array.isArray(i)?l.replace("{".concat(n,"}"),i.join(", ")):l.replace("{".concat(n,"}"),i)}),l}var c=e(o[t],2),u=c[0],d=c[1];return u&&d?ErrorHandler.getError(u,d).message:null}catch(e){return null}}).filter(Boolean);n.length>0&&(showError(n.join(", ")),scrollToTop(".profile-editor"))}}}],i&&n(t.prototype,i),a&&n(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,a}();window.ProfileErrorHandler=a,window.ProfileErrorCodes=o},1743:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.LONG]=this}canBeUsedFor(){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.LONG,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.LONG,0]));const i=n.alloc(8);return i.writeBigInt64BE(BigInt(e)),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.LONG)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;let o=i.readBigInt64BE();return o=o<Number.MIN_SAFE_INTEGER||o>Number.MAX_SAFE_INTEGER?parseFloat(o.toString()):Number(o),{v:o,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},1893:(e,t,r)=>{"use strict";const n=r(2468),i=r(8402);e.exports=class extends n{constructor(e,t,r){super({mechanism:new i({username:e,password:t,authzid:r})})}evaluateChallenge(e){return this._options.mechanism.evaluateChallenge(e)}}},1982:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t,r){return t=l(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],l(e).constructor):t.apply(e,r))}function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(a())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&s(i,r.prototype),i}(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},o(e)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function c(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var l=n&&n.prototype instanceof s?n:s,c=Object.create(l.prototype);return d(c,"_invoke",function(r,n,i){var o,s,l,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,s=0,l=e,f.n=r,a}};function p(r,n){for(s=r,l=n,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],p=f.p,h=o[2];r>3?(i=h===n)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,f.v=n,f.n=o[1]):p<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,f.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:r.call(n,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(r,i,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(d(t={},n,function(){return this}),t),p=c.prototype=s.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,d(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=c,d(p,"constructor",c),d(c,"constructor",l),l.displayName="GeneratorFunction",d(c,i,"GeneratorFunction"),d(p),d(p,i,"Generator"),d(p,n,function(){return this}),d(p,"toString",function(){return"[object Generator]"}),(u=function(){return{w:o,m:h}})()}function d(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}d=function(e,t,r,n){function o(t,r){d(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},d(e,t,r,n)}function f(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){f(o,n,i,a,s,"next",e)}function s(e){f(o,n,i,a,s,"throw",e)}a(void 0)})}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function m(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}r.d(t,{M:()=>b,e:()=>v});var b=function(){return m(function e(t){if(h(this,e),this.constructor===e)throw new Error("Can't create an instance of an abstract class.")},[{key:"initialize",value:(s=p(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("initialize() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return s.apply(this,arguments)})},{key:"close",value:(a=p(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("close() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return a.apply(this,arguments)})},{key:"startTransaction",value:(o=p(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("startTransaction() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return o.apply(this,arguments)})},{key:"endTransaction",value:(i=p(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("endTransaction() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return i.apply(this,arguments)})},{key:"executeInTransaction",value:(n=p(u().m(function e(t,r){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("executeInTransaction() has not been implemented.");case 1:return e.a(2)}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"executeRead",value:(t=p(u().m(function e(t,r){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("executeRead() has not been implemented.");case 1:return e.a(2)}},e)})),function(e,r){return t.apply(this,arguments)})},{key:"executeWrite",value:(e=p(u().m(function e(t,r){return u().w(function(e){for(;;)switch(e.n){case 0:throw new Error("executeWrite() has not been implemented.");case 1:return e.a(2)}},e)})),function(t,r){return e.apply(this,arguments)})},{key:"getQuery",value:function(e){if(utils.debugLog("getQuery('".concat(e,"')")),e in this.queryStrings)return this.queryStrings[e][this.dbtype];throw new Error("A query with ID ".concat(e," was not found."))}}],[{key:"classFactory",value:function(e,t,n){var i;switch(e.DATABASETYPE.toLowerCase()){case"neo4j":i=new(0,r(6852).Neo4jDatabaseService)(e.NEO4J_CONFIG);break;case"neo4j-https":i=new(0,r(8498).Neo4jHTTPSDatabaseService)(e.NEO4J_CONFIG);break;case"cosmosdb":i=new(0,r(8331).GremlinDatabaseService)(e.COSMOSDB_CONFIG,n);break;default:throw new Error("Unsupported graph database type: ".concat(e.DATABASETYPE))}return i.dbtype=e.DATABASETYPE.toLowerCase(),i.queryStrings=t,i}}]);var e,t,n,i,o,a,s}(),v=function(e){function t(){var e;h(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return c(e=i(this,t,[].concat(n)),"isRawArray",!0),c(e,"quotedElements",!1),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),m(t)}(o(Array))},2029:(e,t,r)=>{"use strict";const n=r(1545).Traversal,i=r(9032);e.exports=class{constructor(e){this._traversalSource=e}getTraversalSource(){return this._traversalSource}getTargetLanguage(){return"gremlin-groovy"}of(e){this._traversalSource=e}translate(e,t=!1){let r=t?"__":this._traversalSource;const n=(e instanceof i?e:e.getBytecode()).stepInstructions;for(let e=0;e<n.length;e++){const t=n[e].slice(1);if(r+="."+n[e][0]+"(",t.length)for(let e=0;e<t.length;e++)e>0&&(r+=", "),r+=this.convert(t[e]);r+=")"}return r}convert(e){let t="";if(Object(e)===e)if(e instanceof n)t+=this.translate(e.getBytecode(),!0);else if("[object Object]"===e.toString())Object.keys(e).forEach(function(r,n){n>0&&(t+=", "),t+=`('${r}', `,e[r]instanceof String||"string"==typeof e[r]?t+=`'${`${e[r]}`.replaceAll("'","\\'")}'`:t+=e[r],t+=")"});else if(Array.isArray(e)){const r=[];for(const t of e)r.push(this.convert(t));t+="["+r.join(", ")+"]"}else t+=e.toString();else t+=null==e?"null":"number"==typeof e||"boolean"==typeof e?e:`'${`${e}`.replaceAll("'","\\'")}'`;return t}}},2285:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return e instanceof Date}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ID,0]));const i=n.alloc(8);return i.writeBigInt64BE(BigInt(e.getTime())),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ID)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;const o=i.readBigInt64BE();return{v:new Date(Number(o)),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},2311:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,a){return n((s=n(n(t,e),n(i,a)))<<(l=o)|s>>>32-l,r);var s,l}function o(e,t,r,n,o,a,s){return i(t&r|~t&n,e,t,o,a,s)}function a(e,t,r,n,o,a,s){return i(t&n|r&~n,e,t,o,a,s)}function s(e,t,r,n,o,a,s){return i(t^r^n,e,t,o,a,s)}function l(e,t,r,n,o,a,s){return i(r^(t|~n),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=1732584193,c=-271733879,u=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const r=i,f=c,p=u,h=d;i=o(i,c,u,d,e[t],7,-680876936),d=o(d,i,c,u,e[t+1],12,-389564586),u=o(u,d,i,c,e[t+2],17,606105819),c=o(c,u,d,i,e[t+3],22,-1044525330),i=o(i,c,u,d,e[t+4],7,-176418897),d=o(d,i,c,u,e[t+5],12,1200080426),u=o(u,d,i,c,e[t+6],17,-1473231341),c=o(c,u,d,i,e[t+7],22,-45705983),i=o(i,c,u,d,e[t+8],7,1770035416),d=o(d,i,c,u,e[t+9],12,-1958414417),u=o(u,d,i,c,e[t+10],17,-42063),c=o(c,u,d,i,e[t+11],22,-1990404162),i=o(i,c,u,d,e[t+12],7,1804603682),d=o(d,i,c,u,e[t+13],12,-40341101),u=o(u,d,i,c,e[t+14],17,-1502002290),c=o(c,u,d,i,e[t+15],22,1236535329),i=a(i,c,u,d,e[t+1],5,-165796510),d=a(d,i,c,u,e[t+6],9,-1069501632),u=a(u,d,i,c,e[t+11],14,643717713),c=a(c,u,d,i,e[t],20,-373897302),i=a(i,c,u,d,e[t+5],5,-701558691),d=a(d,i,c,u,e[t+10],9,38016083),u=a(u,d,i,c,e[t+15],14,-660478335),c=a(c,u,d,i,e[t+4],20,-405537848),i=a(i,c,u,d,e[t+9],5,568446438),d=a(d,i,c,u,e[t+14],9,-1019803690),u=a(u,d,i,c,e[t+3],14,-187363961),c=a(c,u,d,i,e[t+8],20,1163531501),i=a(i,c,u,d,e[t+13],5,-1444681467),d=a(d,i,c,u,e[t+2],9,-51403784),u=a(u,d,i,c,e[t+7],14,1735328473),c=a(c,u,d,i,e[t+12],20,-1926607734),i=s(i,c,u,d,e[t+5],4,-378558),d=s(d,i,c,u,e[t+8],11,-2022574463),u=s(u,d,i,c,e[t+11],16,1839030562),c=s(c,u,d,i,e[t+14],23,-35309556),i=s(i,c,u,d,e[t+1],4,-1530992060),d=s(d,i,c,u,e[t+4],11,1272893353),u=s(u,d,i,c,e[t+7],16,-155497632),c=s(c,u,d,i,e[t+10],23,-1094730640),i=s(i,c,u,d,e[t+13],4,681279174),d=s(d,i,c,u,e[t],11,-358537222),u=s(u,d,i,c,e[t+3],16,-722521979),c=s(c,u,d,i,e[t+6],23,76029189),i=s(i,c,u,d,e[t+9],4,-640364487),d=s(d,i,c,u,e[t+12],11,-421815835),u=s(u,d,i,c,e[t+15],16,530742520),c=s(c,u,d,i,e[t+2],23,-995338651),i=l(i,c,u,d,e[t],6,-198630844),d=l(d,i,c,u,e[t+7],10,1126891415),u=l(u,d,i,c,e[t+14],15,-1416354905),c=l(c,u,d,i,e[t+5],21,-57434055),i=l(i,c,u,d,e[t+12],6,1700485571),d=l(d,i,c,u,e[t+3],10,-1894986606),u=l(u,d,i,c,e[t+10],15,-1051523),c=l(c,u,d,i,e[t+1],21,-2054922799),i=l(i,c,u,d,e[t+8],6,1873313359),d=l(d,i,c,u,e[t+15],10,-30611744),u=l(u,d,i,c,e[t+6],15,-1560198380),c=l(c,u,d,i,e[t+13],21,1309151649),i=l(i,c,u,d,e[t+4],6,-145523070),d=l(d,i,c,u,e[t+11],10,-1120210379),u=l(u,d,i,c,e[t+2],15,718787259),c=l(c,u,d,i,e[t+9],21,-343485551),i=n(i,r),c=n(c,f),u=n(u,p),d=n(d,h)}return[i,c,u,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};t.default=c},2420:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return"string"==typeof e}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):this.ioc.intSerializer.serialize(0,!1);const r=[];t&&r.push(n.from([this.ID,0]));const i=n.from(String(e),"utf8");return r.push(this.ioc.intSerializer.serialize(i.length,!1)),r.push(i),n.concat(r)}deserialize(e,t=!0,r=!1){let i=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(i++,e!==this.ID)throw new Error("unexpected {type_code}");o=o.slice(1)}if(t||r){if(o.length<1)throw new Error("{value_flag} is missing");const e=o.readUInt8();if(i++,1===e)return{v:null,len:i};if(0!==e)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s;try{({v:a,len:s}=this.ioc.intSerializer.deserialize(o,!1)),i+=s}catch(e){throw e.message="{length}: "+e.message,e}if(a<0)throw new Error("{length} is less than zero");if(o=o.slice(s),o.length<a)throw new Error("unexpected {text_value} length");i+=a;return{v:o.toString("utf8",0,a),len:i}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},2468:e=>{"use strict";e.exports=class{constructor(e){this._options=e}evaluateChallenge(e){throw new Error("evaluateChallenge should be implemented")}}},2537:()=>{},2588:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.EDGE]=this}canBeUsedFor(e){return e instanceof i.Edge}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.EDGE,1]);const e=[3,0,0,0,0,0],r=[0,0,0,0],i=[3,0,0,0,0,0],o=[0,0,0,0],a=[3,0,0,0,0,0],s=[0,0,0,0],l=[254,1],c=[254,1];return n.from([...e,...r,...i,...o,...a,...s,...l,...c])}const r=[];t&&r.push(n.from([this.ioc.DataType.EDGE,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1));const i=e.inV&&e.inV.id;r.push(this.ioc.anySerializer.serialize(i));const o=e.inV&&e.inV.label;r.push(this.ioc.stringSerializer.serialize(o,!1));const a=e.outV&&e.outV.id;r.push(this.ioc.anySerializer.serialize(a));const s=e.outV&&e.outV.label;return r.push(this.ioc.stringSerializer.serialize(s,!1)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.EDGE)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,l,c,u,d,f,p,h,y,m,g,b,v,w;try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:l,len:c}=this.ioc.stringSerializer.deserialize(o,!1)),r+=c}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(c);try{({v:u,len:d}=this.ioc.anySerializer.deserialize(o)),r+=d}catch(e){throw e.message="{inVId}: "+e.message,e}o=o.slice(d);try{({v:f,len:p}=this.ioc.stringSerializer.deserialize(o,!1)),r+=p}catch(e){throw e.message="{inVLabel}: "+e.message,e}o=o.slice(p);try{({v:h,len:y}=this.ioc.anySerializer.deserialize(o)),r+=y}catch(e){throw e.message="{outVId}: "+e.message,e}o=o.slice(y);try{({v:m,len:g}=this.ioc.stringSerializer.deserialize(o,!1)),r+=g}catch(e){throw e.message="{outVLabel}: "+e.message,e}o=o.slice(g);try{({len:b}=this.ioc.anySerializer.deserialize(o)),r+=b}catch(e){throw e.message="{parent}: "+e.message,e}o=o.slice(b);try{({v,len:w}=this.ioc.anySerializer.deserialize(o)),r+=w}catch(e){throw e.message="{properties}: "+e.message,e}o=o.slice(w);return{v:new i.Edge(a,new i.Vertex(h,m,null),l,new i.Vertex(u,f,null),v),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},2617:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}var c=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.locale=t,this.config=this.getLocaleConfig(t),this.initializeFormatters()},t=[{key:"initializeFormatters",value:function(){var e={hour12:this.config.timeFormat.hour12};this.dateFormatters={short:new Intl.DateTimeFormat(this.locale,o({dateStyle:"short",timeStyle:"short"},e)),medium:new Intl.DateTimeFormat(this.locale,o({dateStyle:"medium",timeStyle:"medium"},e)),long:new Intl.DateTimeFormat(this.locale,o({dateStyle:"full",timeStyle:"long"},e)),time:new Intl.DateTimeFormat(this.locale,o({timeStyle:"short"},e))},this.numberFormatter=new Intl.NumberFormat(this.locale,{minimumFractionDigits:0,maximumFractionDigits:20}),this.currencyFormatter=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.config.numberFormat.currency})}},{key:"getLocaleConfig",value:function(e){return window.localeConfigs[e]||window.localeConfigs["en-US"]}},{key:"formatDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium",r=this.config.dateFormat;return null!=r&&r[t]?new Intl.DateTimeFormat(this.locale,{dateStyle:t}).format(e):e.toLocaleDateString(this.locale)}},{key:"formatNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return null!==t?new Intl.NumberFormat(this.locale,{minimumFractionDigits:t,maximumFractionDigits:t}).format(e):this.numberFormatter.format(e)}catch(t){return e.toString()}}},{key:"formatCurrency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return t?new Intl.NumberFormat(this.locale,{style:"currency",currency:t}).format(e):this.currencyFormatter.format(e)}catch(t){return e.toString()}}},{key:"formatRelativeTime",value:function(e){try{for(var t=new Intl.RelativeTimeFormat(this.locale,{numeric:"auto"}),n=(new Date(e).getTime()-Date.now())/1e3,i=0,o=Object.entries({year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1});i<o.length;i++){var a=r(o[i],2),s=a[0],l=a[1];if(Math.abs(n)>=l||"second"===s)return t.format(Math.round(n/l),s)}}catch(t){return new Date(e).toLocaleString(this.locale)}}},{key:"formatTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";try{var r,n={hour:"numeric",minute:"numeric",second:"short"!==t?"numeric":void 0,hour12:null===(r=this.config.timeFormat)||void 0===r?void 0:r.hour12};return new Intl.DateTimeFormat(this.locale,n).format(e)}catch(t){return e.toLocaleTimeString(this.locale)}}},{key:"uses12HourTime",value:function(){var e,t;return"12h"===(null===(e=this.config.timeFormat)||void 0===e?void 0:e.system)||!0===(null===(t=this.config.timeFormat)||void 0===t?void 0:t.hour12)}},{key:"usesMixedTimeFormat",value:function(){var e;return"mixed"===(null===(e=this.config.timeFormat)||void 0===e?void 0:e.system)}},{key:"formatDateTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";try{var r,n=e instanceof Date?e:new Date(e),i=(null===(r=this.config.dateTimeFormat)||void 0===r?void 0:r[t])||{},o=new Intl.DateTimeFormat(this.locale,{dateStyle:t}),a=new Intl.DateTimeFormat(this.locale,{hour:"12h"===this.config.timeFormat.system?"numeric":"2-digit",minute:"2-digit",second:"short"!==t?"2-digit":void 0,hour12:this.config.timeFormat.hour12});return(i.pattern||"{date} {time}").replace("{date}",o.format(n)).replace("{time}",a.format(n))}catch(t){return new Date(e).toLocaleString(this.locale)}}},{key:"getMeridiemMarker",value:function(e){var t=this.config.timeFormat;return null!=t&&t.meridiem?e<12?t.meridiem.ante:t.meridiem.post:null}},{key:"isRTL",value:function(){return"rtl"===this.config.direction}},{key:"getCulturalPreferences",value:function(){var e,t,r,n;return{direction:this.config.direction,timeFormat:this.config.timeFormat,dateFormat:this.config.dateFormat,dateTimeFormat:this.config.dateTimeFormat,numberFormat:this.config.numberFormat,calendar:{firstDayOfWeek:null!==(e=null===(t=this.config.calendar)||void 0===t?void 0:t.firstDayOfWeek)&&void 0!==e?e:0,weekendDays:null!==(r=null===(n=this.config.calendar)||void 0===n?void 0:n.weekendDays)&&void 0!==r?r:[0,6]},measurement:this.config.measurement||"metric"}}}],t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();e.exports&&(e.exports=c),window.CulturalConfig=c},2831:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var n=f(r(3518)),i=f(r(4948)),o=f(r(5073)),a=f(r(7186)),s=f(r(4808)),l=f(r(7775)),c=f(r(7037)),u=f(r(9910)),d=f(r(6792));function f(e){return e&&e.__esModule?e:{default:e}}},2858:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},2861:(e,t,r)=>{var n=r(8287),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},3095:(e,t,r)=>{"use strict";const{ArrayPrototypePop:n,Promise:i}=r(4134),{isIterable:o,isNodeStream:a,isWebStream:s}=r(6115),{pipelineImpl:l}=r(7758),{finished:c}=r(6238);r(5506),e.exports={finished:c,pipeline:function(...e){return new i((t,r)=>{let i,c;const u=e[e.length-1];if(u&&"object"==typeof u&&!a(u)&&!o(u)&&!s(u)){const t=n(e);i=t.signal,c=t.end}l(e,(e,n)=>{e?r(e):t(n)},{signal:i,end:c})})}}},3141:(e,t,r)=>{"use strict";var n=r(2861).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},3203:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e}readResponse(e){if(null==e)throw new Error("Buffer is missing.");if(!(e instanceof n))throw new Error("Not an instance of Buffer.");if(e.length<1)throw new Error("Buffer is empty.");const t={status:{},result:{}};let r,i=e;const o=i[0];if(129!==o)throw new Error(`Unsupported version '${o}'.`);return i=i.slice(1),({v:t.requestId,len:r}=this.ioc.uuidSerializer.deserialize(i,!1,!0)),i=i.slice(r),({v:t.status.code,len:r}=this.ioc.intSerializer.deserialize(i,!1)),i=i.slice(r),({v:t.status.message,len:r}=this.ioc.stringSerializer.deserialize(i,!1,!0)),i=i.slice(r),({v:t.status.attributes,len:r}=this.ioc.mapSerializer.deserialize(i,!1)),i=i.slice(r),({v:t.result.meta,len:r}=this.ioc.mapSerializer.deserialize(i,!1)),i=i.slice(r),({v:t.result.data}=this.ioc.anySerializer.deserialize(i)),t}}},3321:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BOOLEAN]=this}canBeUsedFor(e){return"boolean"==typeof e}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BOOLEAN,1]):n.from([0]);const r=[];return t&&r.push(n.from([this.ioc.DataType.BOOLEAN,0])),r.push(n.from([e?1:0])),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BOOLEAN)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<1)throw new Error("unexpected {value} length");r+=1;let o=i.readUInt8();if(0!==o&&1!==o)throw new Error(`unexpected boolean byte=${o}`);return o=1===o,{v:o,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},3335:(e,t,r)=>{"use strict";const n=r(1545).Traversal;class i{constructor(e,t={}){this.fqcn=e,this.configuration=t}apply(e){}}e.exports={TraversalStrategies:class{constructor(e){this.strategies=e?[...e.strategies]:[]}addStrategy(e){this.strategies.push(e)}removeStrategy(e){const t=this.strategies.findIndex(t=>t.fqcn===e.fqcn);if(-1!==t)return this.strategies.splice(t,1)[0]}applyStrategies(e){return this.strategies.reduce((t,r)=>t.then(()=>r.apply(e)),Promise.resolve())}},TraversalStrategy:i,ConnectiveStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.ConnectiveStrategy")}},ElementIdStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.ElementIdStrategy")}},HaltedTraverserStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.HaltedTraverserStrategy"),void 0!==e&&(this.configuration.haltedTraverserFactory=e)}},OptionsStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.OptionsStrategy",e)}},PartitionStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.PartitionStrategy",e)}},SeedStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.SeedStrategy",{seed:e.seed})}},SubgraphStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.SubgraphStrategy",e),this.configuration.vertices instanceof n&&(this.configuration.vertices=this.configuration.vertices.bytecode),this.configuration.edges instanceof n&&(this.configuration.edges=this.configuration.edges.bytecode),this.configuration.vertexProperties instanceof n&&(this.configuration.vertexProperties=this.configuration.vertexProperties.bytecode)}},VertexProgramStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.computer.traversal.strategy.decoration.VertexProgramStrategy",e)}},MatchAlgorithmStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.finalization.MatchAlgorithmStrategy"),void 0!==e&&(this.configuration.matchAlgorithm=e)}},AdjacentToIncidentStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.AdjacentToIncidentStrategy")}},FilterRankingStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.FilterRankingStrategy")}},IdentityRemovalStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.IdentityRemovalStrategy")}},IncidentToAdjacentStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.IncidentToAdjacentStrategy")}},InlineFilterStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.InlineFilterStrategy")}},LazyBarrierStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.LazyBarrierStrategy")}},MatchPredicateStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.MatchPredicateStrategy")}},OrderLimitStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.OrderLimitStrategy")}},PathProcessorStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.PathProcessorStrategy")}},PathRetractionStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.PathRetractionStrategy")}},ProductiveByStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.ProductiveByStrategy",e)}},CountStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.CountStrategy")}},RepeatUnrollStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.RepeatUnrollStrategy")}},GraphFilterStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.GraphFilterStrategy")}},EarlyLimitStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.EarlyLimitStrategy")}},EdgeLabelVerificationStrategy:class extends i{constructor(e=!1,t=!1){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.EdgeLabelVerificationStrategy",{logWarnings:e,throwException:t})}},LambdaRestrictionStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.LambdaRestrictionStrategy")}},ReadOnlyStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.ReadOnlyStrategy")}},ReservedKeysVerificationStrategy:class extends i{constructor(e=!1,t=!1,r=["id","label"]){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.ReservedKeysVerificationStrategy",{logWarnings:e,throwException:t,keys:r})}}}},3370:(e,t,r)=>{"use strict";const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:o,ObjectSetPrototypeOf:a}=r(4134);e.exports=c;const s=r(7576),l=r(8584);a(c.prototype,s.prototype),a(c,s);{const e=o(l.prototype);for(let t=0;t<e.length;t++){const r=e[t];c.prototype[r]||(c.prototype[r]=l.prototype[r])}}function c(e){if(!(this instanceof c))return new c(e);s.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let u,d;function f(){return void 0===u&&(u={}),u}n(c.prototype,{writable:{__proto__:null,...i(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(l.prototype,"writableLength")},writableFinished:{__proto__:null,...i(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),c.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},c.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},c.from=function(e){return d||(d=r(6706)),d(e,"body")}},3469:(e,t,r)=>{"use strict";const n=r(1545),i=r(5332),o=r(3335),a=r(163),s=r(9449),l=r(5737),c=r(9032),u=r(2029),d=r(1104),f=r(7240),p=r(7286),h=r(7545),y=r(74),m=r(2468),g=r(1893),b=r(6665);e.exports={driver:{RemoteConnection:l.RemoteConnection,RemoteStrategy:l.RemoteStrategy,RemoteTraversal:l.RemoteTraversal,ResponseError:p,DriverRemoteConnection:f,Client:h,ResultSet:y,auth:{Authenticator:m,PlainTextSaslAuthenticator:g}},process:{Bytecode:c,EnumValue:n.EnumValue,P:n.P,TextP:n.TextP,Traversal:n.Traversal,TraversalSideEffects:n.TraversalSideEffects,TraversalStrategies:o.TraversalStrategies,TraversalStrategy:o.TraversalStrategy,Traverser:n.Traverser,barrier:n.barrier,cardinality:n.cardinality,column:n.column,direction:n.direction,dt:n.dt,merge:n.merge,operator:n.operator,order:n.order,pick:n.pick,pop:n.pop,scope:n.scope,t:n.t,GraphTraversal:i.GraphTraversal,GraphTraversalSource:i.GraphTraversalSource,statics:i.statics,Translator:u,traversal:b.traversal,AnonymousTraversalSource:b,withOptions:n.withOptions},structure:{io:s,Edge:a.Edge,Graph:a.Graph,Path:a.Path,Property:a.Property,Vertex:a.Vertex,VertexProperty:a.VertexProperty,toLong:d.toLong}}},3518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(2858))&&n.__esModule?n:{default:n},o=r(9910);let a,s,l=0,c=0;var u=function(e,t,r){let n=t&&r||0;const u=t||new Array(16);let d=(e=e||{}).node||a,f=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==f){const t=e.random||(e.rng||i.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=s=16383&(t[6]<<8|t[7]))}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:c+1;const y=p-l+(h-c)/1e4;if(y<0&&void 0===e.clockseq&&(f=f+1&16383),(y<0||p>l)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,c=h,s=f,p+=122192928e5;const m=(1e4*(268435455&p)+h)%4294967296;u[n++]=m>>>24&255,u[n++]=m>>>16&255,u[n++]=m>>>8&255,u[n++]=255&m;const g=p/4294967296*1e4&268435455;u[n++]=g>>>8&255,u[n++]=255&g,u[n++]=g>>>24&15|16,u[n++]=g>>>16&255,u[n++]=f>>>8|128,u[n++]=255&f;for(let e=0;e<6;++e)u[n+e]=d[e];return t||(0,o.unsafeStringify)(u)};t.default=u},3676:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,r,n){return(r=function(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var n={"en-US":{name:"English (US)",nativeName:"English (US)",flag:"",direction:"ltr",numberFormat:{decimal:".",group:",",currency:"USD",currencyDisplay:"$"},timeFormat:{system:"12h",hour12:!0,short:"h:mm A",medium:"h:mm:ss A",long:"h:mm:ss A z",meridiem:{ante:"AM",post:"PM"}},dateFormat:{short:"MM/DD/YY",medium:"MMM D, YYYY",long:"MMMM D, YYYY"},dateTimeFormat:{short:{pattern:"{date} {time}"},medium:{pattern:"{date} {time}"},long:{pattern:"{date} {time}"}},calendar:{firstDayOfWeek:0,weekendDays:[0,6],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},measurement:"imperial",translations:r(r(r({loading:{text:"Loading..."},saveProfile:{text:"Save Profile"},newProfile:{text:"New Profile"},cloneProfile:{text:"Clone Profile"},importProfile:{text:"Import Profile"},bulkImport:"Bulk Import",reviewImport:"Review Import",exportProfile:{text:"Export Profile"},exportSelectedProfiles:{text:"Export Selected Profiles"},markAll:{text:"Mark all"},cancel:{text:"Cancel"},remove:{text:"Remove"},close:{text:"Close"},add:{text:"Add"},addNew:{text:"Add New"},generate:{text:"Generate"},loadProfile:{text:"Load profile {name}"},profiles:{text:"Profiles"},access:{text:"Access"},searchProfiles:{text:"Search profiles"},clearSearch:{text:"Clear search"},promptOptions:{text:"Profile options"},viewHistory:{text:"View History"},auditHistory:{text:"Audit History"},active:{text:"Active"},inactive:{text:"Inactive"},deactivated:{text:"Deactivated"},status:{text:"Status"},by:{text:"by"},confirm:{text:"Confirm"},confirmDiscardChanges:{text:"You have unsaved changes. Are you sure you want to discard them?"},discardChanges:{text:"Discard Changes"},profileLoadSuccess:{text:"Profile loaded successfully: {id}"},profileCreateSuccess:{text:"Profile created successfully with ID: {id}"},profileUpdateSuccess:{text:"Profile updated successfully with ID: {id}"},profileCloneSuccess:{text:"Profile cloned. Make necessary changes and save."},profileExportSuccess:{text:"Profile exported successfully"},profileImportSuccess:{text:"Profile imported successfully. Review and save."},profileIdAutoCorrected:{text:"Source profile ID was auto-corrected from {originalId} to {correctedId}"},profileImportReview:{text:'Profile "{profileName}" loaded into form for review. Click Save to complete import.'},bulkImportAllSuccess:{text:"Successfully imported all {count} profiles"},bulkImportPartialSuccess:{text:"Imported {successCount} profiles successfully, {errorCount} failed"},profileRenamedWithNewId:{text:'Profile renamed to "{newName}" and assigned new ID: {newProfileId}'},bulkProfileExportSuccess:{text:"Successfully exported {count} profiles"},profileIdAvailable:{text:"Profile ID {id} is available"},newProfileIdGenerated:{text:"A new profile ID has been generated to avoid conflicts."},existingProfilesDetected:{text:"The following profiles already exist in the database. Please choose how to handle each one:"},setAllOverwrite:{text:"Set All to Overwrite"},setAllKeep:{text:"Set All to Keep Current"},overwriteWithImported:{text:"Overwrite with imported version"},keepCurrent:{text:"Keep current version"},importWithNewIdName:{text:"Import with new ID and name"},importWithNewId:{text:"Import with new ID"},importWithNewName:{text:"Import with new name"},importForReview:{text:"Import for review"},confirmImport:{text:"Proceed with Import"},importCancelledKeepingCurrent:{text:"Import cancelled, keeping current version"},importCancelled:{text:"Import cancelled"},overwriteWarning:{text:"Warning: Overwriting existing profiles is irreversible."},conflict:{text:"Conflict"},idAlreadyExists:{text:"ID already exists"},nameAlreadyExists:{text:"Name already exists"},action:{text:"Action"},newProfileCreated:{text:"New profile created. Please fill in details and click Save."},versionActivateSuccess:{text:"Version activated successfully"},versionActivatedAt:{text:"Version activated successfully at {timestamp}"},latestVersionActivated:{text:"Latest profile version ({id}) activated successfully at {timestamp}"},versionsDeactivated:{text:"{count} profile versions deactivated successfully at {timestamp}"},versionLoaded:{text:"Version {version} loaded"},createNewProfile:{text:"Import with new ID and name"},importAsNew:{text:"Import as New"},setAllCreateNew:{text:"Set All to Create New"},profileCreatedWithNewId:{text:'Profile "{name}" created with new ID: {id}'},profileRenamedAndReassigned:{text:'Profile renamed to "{newName}" and assigned new ID: {newId}'},profileImportedAsNew:{text:'Profile imported as new: "{name}" (ID: {id})'},bulkImportCompleted:{text:"{count} profiles imported successfully"},importOf:{text:"Import of"},importCounter:{text:"Import {counter} of"},newProfileMode:{text:"New Profile Mode"},editMode:{text:"Edit Mode"},importMode:{text:"Import Mode"},cloneMode:{text:"Clone Mode"},noInstancesFound:{text:"No instances found"},numberOfInstances:{text:"Number of instances: {instances}"},modeWithInstances:{text:"{mode}. Number of instances: {instances}"},modeWithoutInstances:{text:"{mode}. No instances found"},profileId:{text:"Profile ID"},name:{text:"Name"},area:{text:"Area"},function:{text:"Function"},version:{text:"Version"},description:{text:"Description"},category:{text:"Category"},tags:{text:"Tags"},author:{text:"Author"},internalName:{text:"Internal Name"},type:{text:"Type"},accessLevel:{text:"Access Level"},systemPrompt:{text:"System Prompt"},observationPrompt:{text:"Observation Prompt"},reflectionPrompt:{text:"Reflection Prompt"},requiredFields:{text:"Required Fields"},modelOptions:{text:"AI Model Configuration"},modelProvider:{text:"AI Provider"},modelName:{text:"Model Name"},modelType:{text:"Model Architecture"},modelVersion:{text:"Model Version"},maxTokens:{text:"Maximum Token Limit"},memoryParameters:{text:"Memory Settings"},observationImportantThreshold:{text:"Observation Importance Threshold"},reflectionImportantThreshold:{text:"Reflection Importance Threshold"},memoryDecayFactor:{text:"Memory Decay Rate"},maxRecentMemories:{text:"Max Recent Memories"},memoryCacheCleanupMinutes:{text:"Memory Cache Cleanup (Minutes)"},memoryCacheMaxAgeMinutes:{text:"Memory Cache Max Age (Minutes)"},decisionParameters:{text:"Decision Parameters"},allowedPlanningMethod:{text:"Reasoning Framework"},riskTolerance:{text:"Risk Assessment Level"},innovationFactor:{text:"Creativity Factor"},collaborationPreference:{text:"Multi-Agent Collaboration"},planningCycleInterval:{text:"Planning Cycle Interval (Minutes)"},skills:{text:"Skills"},experience:{text:"Experience"},organizationalRules:{text:"Organizational Rules"},deonticRules:{text:"Deontic Rules"},interactionPreferences:{text:"Interaction Preferences"},preferredCommunicationStyle:{text:"Communication Style"},informationSharingWillingness:{text:"Information Sharing Level"},queryResponseDetailLevel:{text:"Response Detail Level"},ragOptions:{text:"RAG Configuration"},ragCollectionName:{text:"Knowledge Base Name"},ragTopK:{text:"Top K Retrieved Documents"},ragVectorSize:{text:"Embedding Vector Dimension"},useGeneralRag:{text:"Use Base Knowledge"},true:{text:"True"},false:{text:"False"},performanceMetrics:{text:"Performance Metrics"},addPerformanceMetric:{text:"Add Performance Metric"},tools:{text:"Tools"},showAllTools:{text:"Show All"},selectedTools:{text:"Selected Tools Only"},unselectedTools:{text:"Unselected Tools Only"},actions:{text:"Actions"},showAllActions:{text:"Show All"},selectedActions:{text:"Selected Actions Only"},unselectedActions:{text:"Unselected Actions Only"},created:{text:"Created"},lastModified:{text:"Last Modified"},format:{text:"Format"},formatValue:{text:"AREA-FUNCTION-PROFILE-VERSION"},viewNamingConvention:{text:"View Naming Conventions"},createNewInstructions:{text:"Please fill in Area and Function fields to generate Profile ID"},dropdownPlaceholder:{text:"Select an option"},modelProviderPlaceholder:{text:"Select provider"},addNewTag:{text:"Add new tag"}},"auditHistory",{text:"Audit History"}),"noAuditHistory",{text:"No audit history available."}),"unknown",{text:"Unknown"}),errors:{system:{unexpectedError:{text:"An unexpected error occurred",severity:"error"},missingObservationFields:{text:"Missing observation fields: {fields}",severity:"error"},extraObservationFields:{text:"Extra observation fields detected: {fields}",severity:"error"},missingReflectionFields:{text:"Missing reflection fields: {fields}",severity:"error"},extraReflectionFields:{text:"Extra reflection fields detected: {fields}",severity:"error"}},network:{neo4jError:{text:"Database error occurred. Please try again.",severity:"error"},batchLoadError:{text:"Error loading profiles. Please try again.",severity:"error"}},application:{profileLoadError:{text:"Error loading profile. Please try again.",severity:"error"},profileSaveError:{text:"Error saving profile. Please try again.",severity:"error"},profileNotFound:{text:"Profile not found.",severity:"error"},profileCloneError:{text:"Error cloning profile. Please try again.",severity:"error"},profileExportError:{text:"Error exporting profile. Please try again.",severity:"error"},profileImportError:{text:"Error importing profile. Please try again.",severity:"error"},profileIdExists:{text:"Profile ID {id} already exists. Please generate a new one.",severity:"error"},jsonParseError:{text:"Error parsing JSON file. Please check the format.",severity:"error"},auditHistoryError:{text:"Error loading audit history. Please try again.",severity:"error"},noChangesToSave:{text:"No changes to save.",severity:"warning"},importLimitExceeded:{text:"Cannot import more than 999 profiles in a single operation. Found {count} profiles. Please split into smaller batches.",severity:"error"},instanceCountError:{text:"Error counting instances",severity:"error"},bulkImportAllFailed:{text:"Failed to import all {count} profiles",severity:"error"},importWithNewIdName:{text:"Import with new ID and name",severity:"info"},setAllImportNew:{text:"Set All to Import New",severity:"info"},importCounter:{text:"Import {counter} of",severity:"info"},importCancelled:{text:"Import cancelled by user",severity:"info"},importCancelledKeepingCurrent:{text:"Import cancelled - keeping current versions",severity:"info"},keepCurrent:{text:"Keep current version",severity:"info"},overwriteWithImported:{text:"Overwrite with imported version",severity:"warning"},idAlreadyExists:{text:"ID already exists",severity:"warning"},nameAlreadyExists:{text:"Name already exists",severity:"warning"},setAllOverwrite:{text:"Set All to Overwrite",severity:"info"},setAllKeep:{text:"Set All to Keep Current",severity:"info"},setAllCreateNew:{text:"Set All to Create New",severity:"info"},existingProfilesDetected:{text:"Existing Profiles Detected",severity:"info"},confirmImport:{text:"Proceed with Import",severity:"info"},overwriteWarning:{text:"Warning: Overwriting existing profiles is irreversible.",severity:"warning"},profileLoadedForReview:{text:'Profile "{name}" loaded into form for review. Click Save to complete import.',severity:"info"},reviewAndSave:{text:"Review the profile data and click Save to complete the import.",severity:"info"}},validation:{profileIdRequired:{text:"Profile ID is required",severity:"error"},profileIdFormat:{text:"Profile ID format is invalid. Generate a new Profile ID.",severity:"error"},nameRequired:{text:"Name is required",severity:"error"},modelProviderRequired:{text:"Model Provider is required",severity:"error"},modelNameRequired:{text:"Model Name is required",severity:"error"},maxTokensRequired:{text:"Max tokens is required",severity:"error"},experienceRequired:{text:"Experience is required",severity:"error"},systemPromptRequired:{text:"System prompt is required",severity:"error"},categoryRequired:{text:"Category is required",severity:"error"},areaFunctionRequired:{text:"Please fill in Area and Function fields",severity:"error"},observationThresholdRequired:{text:"Observation importance threshold is required",severity:"error"},reflectionThresholdRequired:{text:"Reflection importance threshold is required",severity:"error"},memoryDecayRequired:{text:"Memory decay factor is required",severity:"error"},maxMemoriesRequired:{text:"Max recent memories is required",severity:"error"},ragCollectionRequired:{text:"RAG collection name is required when using RAG",severity:"error"},ragTopKRequired:{text:"RAG top K value is required when using RAG",severity:"error"},ragVectorSizeRequired:{text:"RAG vector size is required when using RAG",severity:"error"},duplicateProfileIdAcrossFiles:{text:'Duplicate profile ID "{profileId}" found across files. First occurrence in "{firstFile}", duplicate in "{currentFile}".',severity:"error"},profileIdConflict:{text:"Profile ID conflict detected",severity:"error"},nameConflict:{text:"Profile name conflict detected",severity:"warning"}},selection:{selectPromptToClone:{text:"Please select a profile to clone",severity:"warning"},selectPromptToExport:{text:"Please select a profile to export",severity:"warning"},selectVersionToActivate:{text:"Please select a version to activate",severity:"warning"},selectProfileToClone:{text:"Please select a profile to clone",severity:"warning"},selectProfileToExport:{text:"Please select a profile to export",severity:"warning"}}}}};e.exports&&(e.exports=n),window.localeConfigs=n},3920:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.PROPERTY]=this}canBeUsedFor(e){return e instanceof i.Property}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.PROPERTY,1]):n.concat([this.ioc.stringSerializer.serialize("",!1),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null)]);const r=[];return t&&r.push(n.from([this.ioc.DataType.PROPERTY,0])),r.push(this.ioc.stringSerializer.serialize(e.key,!1)),r.push(this.ioc.anySerializer.serialize(e.value)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.PROPERTY)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,l,c,u;try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{key}: "+e.message,e}o=o.slice(s);try{({v:l,len:c}=this.ioc.anySerializer.deserialize(o)),r+=c}catch(e){throw e.message="{value}: "+e.message,e}o=o.slice(c);try{({len:u}=this.ioc.unspecifiedNullSerializer.deserialize(o)),r+=u}catch(e){throw e.message="{parent}: "+e.message,e}o=o.slice(u);return{v:new i.Property(a,l),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},3933:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.P]=this}canBeUsedFor(e){return e instanceof i.P}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.P,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}const r=[];let i;return t&&r.push(n.from([this.ioc.DataType.P,0])),r.push(this.ioc.stringSerializer.serialize(e.operator,!1)),i=void 0===e.other||null===e.other?Array.isArray(e.value)?e.value:[e.value]:[e.value,e.other],r.push(this.ioc.listSerializer.serialize(i,!1)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.P)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,l,c,u;try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{name}: "+e.message,e}o=o.slice(s);try{({v:l,len:c}=this.ioc.listSerializer.deserialize(o,!1)),r+=c}catch(e){throw e.message="{values}: "+e.message,e}if(o=o.slice(c),l.length<1)return{v:new i.P(""),len:r};const d=i.P[a];return u="function"==typeof d?d(...l):new i.P(a,...l),{v:u,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},4074:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(228),o=r(9198),a=r(1104),{DeferredPromise:s}=a,l=r(9449),{graphBinaryReader:c,graphBinaryWriter:u}=r(1421),d=r(74),f=r(7286),p=204,h=206,y=407,m="application/vnd.gremlin-v2.0+json",g="application/vnd.graphbinary-v1.0",b="[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}";e.exports=class extends i{constructor(e,t){super(),this.url=e,this.options=t=t||{},this.mimeType=t.mimeType||"application/vnd.gremlin-v3.0+json",this._responseHandlers={},this._reader=t.reader||this.#e(this.mimeType),this._writer=t.writer||this.#t(this.mimeType),this._openPromise=null,this._openCallback=null,this._closePromise=null,this._closeCallback=null,this._header=String.fromCharCode(this.mimeType.length)+this.mimeType,this._header_buf=n.from(this._header),this.isOpen=!1,this.traversalSource=t.traversalSource||"g",this._authenticator=t.authenticator,this._enableUserAgentOnConnect=!1!==t.enableUserAgentOnConnect,this._enableCompression=this.options.enableCompression||!1}async open(){if(this.isOpen)return;if(this._openPromise)return this._openPromise;this._openPromise=s(),this.emit("log","ws open");let e=this.options.headers;if(this._enableUserAgentOnConnect){e||(e=[]);void 0!==await a.getUserAgent()&&(e[a.getUserAgentHeader()]=await a.getUserAgent())}const t=new Set(["headers","ca","cert","pfx","rejectUnauthorized","agent","perMessageDeflate"]),n=!Object.entries(this.options).some(([e,r])=>t.has(e)&&![null,void 0].includes(r))&&globalThis.WebSocket,i=n||(await r.e(591).then(r.t.bind(r,1591,23))).default;return this._ws=new i(this.url,n?void 0:{headers:e,ca:this.options.ca,cert:this.options.cert,pfx:this.options.pfx,rejectUnauthorized:this.options.rejectUnauthorized,agent:this.options.agent,perMessageDeflate:this._enableCompression}),"binaryType"in this._ws&&(this._ws.binaryType="arraybuffer"),this._ws.addEventListener("open",this.#r),this._ws.addEventListener("error",this.#n),this._ws.on("unexpected-response",this.#i),this._ws.addEventListener("message",this.#o),this._ws.addEventListener("close",this.#a),await this._openPromise}submit(e,t,r,i){const o=(i||a.getUuid()).toLowerCase();if(!o.match(b))throw new Error('Provided requestId "'+o+'" is not a valid UUID.');return this.open().then(()=>new Promise((i,s)=>{"authentication"!==t&&(this._responseHandlers[o]={callback:(e,t)=>e?s(e):i(t),result:null});const l={requestId:o,op:t||"bytecode",processor:e||"eval"===t?e:"traversal",args:r||{}},c=this._writer.writeRequest(l),u=a.toArrayBuffer(n.concat([this._header_buf,c]));this._ws.send(u)}))}stream(e,t,r,i){const s=(i||a.getUuid()).toLowerCase();if(!s.match(b))throw new Error('Provided requestId "'+s+'" is not a valid UUID.');const l=new o.Readable({objectMode:!0,read(){}});return this._responseHandlers[s]={callback:e=>e?l.destroy(e):l.push(null),result:l},this.open().then(()=>{const i={requestId:s,op:t||"bytecode",processor:e||"eval"===t?e:"traversal",args:r||{}},o=this._writer.writeRequest(i),l=a.toArrayBuffer(n.concat([this._header_buf,o]));this._ws.send(l)}).catch(e=>l.destroy(e)),l}#e(e){return e===g?c:e===m?new l.GraphSON2Reader:new l.GraphSONReader}#t(e){return e===g?u:e===m?new l.GraphSON2Writer:new l.GraphSONWriter}#r=()=>{this._openPromise.resolve(),this.isOpen=!0};#i=async(e,t)=>{const r=await new Promise((e,r)=>{const i=[];t.on("data",e=>{i.push(e instanceof n?e:n.from(e))}),t.on("end",()=>{e(i.length?n.concat(i):null)}),t.on("error",r)}),i=`Unexpected server response code ${t.statusCode}`,o=r?`${i} with body:\n${r.toString()}`:i,a=new Error(o);this.#n({error:a,message:o,type:"unexpected-response",target:this._ws})};#n=({error:e})=>{this._openPromise.reject(e),this.emit("log",`ws error ${e}`),this.#s(e),this.emit("socketError",e)};#a=({code:e,message:t})=>{this.emit("log",`ws close code=${e} message=${t}`),this.#s(),this._closeCallback&&this._closeCallback(),this.emit("close",e,t)};#o=({data:e})=>{const t=e instanceof ArrayBuffer?n.from(e):e,r=this._reader.readResponse(t);if(null===r.requestId||void 0===r.requestId)return void Object.keys(this._responseHandlers).forEach(e=>{const t=this._responseHandlers[e];return this.#l(e),void 0!==r.status&&r.status.message?t.callback(new f(`Server error (no request information): ${r.status.message} (${r.status.code})`,r.status)):t.callback(new f(`Server error (no request information): ${JSON.stringify(r)}`,r.status))});r.requestId=r.requestId.toLowerCase();const i=this._responseHandlers[r.requestId];if(!i)return;if(r.status.code===y&&this._authenticator)return void this._authenticator.evaluateChallenge(r.result.data).then(e=>this.submit(void 0,"authentication",e,r.requestId)).catch(i.callback);if(r.status.code>=400)return this.#l(r.requestId),i.callback(new f(`Server error: ${r.status.message} (${r.status.code})`,r.status));const s=i.result instanceof o.Readable;switch(r.status.code){case p:return this.#l(r.requestId),s?(i.result.push(new d(a.emptyArray,r.status.attributes)),i.callback(null)):i.callback(null,new d(a.emptyArray,r.status.attributes));case h:if(s){i.result.push(new d(r.result.data,r.status.attributes));break}i.result=i.result||[],i.result.push.apply(i.result,r.result.data);break;default:return s?(i.result.push(new d(r.result.data,r.status.attributes)),i.callback(null)):(i.result?i.result.push.apply(i.result,r.result.data):i.result=r.result.data,this.#l(r.requestId),i.callback(null,new d(i.result,r.status.attributes)))}};#s(e){Object.keys(this._responseHandlers).forEach(t=>{const r=this._responseHandlers[t];if(r.result instanceof o.Readable)r.callback(null);else{const t=e||new Error("Connection has been closed.");r.callback(t)}}),this._ws.removeEventListener("open",this.#r),this._ws.removeEventListener("error",this.#n),this._ws.off("unexpected-response",this.#i),this._ws.removeEventListener("message",this.#o),this._ws.removeEventListener("close",this.#a),this._openPromise=null,this._closePromise=null,this.isOpen=!1}#l(e){delete this._responseHandlers[e]}close(){return!1===this.isOpen?Promise.resolve():(this._closePromise||(this._closePromise=new Promise(e=>{this._closeCallback=e,this._ws.close()})),this._closePromise)}}},4134:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},4147:(e,t,r)=>{"use strict";const{SymbolDispose:n}=r(4134),{AbortError:i,codes:o}=r(6371),{isNodeStream:a,isWebStream:s,kControllerErrorFunction:l}=r(6115),c=r(6238),{ERR_INVALID_ARG_TYPE:u}=o;let d;e.exports.addAbortSignal=function(t,r){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new u(t,"AbortSignal",e)})(t,"signal"),!a(r)&&!s(r))throw new u("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const o=a(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[l](new i(void 0,{cause:e.reason}))};if(e.aborted)o();else{d=d||r(7760).addAbortListener;const i=d(e,o);c(t,i[n])}return t}},4194:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.UUID]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.UUID,1]):n.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);const r=String(e).replace(/^urn:uuid:/,"").replace(/[{}-]/g,""),i=[];t&&i.push(n.from([this.ioc.DataType.UUID,0]));const o=n.alloc(16,0);for(let e=0;e<16&&2*e<r.length;e++)o[e]=parseInt(r.slice(2*e,2*e+2),16);return i.push(o),n.concat(i)}deserialize(e,t=!0,r=!1){let i=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(i++,e!==this.ioc.DataType.UUID)throw new Error("unexpected {type_code}");o=o.slice(1)}if(t||r){if(o.length<1)throw new Error("{value_flag} is missing");const e=o.readUInt8();if(i++,1===e)return{v:null,len:i};if(0!==e)throw new Error("unexpected {value_flag}");o=o.slice(1)}if(o.length<16)throw new Error("unexpected {value} length");i+=16;return{v:o.slice(0,4).toString("hex")+"-"+o.slice(4,6).toString("hex")+"-"+o.slice(6,8).toString("hex")+"-"+o.slice(8,10).toString("hex")+"-"+o.slice(10,16).toString("hex"),len:i}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},4253:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.TRAVERSER]=this}canBeUsedFor(e){return e instanceof i.Traverser}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.TRAVERSER,1]);const e=[0,0,0,0,0,0,0,1],r=[254,1];return n.from([...e,...r])}const r=[];return t&&r.push(n.from([this.ioc.DataType.TRAVERSER,0])),r.push(this.ioc.longSerializer.serialize(e.bulk,!1)),r.push(this.ioc.anySerializer.serialize(e.object)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.TRAVERSER)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,l,c;try{({v:a,len:s}=this.ioc.longSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{bulk}: "+e.message,e}if(a<0)throw new Error("{bulk} is less than zero");o=o.slice(s);try{({v:l,len:c}=this.ioc.anySerializer.deserialize(o)),r+=c}catch(e){throw e.message="{value}: "+e.message,e}o=o.slice(c);return{v:new i.Traverser(l,a),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},4259:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(4134),{EventEmitter:o}=r(7007);function a(e){o.call(this,e)}function s(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(a.prototype,o.prototype),i(a,o),a.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",l),r.on("close",c));let a=!1;function l(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){d(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function d(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",l),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return s(r,"error",u),s(e,"error",u),r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e},e.exports={Stream:a,prependListener:s}},4687:e=>{"use strict";e.exports=class{constructor(e){this.ioc=e}canBeUsedFor(e){return!(!Number.isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY)||("number"==typeof e||"bigint"==typeof e)}serialize(e,t=!0){return"number"==typeof e?Number.isNaN(e)||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY||!Number.isInteger(e)?this.ioc.doubleSerializer.serialize(e,t):e>=-2147483648&&e<=2147483647?this.ioc.intSerializer.serialize(e,t):this.ioc.longSerializer.serialize(e,t):"bigint"==typeof e?this.ioc.bigIntegerSerializer.serialize(e,t):void 0}}},4808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},4948:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(9025)),i=o(r(2311));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v3",48,i.default);t.default=a},4957:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BIGINTEGER]=this}canBeUsedFor(e){return"bigint"==typeof e}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BIGINTEGER,1]):n.from([0,0,0,1,0]);const r=[];let i;if(t&&r.push(n.from([this.ioc.DataType.BIGINTEGER,0])),e>=0){let t=e.toString(16);t.length%2!=0&&(t="0"+t),Number.parseInt(t[0],16)>7&&(t="00"+t),i=n.from(t,"hex")}else{let t=(-e).toString(16);const r=(t.length+t.length%2)/2;let o=BigInt(r)*BigInt(8);e<-(BigInt(2)**(o-BigInt(1)))&&(o+=BigInt(8));t=(BigInt(2)**o+e).toString(16),t.length%2!=0&&(t="0"+t),i=n.from(t,"hex")}return r.push(this.ioc.intSerializer.serialize(i.length,!1)),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BIGINTEGER)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<1)throw new Error(`{length}=${o} is less than one`);i=i.slice(a),r+=o,i=i.slice(0,o);let s=BigInt(`0x${i.toString("hex")}`);return!(128&~i[0])&&(s=BigInt.asIntN(8*o,s)),{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},5073:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(6140)),i=a(r(2858)),o=r(9910);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,o.unsafeStringify)(a)};t.default=s},5094:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.PATH]=this}canBeUsedFor(e){return e instanceof i.Path}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.PATH,1]):n.concat([this.ioc.listSerializer.serialize([]),this.ioc.listSerializer.serialize([])]);const r=[];return t&&r.push(n.from([this.ioc.DataType.PATH,0])),r.push(this.ioc.listSerializer.serialize(e.labels)),r.push(this.ioc.listSerializer.serialize(e.objects)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.PATH)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,l,c;try{({v:a,len:s}=this.ioc.listSerializer.deserialize(o)),r+=s}catch(e){throw e.message="{labels}: "+e.message,e}o=o.slice(s);try{({v:l,len:c}=this.ioc.listSerializer.deserialize(o)),r+=c}catch(e){throw e.message="{objects}: "+e.message,e}o=o.slice(c);return{v:new i.Path(a,l),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},5118:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n(){var e,t,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function s(r,n,o,a){var s=n&&n.prototype instanceof c?n:c,u=Object.create(s.prototype);return i(u,"_invoke",function(r,n,i){var o,a,s,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,a=0,s=e,f.n=r,l}};function p(r,n){for(a=r,s=n,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],p=f.p,h=o[2];r>3?(i=h===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=r<2&&p<o[1])?(a=0,f.v=n,f.n=o[1]):p<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,f.n=h,a=0))}if(i||r>1)return l;throw d=!0,n}return function(i,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),a=u,s=h;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(f.n=-1),p(a,s)):f.n=s:f.v=s);try{if(c=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=f.n<0)?s:r.call(n,f))!==l)break}catch(t){o=e,a=1,s=t}finally{c=1}}return{value:t,done:d}}}(r,o,a),!0),u}var l={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][o]?t(t([][o]())):(i(t={},o,function(){return this}),t),p=d.prototype=c.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=d,i(p,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(p),i(p,a,"Generator"),i(p,o,function(){return this}),i(p,"toString",function(){return"[object Generator]"}),(n=function(){return{w:s,m:h}})()}function i(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,t,r,n){function a(t,r){i(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},i(e,t,r,n)}function o(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var l=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fallbackLocale="en-US",this.eventListeners=new Map,this.initialized=!1},r=[{key:"initializePluralRules",value:function(){var e=this;Object.keys(localeConfigs).forEach(function(t){try{e.pluralRules[t]=new Intl.PluralRules(t)}catch(r){e.pluralRules[t]=new Intl.PluralRules("en-US")}})}},{key:"interpolate",value:function(e,t){return e?t&&0!==Object.keys(t).length?e.replace(/\{(\w+)\}/g,function(e,r){return void 0!==t[r]?t[r]:e}):e:""}},{key:"getPlural",value:function(e,t){var r=this.getTranslation(e);if(!r)return e;if(!r.plural)return r.text||e;var n=this.pluralRules[this.currentLocale].select(t);return r.plural[n]||r.text}},{key:"initialize",value:function(e){if(!this.initialized){var t=e||this.fallbackLocale;this.setLocale(t),this.culturalConfig=new CulturalConfig(t),this.pluralRules={},this.initializePluralRules(),this.initialized=!0}}},{key:"setLocale",value:(s=n().m(function e(t){var r;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:if(localeConfigs[t]){e.n=1;break}return e.a(2,!1);case 1:if(e.p=1,this.currentLocale===t){e.n=3;break}if(null!=(r=localeConfigs[t])&&r.translations){e.n=2;break}throw new Error("Translations not found for locale: ".concat(t));case 2:this.currentLocale=t,this.culturalConfig=new CulturalConfig(t),document.documentElement.setAttribute("dir",this.culturalConfig.isRTL()?"rtl":"ltr"),document.documentElement.setAttribute("lang",t.split("-")[0]),this.emit("localeChanged",{locale:t,direction:this.culturalConfig.isRTL()?"rtl":"ltr",culturalPreferences:this.culturalConfig.getCulturalPreferences()});case 3:return e.a(2,!0);case 4:if(e.p=4,e.v,t===this.fallbackLocale){e.n=5;break}return e.a(2,this.setLocale(this.fallbackLocale));case 5:return e.a(2,!1)}},e,this,[[1,4]])}),l=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=s.apply(e,t);function a(e){o(i,r,n,a,l,"next",e)}function l(e){o(i,r,n,a,l,"throw",e)}a(void 0)})},function(e){return l.apply(this,arguments)})},{key:"getTranslation",value:function(e){if(!e)return null;var t=e.split("."),r="errors"===t[0];return this.findTranslation(t,r)}},{key:"findTranslation",value:function(e,t){return this.getTranslationFromLocale(this.currentLocale,e,t)||this.getTranslationFromLocale(this.fallbackLocale,e,t)}},{key:"getTranslationFromLocale",value:function(e,t,r){var n,i=localeConfigs[e],o=r?null==i?void 0:i.errors:null==i?void 0:i.translations;return r?null==o||null===(n=o[t[1]])||void 0===n?void 0:n[t[2]]:t.reduce(function(e,t){return null==e?void 0:e[t]},o)}},{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=this.getTranslation(e);if(!r)return e;var n=r.text;return"count"in t&&(n=this.getPlural(e,t.count)),this.interpolate(n,t)}catch(t){return e}}},{key:"translateError",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n="errors.".concat(e,".").concat(t),i=this.getTranslation(n);return i?{text:this.interpolate(i.text,r),severity:i.severity||"error"}:{text:"".concat(e,".").concat(t),severity:"error"}}catch(i){return{text:"".concat(e,".").concat(t),severity:"error"}}}},{key:"formatDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";return this.culturalConfig.formatDate(e,t)}},{key:"formatTime",value:function(e){return this.culturalConfig.formatDate(e,"time")}},{key:"formatRelativeTime",value:function(e){for(var r=new Intl.RelativeTimeFormat(this.currentLocale,{numeric:"auto"}),n=(new Date(e).getTime()-Date.now())/1e3,i=0,o=Object.entries({year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1});i<o.length;i++){var a=t(o[i],2),s=a[0],l=a[1];if(Math.abs(n)>=l||"second"===s){var c=Math.round(n/l);return r.format(c,s)}}}},{key:"formatNumber",value:function(e,t){return this.culturalConfig.formatNumber(e,t)}},{key:"formatCurrency",value:function(e,t){return this.culturalConfig.formatCurrency(e,t)}},{key:"on",value:function(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e).add(t)}},{key:"off",value:function(e,t){this.eventListeners.has(e)&&this.eventListeners.get(e).delete(t)}},{key:"emit",value:function(e,t){this.eventListeners.has(e)&&this.eventListeners.get(e).forEach(function(e){try{e(t)}catch(e){}})}}],i=[{key:"detectUserLocale",value:function(){var e=navigator.language;return localeConfigs[e]?e:"en-US"}}],r&&a(e.prototype,r),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i,s,l}();window.i18n=new l},5127:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.serializers=[e.unspecifiedNullSerializer,e.numberSerializationStrategy,e.booleanSerializer,e.dateSerializer,e.bytecodeSerializer,e.pSerializer,e.traverserSerializer,e.enumSerializer,e.listSerializer,e.uuidSerializer,e.edgeSerializer,e.pathSerializer,e.propertySerializer,e.vertexSerializer,e.vertexPropertySerializer,e.stringSerializer,e.textPSerializer,e.traversalStrategySerializer,e.byteBufferSerializer,e.lambdaSerializer,e.mapSerializer]}getSerializerCanBeUsedFor(e){for(let t=0;t<this.serializers.length;t++)if(this.serializers[t].canBeUsedFor(e))return this.serializers[t];throw new Error(`No serializer found to support item where typeof(item)='${typeof e}' and String(item)='${String(e)}'.`)}serialize(e,t=!0){return this.getSerializerCanBeUsedFor(e).serialize(e,t)}deserialize(e){try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");const t=e.readUInt8(),r=this.ioc.serializers[t];if(!r)throw new Error("unknown {type_code}");return r.deserialize(e)}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,err:e})}}}},5250:(e,t,r)=>{"use strict";var n={name:"Profile Management",number:"1.6",buildDate:(new Date).toISOString()};window.APP_VERSION=n;var i=r(1982),o={cosmosdb_force_lowercase:["category","name","profile_id","tags","searchTerm","categories","currentUser","author","profileName"],ADD_ALLOWED_ACTIONS:{neo4j:"\n            MATCH (p:AgentProfile {profile_id: $profileId})\n            UNWIND $allowedActions as actionName\n            WITH p, actionName\n            WHERE actionName IS NOT NULL AND actionName <> ''\n            MATCH (a:Action {name: actionName})\n            MERGE (p)-[:ALLOWS_ACTION]->(a)\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('profile_id', $profileId).as('profile')\n            .V().hasLabel('Action').has('name', within($allowedActions))\n            .where(\n                __.not(\n                    __.in('ALLOWS_ACTION').where(eq('profile'))\n                )\n            )\n            .addE('ALLOWS_ACTION').from('profile')\n        "},ADD_ALLOWED_TOOLS:{neo4j:"\n            MATCH (p:AgentProfile {profile_id: $profileId})\n            UNWIND $allowedTools as toolName\n            WITH p, toolName\n            WHERE toolName IS NOT NULL AND toolName <> ''\n            MATCH (t:Tool {name: toolName})\n            MERGE (p)-[:ALLOWS_TOOL]->(t)\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('profile_id', $profileId).as('profile')\n            .V().hasLabel('Tool').has('name', within($allowedTools))\n            .where(\n                __.not(\n                    __.in('ALLOWS_TOOL').where(eq('profile'))\n                )\n            )\n            .addE('ALLOWS_TOOL').from('profile')\n        "},CHECK_PROFILE_ID_EXISTS:{neo4j:"\n            OPTIONAL MATCH (p:AgentProfile {profile_id: $profileId})\n            RETURN p IS NOT NULL AS exists\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('profile_id', $profileId).project('count').by(count())\n        "},CHECK_PROFILE_NAME_EXISTS:{neo4j:"\n            OPTIONAL MATCH (p:AgentProfile)\n            WHERE toLower(p.name) = toLower($profileName)\n            WITH p LIMIT 1\n            RETURN p IS NOT NULL AS exists\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('name', $profileName)\n            .limit(1).fold()\n            .project('exists')\n            .by(coalesce(__.unfold().constant(true), __.constant(false)))\n            .unfold()\n        "},DELETE_PROFILE_BY_NAME:{neo4j:"\n            MATCH (p:AgentProfile)\n            WHERE toLower(p.name) = toLower($profileName)\n            DETACH DELETE p\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('name', $profileName)\n            .drop()\n        "},GET_AUDIT_HISTORY:{neo4j:"\n            MATCH (p:AgentProfile {profile_id: $profileId})\n            MATCH (p)-[:HAS_AUDIT]->(:Artifact {type: 'Audit'})-[:AUDIT_ENTRY]->(entry:Entry {type: 'Audit'})\n            RETURN entry.timestamp AS timestamp, \n                   entry.change AS changes, \n                   entry.user AS user\n            ORDER BY entry.timestamp DESC\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile')\n            .has('profile_id', $profileId)\n            .out('HAS_AUDIT')\n            .out('AUDIT_ENTRY')\n            .project('timestamp', 'changes', 'user')\n            .by('timestamp')\n            .by('change')\n            .by('user')\n            .order().by('timestamp', decr)\n        "},GET_INSTANCE_COUNT:{neo4j:"\n            MATCH (p:AgentProfile {profile_id: $profileId})\n            RETURN COUNT { (p)<-[:INSTANCE_OF]-() } AS instanceCount\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile')\n            .has('profile_id', $profileId)\n            .in('INSTANCE_OF')\n            .project('count').by(count())\n        "},GET_PROFILE_FOR_EXPORT:{neo4j:"\n            MATCH (p:AgentProfile {profile_id: $profileId})\n            \n            CALL {\n                WITH p\n                OPTIONAL MATCH (p)-[:ALLOWS_TOOL]->(t:Tool)\n                RETURN collect(t) AS selected_tools\n            }\n            \n            CALL {\n                WITH p\n                OPTIONAL MATCH (p)-[:ALLOWS_ACTION]->(a:Action)\n                RETURN collect(a) AS selected_actions\n            }\n            \n            CALL {\n                WITH p\n                OPTIONAL MATCH (p)-[:HAS_AUDIT]->()-[:AUDIT_ENTRY]->(entry:Entry)\n                RETURN max(entry.timestamp) AS lastAuditTimestamp\n            }\n            \n            RETURN p.active, p.allowed_planning_method, p.author, p.category, \n                   p.created_date, p.decision_parameters, p.deontic_rules,\n                   p.experience, p.last_modified_date, p.max_tokens, \n                   p.memory_parameters, p.model_name, p.model_provider, \n                   p.name, p.observation_prompt, p.organizational_rules, \n                   p.profile_id, p.rag_collection_name, p.rag_top_k, \n                   p.rag_vector_size, p.reflection_prompt, p.use_general_rag,\n                   p.skills, p.system_prompt, p.tags, \n                   selected_tools, selected_actions, lastAuditTimestamp\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('profile_id', $profileId)\n            .project('active','allowed_planning_method','author','category','created_date','decision_parameters','deontic_rules',\n                'experience','last_modified_date','max_tokens','memory_parameters','model_name','model_provider','name','observation_prompt',\n                'organizational_rules','profile_id','rag_collection_name','rag_top_k','rag_vector_size','reflection_prompt','use_general_rag',\n                'skills','system_prompt','tags','selected_tools','selected_actions','lastAuditTimestamp')\n                .by('active')\n                .by('allowed_planning_method')\n                .by('author')\n                .by('category')\n                .by('created_date')\n                .by('decision_parameters')\n                .by('deontic_rules')\n                .by('experience')\n                .by('last_modified_date')\n                .by('max_tokens')\n                .by('memory_parameters')\n                .by('model_name')\n                .by('model_provider')\n                .by('name')\n                .by('observation_prompt')\n                .by('organizational_rules')\n                .by('profile_id')\n                .by('rag_collection_name')\n                .by('rag_top_k')\n                .by('rag_vector_size')\n                .by('reflection_prompt')\n                .by('use_general_rag')\n                .by('skills')\n                .by('system_prompt')\n                .by('tags')\n                .by(out('ALLOWS_TOOL').map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1))).fold())\n                .by(out('ALLOWS_ACTION').map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1))).fold())\n                .by(coalesce(\n                        out('HAS_AUDIT')\n                            .hasLabel('Artifact')\n                            .out('AUDIT_ENTRY')\n                            .hasLabel('Entry')\n                            .order().by('timestamp', decr).limit(1)\n                            .fold(),\n                        constant([])\n                    )\n                    .project('latesttimestamp')\n                        .by(\n                            unfold()\n                            .project('timestamp')\n                            .by('timestamp')\n                            .fold()\n                        )\n                )\n        "},GET_LATEST_PROFILE:{neo4j:"\n            MATCH (p:AgentProfile)\n            WHERE p.profile_id STARTS WITH $baseId\n            RETURN p.profile_id\n            ORDER BY p.profile_id DESC\n            LIMIT 1\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('profile_id', startingWith($baseId))\n            .order().by('profile_id', decr).limit(1)\n            .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},GET_PROFILE_ID_BY_NAME:{neo4j:"\n            MATCH (p:AgentProfile)\n            WHERE toLower(p.name) = toLower($profileName)\n            RETURN p.profile_id, p.name\n            LIMIT 1\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('name', $profileName)\n            .limit(1)\n            .project('profile_id', 'name')\n            .by('profile_id')\n            .by('name')\n        "},INSERT_PROFILE:{neo4j:"\n            CREATE (p:AgentProfile {\n                profile_id: $profileId,\n                active: $active,\n                allowed_planning_method: $allowed_planning_method,\n                author: $author,\n                category: $category,\n                decision_parameters: $decision_parameters,\n                deontic_rules: $deontic_rules,\n                experience: $experience,\n                max_tokens: $max_tokens,\n                memory_parameters: $memory_parameters,\n                model_name: $model_name,\n                model_provider: $model_provider,\n                name: $name,\n                observation_prompt: $observation_prompt,\n                organizational_rules: $organizational_rules,\n                rag_collection_name: $rag_collection_name,\n                rag_top_k: $rag_top_k,\n                rag_vector_size: $rag_vector_size,\n                reflection_prompt: $reflection_prompt,\n                use_general_rag: $use_general_rag,\n                skills: $skills,\n                system_prompt: $system_prompt,\n                tags: $tags,\n                created_date: datetime($created_date),\n                last_modified_date: datetime($last_modified_date)\n            })\n            RETURN p.profile_id as profileId\n        ",cosmosdb:"\n            g.addV('AgentProfile')\n            .property($partitionkeyproperty, $partitionkeyvalue)\n            .property('profile_id', $profileId)\n            .property('active', $active)\n            .property('allowed_planning_method', $allowed_planning_method)\n            .property('author', $author)\n            .property('category', $category)\n            .property('decision_parameters', $decision_parameters)\n            .property('deontic_rules', $deontic_rules)\n            .property('experience', $experience)\n            .property('max_tokens', $max_tokens)\n            .property('memory_parameters', $memory_parameters)\n            .property('model_name', $model_name)\n            .property('model_provider', $model_provider)\n            .property('name', $name)\n            .property('observation_prompt', $observation_prompt)\n            .property('organizational_rules', $organizational_rules)\n            .property('rag_collection_name', $rag_collection_name)\n            .property('rag_top_k', $rag_top_k)\n            .property('rag_vector_size', $rag_vector_size)\n            .property('reflection_prompt', $reflection_prompt)\n            .property('use_general_rag', $use_general_rag)\n            .property('skills', $skills)\n            .property('system_prompt', $system_prompt)\n            .property('tags', $tags)\n            .property('created_date', $created_date)\n            .property('last_modified_date', $last_modified_date)\n            .project('profileId').by('profile_id')\n        "},LOAD_ALL_ACTIONS:{neo4j:"\n            MATCH (a:Action {active: true})\n            RETURN a.active, a.author, a.created_date, a.description, \n                   a.last_modified_date, a.name, a.parameters, a.should_return\n            ORDER BY a.name\n        ",cosmosdb:"\n            g.V().hasLabel('Action')\n            .has('active', true)\n            .order().by('name')\n            .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},LOAD_ALL_TOOLS:{neo4j:"\n            MATCH (t:Tool {active: true})\n            RETURN t.name, t.description, t.class_name, t.active,\n                   t.options, t.reserved_fields, t.model_provider, t.model_name, \n                   t.prompt_system, t.prompt_user, t.max_tokens, \n                   t.created_date, t.last_modified_date\n            ORDER BY t.name\n        ",cosmosdb:"\n            g.V().hasLabel('Tool').has('active',true)\n            .order().by('name')\n            .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},LOAD_BATCHED_PROFILES:{neo4j:"\n            MATCH (p:AgentProfile)\n            WHERE (size($statusConditions) = 0 OR p.active IN $statusConditions)\n            AND (\n                size($categories) = 0 OR \n                toLower(coalesce(p.category, 'uncategorized')) IN $categories\n            )                    \n            AND ($currentUser = '' OR toLower(p.author) = toLower($currentUser))\n            AND (\n                $searchTerm = '' OR \n                any(field IN [p.name, p.profile_id, coalesce(p.category, ''), p.tags] \n                    WHERE toLower(toString(field)) CONTAINS toLower($searchTerm))\n            )\n            RETURN p.active, p.allowed_planning_method, p.author, p.category, \n                p.created_date, p.decision_parameters, p.deontic_rules,\n                p.experience, p.last_modified_date, p.max_tokens, \n                p.memory_parameters, p.model_name, p.model_provider, \n                p.name, p.observation_prompt, p.organizational_rules, \n                p.profile_id, p.rag_collection_name, p.rag_top_k, \n                p.rag_vector_size, p.reflection_prompt, p.use_general_rag,\n                p.skills, p.system_prompt, p.tags\n            ORDER BY toLower(p.name)\n            SKIP toInteger($skip)\n            LIMIT toInteger($limit)\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile')\n            .has('active', within($statusConditions))\n            .where(\n                __.or(\n                    __.has('name', TextP.containing($searchTerm)),\n                    __.has('profile_id', TextP.containing($searchTerm)),\n                    __.has('category', TextP.containing($searchTerm)),\n                    __.has('tags', TextP.containing($searchTerm))\n                )\n            )\n            .where(\n                __.or(\n                    __.has('category', within($categories)),\n                    __.and(__.not(__.has('category')), __.constant('uncategorized').is(within($categories)))\n                )\n            )\n            .where(\n                __.or(\n                    __.constant($currentUser).is(''),\n                    __.has('author', $currentUser)\n                )\n            )\n            .order().by('name', incr)\n            .range($skip, $limit)\n            .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},LOAD_CATEGORY_FILTERS:{neo4j:"\n            MATCH (p:AgentProfile)\n            WHERE p.category IS NOT NULL\n            WITH DISTINCT toLower(p.category) as lower_category, p.category as original_category\n            WITH lower_category, collect(original_category)[0] as category\n            RETURN category\n            ORDER BY toLower(category)\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').values('category').dedup().order().project('category').by()\n        "},LOAD_PROFILE:{neo4j:"\n            MATCH (p:AgentProfile {profile_id: $profileId})\n            CALL {\n                WITH p\n                OPTIONAL MATCH (p)-[:ALLOWS_TOOL]->(t:Tool)\n                RETURN collect(t) AS allowed_tools\n            }\n            \n            CALL {\n                WITH p\n                OPTIONAL MATCH (p)-[:ALLOWS_ACTION]->(a:Action)\n                RETURN collect(a) AS allowed_actions\n            }\n            \n            CALL {\n                WITH p\n                OPTIONAL MATCH (p)-[:HAS_AUDIT]->()-[:AUDIT_ENTRY]->(entry:Entry)\n                RETURN max(entry.timestamp) AS lastAuditTimestamp\n            }\n            RETURN p.active, p.allowed_planning_method, p.author, p.category, \n                   p.created_date, p.decision_parameters, p.deontic_rules,\n                   p.experience, p.last_modified_date, p.max_tokens, \n                   p.memory_parameters, p.model_name, p.model_provider, \n                   p.name, p.observation_prompt, p.organizational_rules, \n                   p.profile_id, p.rag_collection_name, p.rag_top_k, \n                   p.rag_vector_size, p.reflection_prompt, p.use_general_rag,\n                   p.skills, p.system_prompt, p.tags, \n                   allowed_tools, allowed_actions, lastAuditTimestamp\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('profile_id', $profileId)\n            .project('active','allowed_planning_method','author','category','created_date','decision_parameters','deontic_rules',\n                'experience','last_modified_date','max_tokens','memory_parameters','model_name','model_provider','name','observation_prompt',\n                'organizational_rules','profile_id','rag_collection_name','rag_top_k','rag_vector_size','reflection_prompt','use_general_rag',\n                'skills','system_prompt','tags','allowed_tools','allowed_actions','lastAuditTimestamp')\n                .by('active')\n                .by('allowed_planning_method')\n                .by('author')\n                .by('category')\n                .by('created_date')\n                .by('decision_parameters')\n                .by('deontic_rules')\n                .by('experience')\n                .by('last_modified_date')\n                .by('max_tokens')\n                .by('memory_parameters')\n                .by('model_name')\n                .by('model_provider')\n                .by('name')\n                .by('observation_prompt')\n                .by('organizational_rules')\n                .by('profile_id')\n                .by('rag_collection_name')\n                .by('rag_top_k')\n                .by('rag_vector_size')\n                .by('reflection_prompt')\n                .by('use_general_rag')\n                .by('skills')\n                .by('system_prompt')\n                .by('tags')\n                .by(out('ALLOWS_TOOL').map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1))).fold())\n                .by(out('ALLOWS_ACTION').map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1))).fold())\n                .by(coalesce(\n                        out('HAS_AUDIT')\n                            .hasLabel('Artifact')\n                            .out('AUDIT_ENTRY')\n                            .hasLabel('Entry')\n                            .order().by('timestamp', decr).limit(1)\n                            .fold(),\n                        constant([])\n                    )\n                    .project('latesttimestamp')\n                        .by(\n                            unfold()\n                            .project('timestamp')\n                            .by('timestamp')\n                            .fold()\n                        )\n                )\n        "},LOAD_SYSTEM_OPTIONS:{neo4j:"\n            MATCH (so:SystemOptions {id: $id})\n            RETURN so.config_agent_communication, so.allowed_consensus, so.allowed_planning, \n                   so.author, so.config_confidence_scoring, so.content_processor_type,\n                   so.created_date, so.id, so.config_importance_scoring, \n                   so.last_modified_date, so.config_memory_retrieval, so.models_providers,\n                   so.prompt_access_levels, so.prompt_types, so.rag_schema, \n                   so.reserved_field_user_prompt, so.reserved_fields_observation, \n                   so.reserved_fields_reflection, so.reserved_fields_task_prompt,\n                   so.config_surprise_scoring, so.config_timing, so.config_consensus\n        ",cosmosdb:"\n            g.V().hasLabel('SystemOptions').has('id', $id)\n            .map(valueMap(true).unfold().group().by(keys).by(select(values).limit(local,1)))\n        "},REMOVE_NOT_ALLOWED_ACTIONS:{neo4j:"\n            MATCH (p:AgentProfile {profile_id: $profileId})\n            MATCH (p)-[r:ALLOWS_ACTION]->(a:Action)\n            WHERE NOT a.name IN $allowedActions\n            DELETE r\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('profile_id', $profileId)\n            .outE('ALLOWS_ACTION')\n            .where(inV().has('name', P.not(P.within($allowedActions))))\n            .drop()\n        "},REMOVE_NOT_ALLOWED_TOOLS:{neo4j:"\n            MATCH (p:AgentProfile {profile_id: $profileId})\n            MATCH (p)-[r:ALLOWS_TOOL]->(t:Tool)\n            WHERE NOT t.name IN $allowedTools\n            DELETE r\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('profile_id', $profileId)\n            .outE('ALLOWS_TOOL')\n            .where(inV().has('name', P.not(P.within($allowedTools))))\n            .drop()\n        "},UPDATE_PROFILE:{neo4j:"\n            MATCH (p:AgentProfile {profile_id: $profileId})\n            SET p.active = $active,\n                p.allowed_planning_method = $allowed_planning_method,\n                p.author = $author,\n                p.category = $category,\n                p.decision_parameters = $decision_parameters,\n                p.deontic_rules = $deontic_rules,\n                p.experience = $experience,\n                p.max_tokens = $max_tokens,\n                p.memory_parameters = $memory_parameters,\n                p.model_name = $model_name,\n                p.model_provider = $model_provider,\n                p.name = $name,\n                p.observation_prompt = $observation_prompt,\n                p.organizational_rules = $organizational_rules,\n                p.rag_collection_name = $rag_collection_name,\n                p.rag_top_k = $rag_top_k,\n                p.rag_vector_size = $rag_vector_size,\n                p.reflection_prompt = $reflection_prompt,\n                p.use_general_rag = $use_general_rag,\n                p.skills = $skills,\n                p.system_prompt = $system_prompt,\n                p.tags = $tags,\n                p.created_date = datetime($created_date),\n                p.last_modified_date = datetime($last_modified_date)\n            \n            RETURN p.profile_id AS profileId\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('profile_id', $profileId)\n            .property('active', $active)\n            .property('allowed_planning_method', $allowed_planning_method)\n            .property('author', $author)\n            .property('category', $category)\n            .property('decision_parameters', $decision_parameters)\n            .property('deontic_rules', $deontic_rules)\n            .property('experience', $experience)\n            .property('max_tokens', $max_tokens)\n            .property('memory_parameters', $memory_parameters)\n            .property('model_name', $model_name)\n            .property('model_provider', $model_provider)\n            .property('name', $name)\n            .property('observation_prompt', $observation_prompt)\n            .property('organizational_rules', $organizational_rules)\n            .property('rag_collection_name', $rag_collection_name)\n            .property('rag_top_k', $rag_top_k)\n            .property('rag_vector_size', $rag_vector_size)\n            .property('reflection_prompt', $reflection_prompt)\n            .property('use_general_rag', $use_general_rag)\n            .property('skills', $skills)\n            .property('system_prompt', $system_prompt)\n            .property('tags', $tags)\n            .property('created_date', $created_date)\n            .property('last_modified_date', $last_modified_date)\n            .project('profileId').by('profile_id')\n        "},WRITE_AUDIT_INFO:{neo4j:"\n            MATCH (p:AgentProfile {profile_id: $profileId})\n            MERGE (p)-[:HAS_AUDIT]->(audit:Artifact {type: 'Audit'})\n            ON CREATE SET \n                audit.id = $auditId, \n                audit.created_date = datetime($audit_created_date)\n            CREATE (audit)-[:AUDIT_ENTRY]->(entry:Entry {\n                id: $entryId,\n                type: 'Audit',\n                created_date: datetime($entry_created_date),\n                timestamp: $timestamp,\n                user: $currentUser,\n                change: $stringifiedChanges\n            })\n            RETURN entry.id AS entryId\n        ",cosmosdb:"\n            g.V().hasLabel('AgentProfile').has('profile_id', $profileId).as('profile')\n            .coalesce(\n                outE('HAS_AUDIT').inV(),\n                addV('Artifact')\n                    .property($partitionkeyproperty, $partitionkeyvalue)\n                    .property('id', $auditId)\n                    .property('type', 'Audit')\n                    .property('created_date', $audit_created_date)\n                    .as('newAudit')\n                    .addE('HAS_AUDIT')\n                    .from('profile')\n                    .to('newAudit')\n                    .select('newAudit')\n            )\n            .as('audit')\n            .addV('Entry')\n                .property($partitionkeyproperty, $partitionkeyvalue)\n                .property('id', $entryId)\n                .property('type', 'Audit')\n                .property('created_date', $entry_created_date)\n                .property('timestamp', $timestamp)\n                .property('user', $currentUser)\n                .property('change', $stringifiedChanges)\n                .as('entry')\n                .addE('AUDIT_ENTRY')\n                .from('audit')\n                .to('entry')\n        "}},a=r(3469),s=["created_date","last_modified_date"];function l(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(v(e)+" is not iterable")}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function u(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var l=n&&n.prototype instanceof s?n:s,c=Object.create(l.prototype);return m(c,"_invoke",function(r,n,i){var o,s,l,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,s=0,l=e,f.n=r,a}};function p(r,n){for(s=r,l=n,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],p=f.p,h=o[2];r>3?(i=h===n)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,f.v=n,f.n=o[1]):p<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,f.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:r.call(n,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(r,i,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(m(t={},n,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,m(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,m(d,"constructor",c),m(c,"constructor",l),l.displayName="GeneratorFunction",m(c,i,"GeneratorFunction"),m(d),m(d,i,"Generator"),m(d,n,function(){return this}),m(d,"toString",function(){return"[object Generator]"}),(y=function(){return{w:o,m:f}})()}function m(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}m=function(e,t,r,n){function o(t,r){m(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},m(e,t,r,n)}function g(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function b(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){g(o,n,i,a,s,"next",e)}function s(e){g(o,n,i,a,s,"throw",e)}a(void 0)})}}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return E(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var S,T,I,A,O,x,R,k,P,L,N={DEBUG:!1,LANGUAGE:"",THEME:"",NEO4J_CONFIG:{uri:"",username:"",password:"",neo4j_serverauth:""},COSMOSDB_CONFIG:{endpoint:"",key:"",db:"",graph:"",partitionkeyproperty:"",partitionkeyvalue:""},DATABASETYPE:"",CURRENT_USER:""},C=!1,D=null,j="profile-editor",z=new Set(["Active"]),M=new Set,U=[],B=!1,F=0,$=!0,W=[],V=[],H=[],q=null,G=!1,Y=null,Q=null,J="";function K(){utils.debugLog("Theme in use is: ".concat(N.THEME)),document.documentElement.setAttribute("data-theme",N.THEME)}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";if(!document.getElementById("".concat(e,"Spinner"))){var t=document.createElement("div");t.className="spinner-container ".concat(e),t.id="".concat(e,"Spinner");var r=document.createElement("div");r.className="spinner ".concat(e),t.appendChild(r),I.appendChild(t)}}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial",t=document.getElementById("".concat(e,"Spinner"));t&&t.remove()}function ee(e){return Object.entries(e).reduce(function(e,t){var r=w(t,2),n=r[0],i=r[1];return null!==i&&"object"===v(i)?e[n]=JSON.stringify(i):e[n]=i,e},{})}function te(e){if(Array.isArray(e))return e;if("string"!=typeof e)return null==e?[]:[e];try{var t=JSON.parse(e);return Array.isArray(t)?t:[e]}catch(t){return[e]}}function re(){var e=function(){var e=b(y().m(function e(){return y().w(function(e){for(;;)switch(e.n){case 0:if(!D){e.n=1;break}return e.n=1,D.close();case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();window.addEventListener("pagehide",e),window.addEventListener("beforeunload",e),window.addEventListener("unload",e)}function ne(){var e;(e=document.querySelector(".profile-editor")).querySelectorAll("input, textarea, select").forEach(function(e){e.addEventListener("change",ve),("textarea"===e.tagName.toLowerCase()||"input"===e.tagName.toLowerCase()&&"checkbox"!==e.type)&&e.addEventListener("input",ve)}),e.querySelectorAll(".tag-input").forEach(function(e){new MutationObserver(ve).observe(e,{childList:!0,subtree:!0,characterData:!0})}),e.querySelectorAll(".tool-checkbox, .action-checkbox").forEach(function(e){e.addEventListener("change",ve)});var t=document.querySelector(".profile-editor");new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){1===e.nodeType&&e.querySelectorAll("input, textarea, select").forEach(function(e){e.addEventListener("change",ve),("textarea"===e.tagName.toLowerCase()||"input"===e.tagName.toLowerCase()&&"checkbox"!==e.type)&&e.addEventListener("input",ve)})})})}).observe(t,{childList:!0,subtree:!0})}function ie(e,t){e.stopPropagation(),document.querySelectorAll(".filter-dropdown").forEach(function(e){e!==t&&e.classList.remove("show")}),t.classList.toggle("show")}function oe(e,t,r){e.textContent=t+(r>0?" (".concat(r,")"):"")}function ae(){return se.apply(this,arguments)}function se(){return(se=b(y().m(function e(){var t,r,n,i,o,a;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=D.getQuery("LOAD_CATEGORY_FILTERS"),e.n=1,D.executeRead(t,{});case 1:r=e.v,n=new Map,r.forEach(function(e){var t=e.category.toLowerCase();n.has(t)||n.set(t,e.category)}),H=Array.from(n.values()).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),i=document.getElementById("categoryDropdown"),(o=i.querySelector(".filter-dropdown-content")).innerHTML="",H.forEach(function(e){var t=document.createElement("div");t.className="filter-item",t.innerHTML='\n                <label>\n                    <input type="checkbox" value="'.concat(e,'">\n                    <span>').concat(e,"</span>\n                </label>\n            "),o.appendChild(t)}),(a=document.createElement("div")).className="filter-item",a.innerHTML='\n            <label>\n                <input type="checkbox" value="Uncategorized">\n                <span data-i18n="uncategorized">Uncategorized</span>\n            </label>\n        ',o.appendChild(a),ue(),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}))).apply(this,arguments)}function le(){var e=document.querySelectorAll('#statusDropdown input[type="checkbox"]'),t=document.querySelectorAll('#categoryDropdown input[type="checkbox"]');e.forEach(function(e){e.disabled=!0}),t.forEach(function(e){e.disabled=!0})}function ce(){var e=document.querySelectorAll('#statusDropdown input[type="checkbox"]'),t=document.querySelectorAll('#categoryDropdown input[type="checkbox"]');e.forEach(function(e){e.disabled=!1}),t.forEach(function(e){e.disabled=!1})}function ue(){var e=document.getElementById("categoryFilterButton"),t=document.getElementById("categoryDropdown");t.querySelectorAll('input[type="checkbox"]').forEach(function(r){r.addEventListener("change",function(){B||r.disabled||(r.checked?M.add(r.value.toLowerCase()):M.delete(r.value.toLowerCase()),oe(e,"Category",M.size),t.classList.remove("show"),Be(!0))})})}function de(){var e=document.getElementById("profileList");e.removeEventListener("scroll",fe),e.addEventListener("scroll",fe)}function fe(e){var t=e.target;t.scrollTop+t.clientHeight>=t.scrollHeight-100&&(!B&&$&&(B=!0,$e(document.getElementById("profileSearch").value.toLowerCase())))}function pe(e){var t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}function he(e,t){var r,n=document.getElementById(e),i=document.getElementById(t);n.addEventListener("input",function(){var e=this.value.toLowerCase();r&&clearTimeout(r),r=setTimeout(function(){Ve()},300),ye(e)}),i.addEventListener("click",function(){n.value="",Ve(),ye("")})}function ye(e){document.getElementById("clearSearch").style.display=e.length>0?"block":"none"}function me(e){var t=e.match(/{([a-zA-Z0-9_]+)}/g);return t?t.map(function(e){return e.slice(1,-1)}):[]}function ge(e){var t=document.getElementById("model_provider");t.innerHTML='<option value="" data-i18n="modelProviderPlaceholder">Select a model provider</option>',e.sort(function(e,t){return e.localeCompare(t)}).forEach(function(e){var r=document.createElement("option");r.value=e,r.textContent=e,t.appendChild(r)})}function be(e){if(!H.some(function(t){return t.toLowerCase()===e.toLowerCase()})){H||(H=[]),H.push(e),H.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});var t=M.size>0;t&&M.add(e.toLowerCase());var r=document.getElementById("categoryDropdown").querySelector(".filter-dropdown-content"),n=document.getElementById("categoryFilterButton");if(r&&n){var i=document.createElement("div");i.className="filter-item";var o=document.createElement("label"),a=document.createElement("input");a.type="checkbox",a.value=e,a.checked=t;var s=document.createElement("span");s.textContent=e,o.appendChild(a),o.appendChild(s),i.appendChild(o),a.addEventListener("change",function(){B||a.disabled||(a.checked?M.add(a.value.toLowerCase()):M.delete(a.value.toLowerCase()),oe(n,"Category",M.size),Be(!0))});var l=Array.from(r.querySelectorAll(".filter-item")),c=h(H).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).findIndex(function(t){return t.toLowerCase()===e.toLowerCase()});if(c<l.length-1)r.insertBefore(i,l[c]);else{var u=r.querySelector('input[value="Uncategorized"]').closest(".filter-item");r.insertBefore(i,u)}t&&oe(n,"Category",M.size)}}}function ve(){var e,t,r;Y?(Q=Jt(),e=Y,t=Q,r=function(e){var t=f({},e);return delete t.created_date,delete t.last_modified_date,t},G=!(JSON.stringify(r(e))===JSON.stringify(r(t))),we()):Y=Jt()}function we(){var e=document.getElementById("save_profile");if(e){["new","clone","import"].includes(J)?e.disabled=!1:e.disabled=!G}}function _e(){G=!1,Y=null,Q=null,we()}function Ee(){return Se.apply(this,arguments)}function Se(){return(Se=b(y().m(function e(){var t;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=D.getQuery("LOAD_ALL_TOOLS"),e.n=1,D.executeRead(t,{});case 1:return e.a(2,e.v);case 2:return e.p=2,e.v,e.a(2,[])}},e,null,[[0,2]])}))).apply(this,arguments)}function Te(){var e=document.getElementById("tools-filter-dropdown").value;document.querySelectorAll(".tool-item").forEach(function(t){var r=t.querySelector(".tool-checkbox");switch(e){case"all":t.style.display="";break;case"selected":t.style.display=r.checked?"":"none";break;case"unselected":t.style.display=r.checked?"none":""}})}function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;document.querySelectorAll(".tool-checkbox").forEach(function(t){var r=t.getAttribute("data-tool-name");null!=e&&e.allowed_tools?t.checked=e.allowed_tools.some(function(e){return e.properties&&e.properties.name===r}):t.checked=!1}),Te()}function Ae(){return Oe.apply(this,arguments)}function Oe(){return(Oe=b(y().m(function e(){var t;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=D.getQuery("LOAD_ALL_ACTIONS"),e.n=1,D.executeRead(t,{});case 1:return e.a(2,e.v);case 2:return e.p=2,e.v,e.a(2,[])}},e,null,[[0,2]])}))).apply(this,arguments)}function xe(){var e=document.getElementById("actions-filter-dropdown").value;document.querySelectorAll(".action-item").forEach(function(t){var r=t.querySelector(".action-checkbox");switch(e){case"all":t.style.display="";break;case"selected":t.style.display=r.checked?"":"none";break;case"unselected":t.style.display=r.checked?"none":""}})}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;document.querySelectorAll(".action-checkbox").forEach(function(t){var r=t.getAttribute("data-action-name");null!=e&&e.allowed_actions?t.checked=e.allowed_actions.some(function(e){return e.properties&&e.properties.name===r}):t.checked=!1}),xe()}function ke(e){if(Array.isArray(e))return e.map(function(e){return"string"==typeof e?e:e.name});if(e)try{var t=JSON.parse(e);return Array.isArray(t)?t.map(function(e){return"string"==typeof e?e:e.name}):[]}catch(e){return[]}return[]}function Pe(e){if(Array.isArray(e))return e.map(function(e){return"string"==typeof e?e:e.name});if(e)try{var t=JSON.parse(e);return Array.isArray(t)?t.map(function(e){return"string"==typeof e?e:e.name}):[]}catch(e){return[]}return[]}function Le(e,t,r){return Ne.apply(this,arguments)}function Ne(){return(Ne=b(y().m(function e(t,r,n){var o,a,s;return y().w(function(e){for(;;)switch(e.n){case 0:return(o=i.e.from(r)).quotedElements=!0,0===o.length&&o.push(""),a=D.getQuery("REMOVE_NOT_ALLOWED_TOOLS"),e.n=1,D.executeWrite(a,{profileId:t,allowedTools:o},n);case 1:if(!(r.length>0)){e.n=2;break}return s=D.getQuery("ADD_ALLOWED_TOOLS"),e.n=2,D.executeWrite(s,{profileId:t,allowedTools:o},n);case 2:return e.a(2)}},e)}))).apply(this,arguments)}function Ce(e,t,r){return De.apply(this,arguments)}function De(){return(De=b(y().m(function e(t,r,n){var o,a,s;return y().w(function(e){for(;;)switch(e.n){case 0:return(o=i.e.from(r)).quotedElements=!0,0===o.length&&o.push(""),a=D.getQuery("REMOVE_NOT_ALLOWED_ACTIONS"),e.n=1,D.executeWrite(a,{profileId:t,allowedActions:o},n);case 1:if(!(r.length>0)){e.n=2;break}return s=D.getQuery("ADD_ALLOWED_ACTIONS"),e.n=2,D.executeWrite(s,{profileId:t,allowedActions:o},n);case 2:return e.a(2)}},e)}))).apply(this,arguments)}function je(e,t,r,n){return ze.apply(this,arguments)}function ze(){return(ze=b(y().m(function e(t,r,n,i){var o,a,s,l,c;return y().w(function(e){for(;;)switch(e.n){case 0:return o=crypto.randomUUID(),a=crypto.randomUUID(),s=(new Date).toISOString(),l=Math.floor(Date.now()/1e3),c=D.getQuery("WRITE_AUDIT_INFO"),e.n=1,D.executeWrite(c,{profileId:t,auditId:o,entryId:a,timestamp:l,currentUser:N.CURRENT_USER,stringifiedChanges:n,audit_created_date:s,entry_created_date:s},i);case 1:return e.a(2)}},e)}))).apply(this,arguments)}function Me(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=b(y().m(function e(t){var r,n,i,o,a;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!G){e.n=2;break}return e.n=1,mr();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return e.p=2,r=D.getQuery("LOAD_PROFILE"),e.n=3,D.executeRead(r,{profileId:t},null,!0);case 3:if(null==(n=e.v)){e.n=5;break}return Qt(q=f({},n)),Xt("edit"),or(t),ProfileStatusHandler.showSuccess("profileLoadSuccess",{id:t}),Ie(n),Re(n),Y=Jt(),Q=Y,G=!1,a=nr,e.n=4,Xe(t);case 4:a("editMode",e.v),e.n=6;break;case 5:(i=ProfileErrorHandler).showError.apply(i,h(ProfileErrorCodes.PROFILE_NOT_FOUND));case 6:e.n=8;break;case 7:e.p=7,e.v,(o=ProfileErrorHandler).showError.apply(o,h(ProfileErrorCodes.PROFILE_LOAD_ERROR));case 8:return e.a(2)}},e,null,[[2,7]])}))).apply(this,arguments)}function Be(){return Fe.apply(this,arguments)}function Fe(){return Fe=b(y().m(function e(){var t,r,n,i=arguments;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=!(i.length>0&&void 0!==i[0])||i[0],!B){e.n=1;break}return e.a(2);case 1:return e.p=1,B=!0,le(),t&&(I.innerHTML="",X("initial"),F=0,U=[],$=!0),r=document.getElementById("profileSearch").value.toLowerCase(),e.n=2,$e(r);case 2:t&&de(),e.n=4;break;case 3:e.p=3,e.v,(n=ProfileErrorHandler).showError.apply(n,h(ProfileErrorCodes.BATCH_LOAD_ERROR));case 4:return e.p=4,B=!1,ce(),Z("initial"),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])})),Fe.apply(this,arguments)}function $e(){return We.apply(this,arguments)}function We(){return We=b(y().m(function e(){var t,r,n,o,a,s,l,c,u,d,f,p,m,g=arguments;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=g.length>0&&void 0!==g[0]?g[0]:"",$){e.n=1;break}return e.a(2);case 1:if(F>0&&X("load-more"),e.p=2,n=new i.e,n=z.size>0?i.e.from(z).map(function(e){return"Active"===e}):[!0,!1],!(M.size>0)){e.n=3;break}o=i.e.from(M),e.n=5;break;case 3:return a=D.getQuery("LOAD_CATEGORY_FILTERS"),e.n=4,D.executeRead(a,{});case 4:s=e.v,o=i.e.from(s.map(function(e){return e.category.toLowerCase()}));case 5:return o.quotedElements=!0,l=D.getQuery("LOAD_BATCHED_PROFILES"),c={searchTerm:t.toLowerCase()||"",categories:o,statusConditions:n,currentUser:N.CURRENT_USER},e.n=6,D.executeRead(l,c,null,!1,20*F,20);case 6:if(p=r=e.v,!(f=null!==p)){e.n=7;break}f=void 0!==r;case 7:if(!f){e.n=8;break}m=r,e.n=9;break;case 8:m=[];case 9:$=20===(u=m).length,u.length>0?(er(U=[].concat(h(U),h(u))),F++):$=!1,e.n=11;break;case 10:e.p=10,e.v,(d=ProfileErrorHandler).showError.apply(d,h(ProfileErrorCodes.BATCH_LOAD_ERROR));case 11:return e.p=11,F>0&&Z("load-more"),B=!1,ce(),e.f(11);case 12:return e.a(2)}},e,null,[[2,10,11,12]])})),We.apply(this,arguments)}function Ve(){return He.apply(this,arguments)}function He(){return(He=b(y().m(function e(){return y().w(function(e){for(;;)switch(e.n){case 0:if(!B){e.n=1;break}return e.a(2);case 1:return e.n=2,Be(!0);case 2:return e.a(2)}},e)}))).apply(this,arguments)}function qe(){return Ge.apply(this,arguments)}function Ge(){return Ge=b(y().m(function e(){var t,r,n,i,o,a,s,l,c,u,d,f,p,m,g,b,v,w,_,E,S,T,I,A,O,x=arguments;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=(t=x.length>0&&void 0!==x[0]?x[0]:{}).profileData,n=void 0===r?null:r,i=t.skipValidation,o=void 0!==i&&i,a=t.isImportOperation,s=void 0!==a&&a,l=t.isBulkOperation,c=void 0!==l&&l,u=t.auditContext,d=void 0===u?null:u,f=t.updateUI,p=void 0===f||f,m=t.suppressMessages,g=void 0!==m&&m,b=n||Jt(),s||!1!==G||"edit"!==J){e.n=1;break}return g||(v=ProfileErrorHandler).showError.apply(v,h(ProfileErrorCodes.NO_CHANGES_TO_SAVE)),e.a(2,!1);case 1:if(w=document.querySelector("#save_profile"),_=null==w?void 0:w.querySelector(".icon-xl"),E=null==w?void 0:w.querySelector(".spinner"),S=document.querySelector("#cancel_profile"),T=document.querySelectorAll(".right-actions button"),p&&!c&&w&&(w.disabled=S.disabled=!0,T.forEach(function(e){return e.disabled=!0}),null==_||_.classList.add("hide"),null==E||E.classList.remove("hide")),e.p=2,o){e.n=3;break}if(!((I=Yt(b)).length>0)){e.n=3;break}return g||(ProfileErrorHandler.handleValidationErrors(I),p&&pe(".".concat(j))),e.a(2,!1);case 3:return e.n=4,Ye(b,{isImportOperation:s,isBulkOperation:c,auditContext:d,updateUI:p&&!c,suppressMessages:g});case 4:if(!(A=e.v)||!p||c){e.n=6;break}return ir(),nr("",""),e.n=5,Be();case 5:pe(".".concat(j)),Xt("view");case 6:return e.a(2,A);case 7:return e.p=7,e.v,g||(O=ProfileErrorHandler).showError.apply(O,h(ProfileErrorCodes.PROFILE_SAVE_ERROR)),e.a(2,!1);case 8:return e.p=8,p&&!c&&w&&(w.disabled=S.disabled=!1,T.forEach(function(e){return e.disabled=!1}),null==_||_.classList.remove("hide"),null==E||E.classList.add("hide")),e.f(8);case 9:return e.a(2)}},e,null,[[2,7,8,9]])})),Ge.apply(this,arguments)}function Ye(e){return Qe.apply(this,arguments)}function Qe(){return Qe=b(y().m(function e(t){var r,n,i,o,a,l,c,d,p,h,m,g,v,w,_,E,S,T,I,A,O,x,R=arguments;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return i=(n=R.length>1&&void 0!==R[1]?R[1]:{}).isImportOperation,o=n.isBulkOperation,a=n.auditContext,l=void 0===a?null:a,c=n.updateUI,d=void 0===c||c,p=n.suppressMessages,h=void 0!==p&&p,m=null===(r=t.category)||void 0===r?void 0:r.trim(),e.n=1,et(t.profile_id);case 1:return g=e.v,v=!g,w=t.created_date,t.last_modified_date,_=u(t,s),E=ke(_.allowed_tools),S=Pe(_.allowed_actions),delete _.allowed_tools,delete _.allowed_actions,_.author=N.CURRENT_USER,T={},I="",A=0,v||(T=Kt(g,t),l&&Object.assign(T,l),I=JSON.stringify(T),A=Object.keys(T).length),e.n=2,D.startTransaction();case 2:return O=e.v,e.p=3,e.n=4,D.executeInTransaction(O,function(){var e=b(y().m(function e(t){var r,n;return y().w(function(e){for(;;)switch(e.n){case 0:return r=(new Date).toISOString(),n=D.getQuery(v?"INSERT_PROFILE":"UPDATE_PROFILE"),e.n=1,D.executeWrite(n,f(f({},_),{},{profileId:_.profile_id,created_date:v?r:w,last_modified_date:r}),t);case 1:if(e.v){e.n=2;break}throw new Error("Failed to save profile data");case 2:return e.n=3,Le(_.profile_id,E,t);case 3:return e.n=4,Ce(_.profile_id,S,t);case 4:if(v||!(A>0)){e.n=5;break}return e.n=5,je(_.profile_id,T,I,t);case 5:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());case 4:return d&&!h&&(x=v?"profileCreateSuccess":"profileUpdateSuccess",ProfileStatusHandler.showSuccess(x,{id:t.profile_id})),d&&m&&""!==m&&!H.includes(m)&&be(m),e.a(2,!0);case 5:return e.p=5,e.n=6,D.endTransaction(O);case 6:return e.f(5);case 7:return e.a(2)}},e,null,[[3,,5,7]])})),Qe.apply(this,arguments)}function Je(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=b(y().m(function e(t){var r,n,i,o,a,s,l,c,u,d,p,m,g;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=document.querySelector("#clone_profile"),n=r.querySelector(".icon-xl"),i=r.querySelector(".spinner"),r.disabled=!0,n.classList.add("hide"),i.classList.remove("hide"),t&&(t.preventDefault(),t.stopPropagation()),q){e.n=1;break}return(o=ProfileErrorHandler).showError.apply(o,h(ProfileErrorCodes.SELECT_PROFILE_TO_CLONE)),r.disabled=!1,n.classList.remove("hide"),i.classList.add("hide"),e.a(2);case 1:return e.p=1,a=ct(q.profile_id),s=q.profile_id,a?a!==q.profile_id&&(s=a,ProfileStatusHandler.showInfo("profileIdAutoCorrected",{originalId:q.profile_id,correctedId:a})):(s=ut("CLONE","PROF","001"),ProfileStatusHandler.showWarning("profileIdFallbackGenerated",{id:s})),e.n=2,dt(s);case 2:return l=e.v,c="Clone of "+q.name,e.n=3,it(c);case 3:u=e.v,d=1;case 4:if(!u){e.n=6;break}return d++,c="Clone ".concat(d," of ").concat(q.name),e.n=5,it(c);case 5:u=e.v,e.n=4;break;case 6:p=(new Date).toISOString(),m=f(f({},q),{},{profile_id:l,name:c,created_date:p,last_modified_date:p,author:N.CURRENT_USER}),lr(),Qt(m),Ie(m),Re(m),Xt("clone"),Y=Jt(),Q=Y,G=!1,nr("cloneMode",""),ProfileStatusHandler.showSuccess("profileCloneSuccess"),e.n=8;break;case 7:e.p=7,e.v,(g=ProfileErrorHandler).showError.apply(g,h(ProfileErrorCodes.PROFILE_CLONE_ERROR));case 8:return e.p=8,r.disabled=!1,n.classList.remove("hide"),i.classList.add("hide"),e.f(8);case 9:return e.a(2)}},e,null,[[1,7,8,9]])}))).apply(this,arguments)}function Xe(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=b(y().m(function e(t){var r,n,i;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=D.getQuery("GET_INSTANCE_COUNT"),e.n=1,D.executeRead(r,{profileId:t},null,!0);case 1:return n=e.v,e.a(2,n?n.instanceCount:0);case 2:return e.p=2,e.v,(i=ProfileErrorHandler).showError.apply(i,h(ProfileErrorCodes.INSTANCE_COUNT_ERROR)),e.a(2,0)}},e,null,[[0,2]])}))).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=b(y().m(function e(t){var r;return y().w(function(e){for(;;)switch(e.n){case 0:return r=D.getQuery("LOAD_PROFILE"),e.n=1,D.executeRead(r,{profileId:t},null,!0);case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function rt(e){return nt.apply(this,arguments)}function nt(){return(nt=b(y().m(function e(t){var r,n;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=D.getQuery("CHECK_PROFILE_ID_EXISTS"),e.n=1,D.executeRead(r,{profileId:t.trim()},null,!0);case 1:return n=e.v,e.a(2,n?n.exists:0);case 2:throw e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}))).apply(this,arguments)}function it(e){return ot.apply(this,arguments)}function ot(){return(ot=b(y().m(function e(t){var r,n;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=D.getQuery("CHECK_PROFILE_NAME_EXISTS"),e.n=1,D.executeRead(r,{profileName:t.trim()},null,!0);case 1:return n=e.v,e.a(2,n.exists);case 2:return e.p=2,e.v,e.a(2,!1)}},e,null,[[0,2]])}))).apply(this,arguments)}function at(){return(at=b(y().m(function e(t){var r,n,i,o;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=D.getQuery("GET_AUDIT_HISTORY"),e.n=1,D.executeRead(r,{profileId:t});case 1:(n=e.v)&&!Array.isArray(n)&&(n=[n]),i="",0===!n.length?i+='<p data-i18n="noAuditHistory">No audit history available.</p>':(i+='<ul class="audit-list">',n.forEach(function(e){var t,r=e.timestamp;t=("number"==typeof r?new Date(1e3*r):r.toStandardDate?r.toStandardDate():new Date(r.toString())).toISOString();var n=e.changes,o=JSON.parse(n),a=e.user||'<span data-i18n="unknown">Unknown</span>';i+='\n                    <li class="audit-item">\n                        <div class="audit-header">\n                            <span class="audit-timestamp" data-date="'.concat(t,'" data-i18n-date="datetime-short"></span>\n                            <span class="audit-user"><span data-i18n="by">by</span> ').concat(a,'</span>\n                        </div>\n                        <ul class="audit-changes">\n                '),Object.entries(o).forEach(function(e){var t=w(e,2),r=t[0],n=t[1],o=n.old?JSON.stringify(n.old):"N/A",a=JSON.parse(n.new);o=ur(o),a=ur(a),i+="\n                        <li><strong>".concat(r,':</strong> \n                            <span class="old-value">').concat(o,'</span>  \n                            <span class="new-value">').concat(a,"</span>\n                        </li>\n                    ")}),i+="\n                        </ul>\n                    </li>\n                "}),i+="</ul>"),cr("auditHistory",i,{translateTitle:!0}),e.n=3;break;case 2:e.p=2,e.v,(o=ProfileErrorHandler).showError.apply(o,h(ProfileErrorCodes.AUDIT_HISTORY_ERROR));case 3:return e.a(2)}},e,null,[[0,2]])}))).apply(this,arguments)}function st(){return lt.apply(this,arguments)}function lt(){return(lt=b(y().m(function e(){var t,r;return y().w(function(e){for(;;)switch(e.n){case 0:return t=D.getQuery("LOAD_SYSTEM_OPTIONS"),e.n=1,D.executeRead(t,{id:"SYSTEM-OPTIONS"},null,!0);case 1:if(null==(r=e.v)){e.n=2;break}return e.a(2,r);case 2:throw new Error("System options not found");case 3:return e.a(2)}},e)}))).apply(this,arguments)}function ct(e){if(!e)return null;var t=e.split("-");return 4!==t.length?null:"PROFILE"!==t[2]?(t[2]="PROFILE",t.join("-")):/^[A-Z]{3,8}$/.test(t[0])&&/^[A-Z]{3,8}$/.test(t[1])&&/^\d{3}$/.test(t[3])?e:null}function ut(e,t,r){e=e.toUpperCase().slice(0,8).padEnd(3,"X"),t=t.toUpperCase().slice(0,8).padEnd(3,"X");var n=(parseInt(r,10)||1).toString().padStart(3,"0").slice(-3);return"".concat(e,"-").concat(t,"-PROFILE-").concat(n)}function dt(e){return ft.apply(this,arguments)}function ft(){return ft=b(y().m(function e(t){var r,n,i,o,a,s,l,c,u,d,f,p,h,m,g,b,v=arguments;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=v.length>1&&void 0!==v[1]?v[1]:null,e.p=1,4===(n=t.split("-")).length){e.n=2;break}throw new Error("Invalid profile ID format");case 2:i=n[0],o=n[1],a=n[2],parseInt(n[3],10),s="".concat(i,"-").concat(o,"-").concat(a),l=1;case 3:if(!(l<=10)){e.n=8;break}return c=D.getQuery("GET_LATEST_PROFILE"),u={baseId:s},e.n=4,D.executeRead(c,u,r);case 4:return d=e.v,f=l,d&&d.length>0&&d[0].profile_id&&(p=d[0].profile_id,4===(h=p.split("-")).length&&(m=parseInt(h[3],10),f=m+l)),g=f.toString().padStart(3,"0"),b="".concat(s,"-").concat(g),e.n=5,rt(b);case 5:if(e.v){e.n=6;break}return utils.debugLog("Generated unique profile ID: ".concat(b," (attempt ").concat(l,")")),e.a(2,b);case 6:utils.debugLog("Profile ID ".concat(b," already exists, trying next sequence (attempt ").concat(l,")"));case 7:l++,e.n=3;break;case 8:throw new Error("Failed to generate unique profile ID after 10 attempts for base: ".concat(s));case 9:throw e.p=9,e.v;case 10:return e.a(2)}},e,null,[[1,9]])})),ft.apply(this,arguments)}function pt(){return ht.apply(this,arguments)}function ht(){return(ht=b(y().m(function e(){var t,r,n,i,o,a,s,l,c,u,d,f;return y().w(function(e){for(;;)switch(e.n){case 0:if(t=document.querySelector("#generateProfileId"),r=t.querySelector("i"),n=t.querySelector(".spinner"),t.disabled=!0,r.classList.add("hide"),n.classList.remove("hide"),i=document.getElementById("area").value,o=document.getElementById("function").value,a=document.getElementById("version").value,i&&o){e.n=1;break}return(s=ProfileErrorHandler).showError.apply(s,h(ProfileErrorCodes.AREA_FUNCTION_REQUIRED)),t.disabled=!1,r.classList.remove("hide"),n.classList.add("hide"),e.a(2);case 1:if(l=ut(i,o,a),c=ct(l)){e.n=2;break}return(u=ProfileErrorHandler).showError.apply(u,h(ProfileErrorCodes.PROFILE_ID_FORMAT)),t.disabled=!1,r.classList.remove("hide"),n.classList.add("hide"),e.a(2);case 2:return e.n=3,rt(c);case 3:e.v?(d=ProfileErrorHandler).showError.apply(d,h(ProfileErrorCodes.PROFILE_ID_EXISTS).concat([{id:c}])):(document.getElementById("profile_id").value=c,c!==l&&4===(f=c.split("-")).length&&(document.getElementById("version").value=f[3]),ProfileStatusHandler.showSuccess("profileIdAvailable",{id:c})),t.disabled=!1,r.classList.remove("hide"),n.classList.add("hide");case 4:return e.a(2)}},e)}))).apply(this,arguments)}function yt(){var e=document.getElementById("profileIdStatus");e&&(e.style.display="none",e.textContent="")}function mt(e){return gt.apply(this,arguments)}function gt(){return(gt=b(y().m(function e(t){var r;return y().w(function(e){for(;;)switch(e.n){case 0:if(t&&(t.preventDefault(),t.stopPropagation()),!G){e.n=2;break}return e.n=1,mr();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:ir(),Xt("new"),r=(new Date).toISOString(),Qt({profile_id:"",area:"",function:"",version:"001",name:"New Profile",active:!0,created_date:r,last_modified_date:r,author:N.CURRENT_USER}),nr("newProfileMode",""),ProfileStatusHandler.showSuccess("createNewInstructions");case 3:return e.a(2)}},e)}))).apply(this,arguments)}function bt(e){return vt.apply(this,arguments)}function vt(){return(vt=b(y().m(function e(t){var r,n,i,o,a;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:r=[],n=c(t),e.p=1,o=y().m(function e(){var t,n,o,a,s,l,c,u,d,p,h,m,g;return y().w(function(e){for(;;)switch(e.n){case 0:for(t=i.value,n=f({},t),(o=t.profile_id)?(c=ct(o))?c!==o&&(o=c,utils.debugLog('Profile ID was auto-corrected from "'.concat(t.profile_id,'" to "').concat(c,'"'))):(u=t.name?t.name.toUpperCase().split(/\s+/).slice(0,2):["IMPORT","PROF"],d=u[0]||"IMPORT",p=u[1]||"PROF",o=ut(d,p,"001"),utils.debugLog('Profile ID "'.concat(t.profile_id,'" was malformed and could not be fixed. Generated new ID: ').concat(o))):(a=t.name?t.name.toUpperCase().split(/\s+/).slice(0,2):["IMPORT","PROF"],s=a[0]||"IMPORT",l=a[1]||"PROF",o=ut(s,l,"001"),utils.debugLog('Profile ID was missing for "'.concat(t.name,'". Generated ID: ').concat(o))),h=o,m=1;r.some(function(e){return e.profile_id===h});)4===(g=o.split("-")).length?(m++,g[3]=m.toString().padStart(3,"0"),h=g.join("-")):(h="".concat(o,"-").concat(m.toString().padStart(3,"0")),m++);h!==t.profile_id&&utils.debugLog('Profile ID corrected from "'.concat(t.profile_id,'" to "').concat(h,'" for "').concat(t.name,'"')),n.profile_id=h,r.push(n);case 1:return e.a(2)}},e)}),n.s();case 2:if((i=n.n()).done){e.n=4;break}return e.d(l(o()),3);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,a=e.v,n.e(a);case 6:return e.p=6,n.f(),e.f(6);case 7:return e.a(2,r)}},e,null,[[1,5,6,7]])}))).apply(this,arguments)}function wt(e,t){return _t.apply(this,arguments)}function _t(){return(_t=b(y().m(function e(t,r){var n,i;return y().w(function(e){for(;;)switch(e.n){case 0:return n=r[t.profile_id]||"import",e.n=1,It(t,n);case 1:i=e.v,ir(),Qt(i),Ie(i),Re(i),Xt("import"),nr("importMode",""),"import_new"===n?'Profile loaded with new ID "'.concat(i.profile_id,'" and name "').concat(i.name,'". Click Save to complete import.'):'Profile "'.concat(i.name,"overwrite"===n?'" loaded for overwrite. Click Save to complete import.':'" loaded into form for review. Click Save to complete import.'),ProfileStatusHandler.showInfo("profileImportReview",{profileName:i.name});case 2:return e.a(2)}},e)}))).apply(this,arguments)}function Et(){return St.apply(this,arguments)}function St(){return St=b(y().m(function e(){var t;return y().w(function(e){for(;;)switch(e.n){case 0:utils.debugLog("Upload profile function called"),(t=document.createElement("input")).type="file",t.accept="application/json",t.multiple=!0,t.onchange=function(){var e=b(y().m(function e(t){var r,n,i,o,a,s,u,d,f,p,m,g,b,v,w,_,E,S,T,I,A,O,x,R,k;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:r=document.querySelector("#import_profile"),n=r.querySelector(".icon-xl"),i=r.querySelector(".spinner"),r.disabled=!0,n.classList.add("hide"),i.classList.remove("hide"),o=Array.from(t.target.files),a=[],new Map,s=[],e.p=1,u=y().m(function e(){var t,r,n,i,o;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=f[d],e.p=1,e.n=2,Tt(t);case 2:r=e.v,n=JSON.parse(r),(i=Array.isArray(n)?n:[n]).forEach(function(e){e._sourceFileName=t.name,a.push(e)}),utils.debugLog("Processed file ".concat(t.name,": ").concat(i.length," profiles")),e.n=4;break;case 3:e.p=3,o=e.v,s.push({fileName:t.name,error:o.message});case 4:return e.a(2)}},e,null,[[1,3]])}),d=0,f=o;case 2:if(!(d<f.length)){e.n=4;break}return e.d(l(u()),3);case 3:d++,e.n=2;break;case 4:if(0!==a.length){e.n=5;break}return s.length>0&&(p=ProfileErrorHandler).showError.apply(p,h(ProfileErrorCodes.JSON_PARSE_ERROR)),e.a(2);case 5:if(!(a.length>999)){e.n=6;break}return(m=ProfileErrorHandler).showError.apply(m,h(ProfileErrorCodes.IMPORT_LIMIT_EXCEEDED).concat([{count:a.length}])),e.a(2);case 6:return utils.debugLog("Total profiles collected from all files: ".concat(a.length)),s.length>0&&utils.debugLog("Files with errors: ".concat(s.map(function(e){return e.fileName}).join(", "))),e.n=7,bt(a);case 7:g=e.v,b=new Set,v=new Map,w=c(g),e.p=8,w.s();case 9:if((_=w.n()).done){e.n=12;break}if(E=_.value,!b.has(E.profile_id)){e.n=10;break}return T=v.get(E.profile_id),I=E._sourceFileName||"unknown file",(S=ProfileErrorHandler).showError.apply(S,h(ProfileErrorCodes.DUPLICATE_PROFILE_ID_ACROSS_FILES).concat([{profileId:E.profile_id,firstFile:T,currentFile:I}])),e.a(2);case 10:b.add(E.profile_id),v.set(E.profile_id,E._sourceFileName||"unknown file");case 11:e.n=9;break;case 12:e.n=14;break;case 13:e.p=13,k=e.v,w.e(k);case 14:return e.p=14,w.f(),e.f(14);case 15:return e.n=16,zt(g);case 16:if(A=e.v,O=g,x={},!(A.length>0)){e.n=19;break}return e.n=17,Ut(g,A,1===g.length);case 17:if("cancelled"!==e.v){e.n=18;break}return ProfileStatusHandler.showSuccess("importCancelled"),e.a(2);case 18:x=g.reduce(function(e,t){return e[t.profile_id]=t._importAction||"import",e},{}),O=g.filter(function(e){return"keep"!==(e._importAction||"import")});case 19:if(0!==O.length){e.n=20;break}return ProfileStatusHandler.showSuccess("importCancelledKeepingCurrent"),e.a(2);case 20:if(1!==O.length){e.n=22;break}return e.n=21,wt(O[0],x);case 21:e.n=23;break;case 22:return e.n=23,Ot(O);case 23:e.n=25;break;case 24:e.p=24,e.v,(R=ProfileErrorHandler).showError.apply(R,h(ProfileErrorCodes.JSON_PARSE_ERROR));case 25:return e.p=25,r.disabled=!1,n.classList.remove("hide"),i.classList.add("hide"),e.f(25);case 26:return e.a(2)}},e,null,[[8,13,14,15],[1,24,25,26]])}));return function(t){return e.apply(this,arguments)}}(),t.click();case 1:return e.a(2)}},e)})),St.apply(this,arguments)}function Tt(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(e){return t(e.target.result)},n.onerror=function(e){return r(e)},n.readAsText(e)})}function It(e,t){return At.apply(this,arguments)}function At(){return(At=b(y().m(function e(t,r){var n,i,o,a,s,l,c,u,d,p,h,m,g;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(utils.debugLog('Preparing profile for form: "'.concat(t.name,'" with choice: ').concat(r)),delete(n=f({},t))._importAction,delete n._idExists,delete n._nameExists,delete n._sourceFileName,"import_new"!==r){e.n=14;break}if(e.p=1,!n.profile_id){e.n=5;break}if(!(o=ct(n.profile_id))){e.n=3;break}return e.n=2,dt(o);case 2:i=e.v,e.n=4;break;case 3:throw new Error("Invalid source profile ID");case 4:e.n=6;break;case 5:throw new Error("No source profile ID");case 6:e.n=9;break;case 7:return e.p=7,e.v,a=n.name?n.name.toUpperCase().split(/\s+/).slice(0,2):["IMPORT","PROF"],s=a[0]||"IMPORT",l=a[1]||"PROF",c=ut(s,l,"001"),e.n=8,dt(c);case 8:i=e.v;case 9:return u="".concat(n.name," (Import)"),e.n=10,it(u);case 10:d=e.v,p=1;case 11:if(!d){e.n=13;break}return p++,m=(null===(h=window.i18n)||void 0===h?void 0:h.translate("importCounter",{counter:p}))||"Import ".concat(p," of"),u="".concat(m," ").concat(n.name),e.n=12,it(u);case 12:d=e.v,e.n=11;break;case 13:n.profile_id=i,n.name=u,g=(new Date).toISOString(),n.created_date=g,n.last_modified_date=g,utils.debugLog("Generated new ID: ".concat(i," and name: ").concat(u," for import"));case 14:return n.selected_tools&&!n.allowed_tools&&(n.allowed_tools=n.selected_tools,delete n.selected_tools),n.selected_actions&&!n.allowed_actions&&(n.allowed_actions=n.selected_actions,delete n.selected_actions),e.a(2,n)}},e,null,[[1,7]])}))).apply(this,arguments)}function Ot(e){return xt.apply(this,arguments)}function xt(){return(xt=b(y().m(function e(t){var r,n,i,o,a,s,l,c,u,d,f,p,m;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:utils.debugLog("Starting bulk import of ".concat(t.length," profiles")),r=[],n=0,i=0,o=t.length,a=0;case 1:if(!(a<t.length)){e.n=13;break}s=t[a],c={currentIndex:l=a+1,totalCount:o},e.p=2,utils.debugLog("Processing profile ".concat(l,"/").concat(o,': "').concat(s.name,'" (ID: ').concat(s.profile_id,")")),u=s._importAction||"import",d=!1,p=u,e.n="keep"===p?3:"import_new"===p?4:"overwrite"===p?6:8;break;case 3:return utils.debugLog('Skipping profile "'.concat(s.name,"\" due to 'keep' action")),r.push({profile:s.name,profileId:s.profile_id,status:"skipped",reason:"keep_existing"}),e.a(3,12);case 4:return e.n=5,Dt(s,!1,!0,c);case 5:return d=e.v,e.a(3,10);case 6:return e.n=7,Pt(s,!1,!0,c);case 7:return d=e.v,e.a(3,10);case 8:return e.n=9,Rt(s,!1,!0,c);case 9:return d=e.v,e.a(3,10);case 10:d?(n++,r.push({profile:s.name,profileId:s.profile_id,status:"success",action:u})):(i++,r.push({profile:s.name,profileId:s.profile_id,status:"error",action:u,reason:"save_failed"})),e.n=12;break;case 11:e.p=11,m=e.v,i++,r.push({profile:s.name,profileId:s.profile_id,status:"error",error:m.message,action:s._importAction||"import"});case 12:a++,e.n=1;break;case 13:return utils.debugLog("Bulk import completed. Success: ".concat(n,", Errors: ").concat(i)),e.n=14,Be();case 14:return n>0&&0===i?ProfileStatusHandler.showSuccess("bulkImportAllSuccess",{count:n}):n>0&&i>0?ProfileStatusHandler.showWarning("bulkImportPartialSuccess",{successCount:n,errorCount:i}):0===n&&i>0&&(f=ProfileErrorHandler).showError.apply(f,h(ProfileErrorCodes.BULK_IMPORT_ALL_FAILED).concat([{count:i}])),e.a(2,r)}},e,null,[[2,11]])}))).apply(this,arguments)}function Rt(e,t){return kt.apply(this,arguments)}function kt(){return kt=b(y().m(function e(t,r){var n,i,o=arguments;return y().w(function(e){for(;;)switch(e.n){case 0:return n=o.length>2&&void 0!==o[2]&&o[2],i=o.length>3&&void 0!==o[3]?o[3]:null,utils.debugLog('Importing new profile: "'.concat(t.name,'"')),e.n=1,Nt(t,!1,r,n,i);case 1:return e.a(2,e.v)}},e)})),kt.apply(this,arguments)}function Pt(e,t){return Lt.apply(this,arguments)}function Lt(){return Lt=b(y().m(function e(t,r){var n,i,o,a,s=arguments;return y().w(function(e){for(;;)switch(e.n){case 0:if(n=s.length>2&&void 0!==s[2]&&s[2],i=s.length>3&&void 0!==s[3]?s[3]:null,o=!1,!t._idExists){e.n=1;break}utils.debugLog('Updating existing profile by ID: "'.concat(t.profile_id,'"')),o=!0,e.n=3;break;case 1:if(!t._nameExists){e.n=3;break}return utils.debugLog('Deleting existing profile by name: "'.concat(t.name,'"')),a=D.getQuery("DELETE_PROFILE_BY_NAME"),e.n=2,D.executeWrite(a,{profileName:t.name});case 2:o=!1;case 3:return e.n=4,Nt(t,o,r,n,i);case 4:return e.a(2,e.v)}},e)})),Lt.apply(this,arguments)}function Nt(e,t,r){return Ct.apply(this,arguments)}function Ct(){return Ct=b(y().m(function e(t,r,n){var i,o,a,s,l,c,u,d=arguments;return y().w(function(e){for(;;)switch(e.n){case 0:return i=d.length>3&&void 0!==d[3]&&d[3],o=d.length>4&&void 0!==d[4]?d[4]:null,a={},r&&(a.import_operation={old:"existing_version",new:"imported_version"}),i&&o&&(a.bulk_import_operation={old:null,new:"bulk_import_".concat(o.currentIndex,"_of_").concat(o.totalCount)},t._sourceFileName&&(a.import_source_file={old:null,new:t._sourceFileName})),(s=ee(t)).author=N.CURRENT_USER,l=(new Date).toISOString(),r||(s.created_date=l),s.last_modified_date=l,e.n=1,qe({profileData:s,skipValidation:!1,isImportOperation:!0,isBulkOperation:i,auditContext:Object.keys(a).length>0?a:null,updateUI:n&&!i,suppressMessages:i});case 1:return(c=e.v)&&n&&!i&&(u=r?"updated":"imported",ProfileStatusHandler.showSuccess("profileImportSuccess",{profileName:t.name,action:u})),e.a(2,c)}},e)})),Ct.apply(this,arguments)}function Dt(e,t){return jt.apply(this,arguments)}function jt(){return jt=b(y().m(function e(t,r){var n,i,o,a,s,l,c,u,d,f,p,h,m,g=arguments;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=g.length>2&&void 0!==g[2]&&g[2],i=g.length>3&&void 0!==g[3]?g[3]:null,utils.debugLog('Creating new profile for "'.concat(t.name,'"')),e.p=1,!t.profile_id){e.n=5;break}if(!(a=ct(t.profile_id))){e.n=3;break}return e.n=2,dt(a);case 2:o=e.v,e.n=4;break;case 3:throw new Error("Invalid source profile ID");case 4:e.n=6;break;case 5:throw new Error("No source profile ID");case 6:e.n=9;break;case 7:return e.p=7,e.v,s=t.name?t.name.toUpperCase().split(/\s+/).slice(0,2):["IMPORT","PROF"],l=s[0]||"IMPORT",c=s[1]||"PROF",u=ut(l,c,"001"),e.n=8,dt(u);case 8:o=e.v;case 9:return d="".concat(t.name," (Import)"),e.n=10,it(d);case 10:f=e.v,p=1;case 11:if(!f){e.n=13;break}return p++,m=(null===(h=window.i18n)||void 0===h?void 0:h.translate("importCounter",{counter:p}))||"Import ".concat(p," of"),d="".concat(m," ").concat(t.name),e.n=12,it(d);case 12:f=e.v,e.n=11;break;case 13:return t.profile_id=o,t.name=d,r&&!n&&ProfileStatusHandler.showInfo("profileRenamedWithNewId",{newName:d,newProfileId:o}),e.n=14,Nt(t,!1,r,n,i);case 14:return e.a(2,e.v)}},e,null,[[1,7]])})),jt.apply(this,arguments)}function zt(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=b(y().m(function e(t){var r,n,i,o,a;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:r=[],n=c(t),e.p=1,n.s();case 2:if((i=n.n()).done){e.n=14;break}if((o=i.value)._idExists=!1,o._nameExists=!1,o._existingData=null,!o.profile_id){e.n=8;break}return e.p=3,e.n=4,rt(o.profile_id);case 4:if(o._idExists=e.v,!o._idExists){e.n=6;break}return e.n=5,et(o.profile_id);case 5:o._existingData=e.v;case 6:e.n=8;break;case 7:e.p=7,e.v;case 8:if(!o.name||o._idExists&&o._existingData&&o._existingData.name===o.name){e.n=12;break}return e.p=9,e.n=10,it(o.name);case 10:o._nameExists=e.v,e.n=12;break;case 11:e.p=11,e.v;case 12:(o._idExists||o._nameExists)&&r.push({profile_id:o.profile_id,name:o.name,action:"overwrite",_idExists:o._idExists,_nameExists:o._nameExists});case 13:e.n=2;break;case 14:e.n=16;break;case 15:e.p=15,a=e.v,n.e(a);case 16:return e.p=16,n.f(),e.f(16);case 17:return e.a(2,r)}},e,null,[[9,11],[3,7],[1,15,16,17]])}))).apply(this,arguments)}function Ut(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(n){var i=document.getElementById("existing-profiles-dialog");if(i){var o=i.querySelector(".existing-profiles-tbody");if(o){o.innerHTML=t.map(function(e){var t,r,n=[];e._idExists&&n.push((null===(t=window.i18n)||void 0===t?void 0:t.translate("idAlreadyExists"))||"ID already exists");e._nameExists&&n.push((null===(r=window.i18n)||void 0===r?void 0:r.translate("nameAlreadyExists"))||"Name already exists");var i=n.join(", ");return'\n                <tr data-profile-id="'.concat(e.profile_id,'">\n                    <td class="profile-name">').concat(e.name,'</td>\n                    <td class="profile-id">').concat(e.profile_id,'</td>\n                    <td class="conflict-types">').concat(i,'</td>\n                    <td class="action-dropdown">\n                        <div class="custom-dropdown">\n                            <div class="dropdown-selected" data-value="overwrite">\n                                <span data-i18n="overwriteWithImported">Overwrite with imported version</span>\n                                <i class="fa-solid fa-chevron-down dropdown-arrow"></i>\n                            </div>\n                            <div class="dropdown-options" style="display: none;">\n                                <label class="dropdown-option">\n                                    <input type="radio" name="profile-choice-').concat(e.profile_id,'" value="keep">\n                                    <span data-i18n="keepCurrent">Keep current version</span>\n                                </label>\n                                <label class="dropdown-option">\n                                    <input type="radio" name="profile-choice-').concat(e.profile_id,'" value="overwrite" checked>\n                                    <span data-i18n="overwriteWithImported">Overwrite with imported version</span>\n                                </label>\n                                <label class="dropdown-option">\n                                    <input type="radio" name="profile-choice-').concat(e.profile_id,'" value="import_new">\n                                    <span data-i18n="importWithNewIdName">Import with new ID and name</span>\n                                </label>\n                            </div>\n                        </div>\n                    </td>\n                </tr>\n            ')}).join(""),i.style.display="flex",function(e){e.querySelectorAll(".custom-dropdown").forEach(function(t){var r=t.querySelector(".dropdown-selected"),n=t.querySelector(".dropdown-options"),i=t.querySelectorAll('input[type="radio"]');r.addEventListener("click",function(t){t.stopPropagation(),e.querySelectorAll(".dropdown-selected").forEach(function(e){e!==r&&(e.classList.remove("open"),e.parentNode.querySelector(".dropdown-options").style.display="none")}),r.classList.toggle("open"),n.style.display="none"===n.style.display?"block":"none"}),i.forEach(function(t){t.addEventListener("change",function(){if(t.checked){var i,o=r.querySelector("span");if("overwrite"===t.value)o.setAttribute("data-i18n","overwriteWithImported"),o.textContent=(null===(i=window.i18n)||void 0===i?void 0:i.translate("overwriteWithImported"))||"Overwrite with imported version";else if("keep"===t.value){var a;o.setAttribute("data-i18n","keepCurrent"),o.textContent=(null===(a=window.i18n)||void 0===a?void 0:a.translate("keepCurrent"))||"Keep current version"}else if("import_new"===t.value){var s;o.setAttribute("data-i18n","importWithNewIdName"),o.textContent=(null===(s=window.i18n)||void 0===s?void 0:s.translate("importWithNewIdName"))||"Import with new ID and name"}r.setAttribute("data-value",t.value),r.classList.remove("open"),n.style.display="none";var l=e.querySelector(".overwrite-warning"),c=e.querySelector('input[value="overwrite"]:checked');l.style.display=c?"block":"none"}})})}),document.addEventListener("click",function(t){t.target.closest(".custom-dropdown")||e.querySelectorAll(".dropdown-selected").forEach(function(e){e.classList.remove("open"),e.parentNode.querySelector(".dropdown-options").style.display="none"})})}(i);var a=function(){var e=i.querySelector(".overwrite-warning"),t=i.querySelector('input[value="overwrite"]:checked');e.style.display=t?"block":"none"},s=i.querySelector(".set-all-overwrite"),l=i.querySelector(".set-all-keep"),c=i.querySelector(".set-all-create-new"),u=i.querySelector(".confirm-button"),d=i.querySelector(".cancel-button"),f=i.querySelector(".modal-close");if(r){var p=i.querySelector(".bulk-actions");p&&(p.style.display="none")}else{var h=i.querySelector(".bulk-actions");h&&(h.style.display="block")}var m=function(){i.querySelectorAll('input[value="overwrite"]').forEach(function(e){e.checked=!0,e.dispatchEvent(new Event("change"))}),a()},g=function(){i.querySelectorAll('input[value="keep"]').forEach(function(e){e.checked=!0,e.dispatchEvent(new Event("change"))}),a()},v=function(){i.querySelectorAll('input[value="import_new"]').forEach(function(e){e.checked=!0,e.dispatchEvent(new Event("change"))}),a()},w=function(){var r=b(y().m(function r(){return y().w(function(r){for(;;)switch(r.n){case 0:i.querySelectorAll("tr[data-profile-id]").forEach(function(r){var n=r.getAttribute("data-profile-id"),i=r.querySelector('input[type="radio"]:checked');if(i){var o=e.find(function(e){return e.profile_id===n}),a=t.find(function(e){return e.profile_id===n});o&&a&&(o._importAction=i.value,o._idExists=a._idExists,o._nameExists=a._nameExists,utils.debugLog('Set import action for "'.concat(o.name,'": ').concat(o._importAction)))}}),i.style.display="none",E(),n();case 1:return r.a(2)}},r)}));return function(){return r.apply(this,arguments)}}(),_=function(){i.style.display="none",E(),n("cancelled")},E=function(){s&&!r&&s.removeEventListener("click",m),l&&!r&&l.removeEventListener("click",g),c&&!r&&c.removeEventListener("click",v),u.removeEventListener("click",w),d.removeEventListener("click",_),f.removeEventListener("click",_)};s&&!r&&s.addEventListener("click",m),l&&!r&&l.addEventListener("click",g),c&&!r&&c.addEventListener("click",v),u.addEventListener("click",w),d.addEventListener("click",_),f.addEventListener("click",_),a()}else n()}else n()})}function Bt(){return Ft.apply(this,arguments)}function Ft(){return(Ft=b(y().m(function e(){var t,r,n,i,o,a,s,l,c,u,d,f,p,m,g;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=document.querySelector("#export_profile"),r=t.querySelector(".icon-xl"),n=t.querySelector(".spinner"),t.disabled=!0,r.classList.add("hide"),n.classList.remove("hide"),0!==(i=Array.from(document.querySelectorAll(".profile-item .profile-checkbox:checked")).map(function(e){return e.value})).length){e.n=2;break}if(o=I.querySelector(".profile-item.active")){e.n=1;break}return(a=ProfileErrorHandler).showError.apply(a,h(ProfileErrorCodes.SELECT_PROFILE_TO_EXPORT)),t.disabled=!1,r.classList.remove("hide"),n.classList.add("hide"),e.a(2);case 1:i.push(o.dataset.profileId);case 2:return e.p=2,e.n=3,$t(i);case 3:(s=e.v)&&s.length>0?(l=s.find(function(e){return e.profile_id===i[0]})||s[0],1===s.length?c="".concat(l.name||l.profile_id,".json"):(u=l.name||l.profile_id,d=s.length-1,c="".concat(u," and ").concat(d," others.json")),f="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(s,null,2)),(p=document.createElement("a")).setAttribute("href",f),p.setAttribute("download",c),document.body.appendChild(p),p.click(),p.remove(),1===s.length?ProfileStatusHandler.showSuccess("profileExportSuccess"):ProfileStatusHandler.showSuccess("bulkProfileExportSuccess",{count:s.length})):(m=ProfileErrorHandler).showError.apply(m,h(ProfileErrorCodes.PROFILE_EXPORT_ERROR)),e.n=5;break;case 4:e.p=4,e.v,(g=ProfileErrorHandler).showError.apply(g,h(ProfileErrorCodes.PROFILE_EXPORT_ERROR));case 5:return e.p=5,t.disabled=!1,r.classList.remove("hide"),n.classList.add("hide"),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))).apply(this,arguments)}function $t(e){return Wt.apply(this,arguments)}function Wt(){return Wt=b(y().m(function e(t){var r,n,i,o,a,s,l,u=arguments;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:r=u.length>1&&void 0!==u[1]?u[1]:new Set,n=[],i=c(t),e.p=1,i.s();case 2:if((o=i.n()).done){e.n=6;break}if(a=o.value,!r.has(a)){e.n=3;break}return e.a(3,5);case 3:return e.n=4,Vt(a,r);case 4:(s=e.v)&&n.push(s);case 5:e.n=2;break;case 6:e.n=8;break;case 7:e.p=7,l=e.v,i.e(l);case 8:return e.p=8,i.f(),e.f(8);case 9:return e.a(2,n)}},e,null,[[1,7,8,9]])})),Wt.apply(this,arguments)}function Vt(e,t){return Ht.apply(this,arguments)}function Ht(){return(Ht=b(y().m(function e(t,r){var n,i;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r.add(t),e.n=1,qt(t);case 1:if(!(n=e.v)){e.n=2;break}return delete(i=f({},n)).lastAuditTimestamp,e.a(2,i);case 2:return e.a(2,null);case 3:return e.p=3,e.v,e.a(2,null)}},e,null,[[0,3]])}))).apply(this,arguments)}function qt(e){return Gt.apply(this,arguments)}function Gt(){return(Gt=b(y().m(function e(t){var r;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=D.getQuery("GET_PROFILE_FOR_EXPORT"),e.n=1,D.executeRead(r,{profileId:t},null,!0);case 1:return e.a(2,e.v);case 2:throw e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}))).apply(this,arguments)}function Yt(e){var t=[];if(e.profile_id){var r=ct(e.profile_id);r?r!==e.profile_id&&(e.profile_id=r):t.push("PROFILE_ID_FORMAT")}else t.push("PROFILE_ID_REQUIRED");e.name&&"string"==typeof e.name&&""!==e.name.trim()||t.push("NAME_REQUIRED"),e.model_provider||t.push("MODEL_PROVIDER_REQUIRED"),e.model_name||t.push("MODEL_NAME_REQUIRED"),e.max_tokens||t.push("MAX_TOKENS_REQUIRED"),e.experience||t.push("EXPERIENCE_REQUIRED"),e.system_prompt||t.push("SYSTEM_PROMPT_REQUIRED"),e.category||t.push("CATEGORY_REQUIRED");var n=e.memory_parameters?JSON.parse(e.memory_parameters):null;null!=n&&n.reflection_importance_threshold||t.push("REFLECTION_THRESHOLD_REQUIRED"),null!=n&&n.memory_decay_factor||t.push("MEMORY_DECAY_REQUIRED"),null!=n&&n.max_recent_memories||t.push("MAX_MEMORIES_REQUIRED");var i=me(e.observation_prompt||""),o=S.reserved_fields_observation.filter(function(e){return!i.includes(e)}),a=i.filter(function(e){return!S.reserved_fields_observation.includes(e)});o.length>0&&t.push({code:"MISSING_OBSERVATION_FIELDS",params:{fields:o.join(", ")}}),a.length>0&&t.push({code:"EXTRA_OBSERVATION_FIELDS",params:{fields:a.join(", ")}});var s=me(e.reflection_prompt||""),l=S.reserved_fields_reflection.filter(function(e){return!s.includes(e)}),c=s.filter(function(e){return!S.reserved_fields_reflection.includes(e)});return l.length>0&&t.push({code:"MISSING_REFLECTION_FIELDS",params:{fields:l.join(", ")}}),c.length>0&&t.push({code:"EXTRA_REFLECTION_FIELDS",params:{fields:c.join(", ")}}),e.use_general_rag&&(e.rag_collection_name||t.push("RAG_COLLECTION_REQUIRED"),e.rag_top_k||t.push("RAG_TOP_K_REQUIRED"),e.rag_vector_size||t.push("RAG_VECTOR_SIZE_REQUIRED")),t}function Qt(e){_e(),ir(!1),utils.debugLog("Setting form data:",e);var t,r,n="string"==typeof e?JSON.parse(e):e;if(t=n,n=Object.entries(t).reduce(function(e,t){var r=w(t,2),n=r[0],i=r[1];if("string"==typeof i&&(i.startsWith("{")||i.startsWith("[")))try{e[n]=JSON.parse(i)}catch(t){e[n]=i}else e[n]=i;return e},{}),Object.keys(n).forEach(function(e){var t=document.getElementById(e);t&&("checkbox"===t.type?t.checked=!0===n[e]:t.value=n[e])}),e.profile_id){var i=e.profile_id.split("-");4===i.length&&(document.getElementById("area").value=i[0],document.getElementById("function").value=i[1],document.getElementById("version").value=i[3])}if(n.memory_parameters&&(r=n.memory_parameters)&&(document.getElementById("reflection_importance_threshold").value=r.reflection_importance_threshold,document.getElementById("memory_decay_factor").value=r.memory_decay_factor,document.getElementById("max_recent_memories").value=r.max_recent_memories,document.getElementById("memory_cache_cleanup_minutes").value=r.memory_cache_cleanup_minutes,document.getElementById("memory_cache_max_age_minutes").value=r.memory_cache_max_age_minutes),n.decision_parameters&&function(e){e&&(document.getElementById("planning_cycle_interval_minutes").value=e.planning_cycle_interval_minutes)}(n.decision_parameters),n.skills&&x.setTags(te(n.skills)),n.deontic_rules&&R.setTags(te(n.deontic_rules)),n.organizational_rules&&k.setTags(te(n.organizational_rules)),n.allowed_planning_method&&P.setTags(te(n.allowed_planning_method)),e.observation_prompt&&(document.getElementById("observation_prompt").value=e.observation_prompt),e.reflection_prompt&&(document.getElementById("reflection_prompt").value=e.reflection_prompt),e.rag_collection_name&&(document.getElementById("rag_collection_name").value=e.rag_collection_name),e.rag_top_k&&(document.getElementById("rag_top_k").value=e.rag_top_k),e.rag_vector_size&&(document.getElementById("rag_vector_size").value=e.rag_vector_size),void 0!==e.use_general_rag&&(document.getElementById("use_general_rag").value=e.use_general_rag.toString()),e.created_date){var o=document.getElementById("created_date");o.setAttribute("data-date",e.created_date),o.setAttribute("data-i18n-date","datetime-medium"),o.textContent=""}if(e.last_modified_date){var a=document.getElementById("last_modified_date");a.setAttribute("data-date",e.last_modified_date),a.setAttribute("data-i18n-date","datetime-medium"),a.textContent=""}if(e.author){var s=document.getElementById("author");s.value=e.author,s.setAttribute("readonly","readonly")}e.category&&(document.getElementById("category").value=e.category),e.tags&&L.setTags(te(e.tags)),document.querySelectorAll(".tag-input input").forEach(function(e){e.setAttribute("data-i18n-placeholder","add"),e.setAttribute("data-i18n-aria-label","add")}),Y=f({},q),G=!1,we(),utils.debugLog("Form data set complete")}function Jt(){var e=new FormData(T),t=Object.fromEntries(e.entries());t.active=document.getElementById("active").checked,t.skills=x.getTags(),t.deontic_rules=R.getTags(),t.organizational_rules=k.getTags(),t.allowed_planning_method=P.getTags(),t.allowed_tools=Array.from(document.querySelectorAll(".tool-checkbox:checked")).map(function(e){return{name:e.value}}),t.allowed_actions=Array.from(document.querySelectorAll(".action-checkbox:checked")).map(function(e){return{name:e.value}}),delete t.area,delete t.function,delete t.version,t.memory_parameters={reflection_importance_threshold:parseFloat(document.getElementById("reflection_importance_threshold").value),memory_decay_factor:parseFloat(document.getElementById("memory_decay_factor").value),max_recent_memories:parseInt(document.getElementById("max_recent_memories").value),memory_cache_cleanup_minutes:parseInt(document.getElementById("memory_cache_cleanup_minutes").value),memory_cache_max_age_minutes:parseInt(document.getElementById("memory_cache_max_age_minutes").value)},t.decision_parameters={planning_cycle_interval_minutes:parseInt(document.getElementById("planning_cycle_interval_minutes").value)},t.observation_importance_threshold||delete t.observation_importance_threshold,delete t.reflection_importance_threshold,delete t.memory_decay_factor,delete t.max_recent_memories,delete t.risk_tolerance,delete t.innovation_factor,delete t.collaboration_preference,delete t.planning_cycle_interval_minutes,delete t.preferred_communication_style,delete t.information_sharing_willingness,delete t.query_response_detail_level,delete t.memory_cache_cleanup_minutes,delete t.memory_cache_max_age_minutes,t.use_general_rag="true"===t.use_general_rag,t.max_tokens=parseInt(document.getElementById("max_tokens").value,10),t.model_provider=document.getElementById("model_provider").value,t.model_name=document.getElementById("model_name").value,t.rag_top_k=parseInt(t.rag_top_k,10),t.rag_vector_size=parseInt(t.rag_vector_size,10),t.observation_prompt=document.getElementById("observation_prompt").value,t.reflection_prompt=document.getElementById("reflection_prompt").value,t.tags=L.getTags(),t.category=document.getElementById("category").value.trim()||"General",t.name=(t.name||"").trim(),t.author=N.CURRENT_USER;var r=(new Date).toISOString(),n=document.getElementById("created_date").getAttribute("data-date");return t.created_date=n?new Date(n).toISOString():r,t.last_modified_date=r,ee(t)}function Kt(e,t){var r={};for(var n in t)e&&JSON.stringify(e[n])===JSON.stringify(t[n])||(r[n]={old:e?JSON.stringify(e[n]):null,new:JSON.stringify(t[n])});return r}function Xt(e){J=e;var t=document.querySelector(".profile-editor");t.classList.remove("view-mode","edit-mode","new-mode","clone-mode","import-mode"),t.classList.add("".concat(e,"-mode"));var r=document.getElementById("generateProfileId"),n=document.getElementById("area"),i=document.getElementById("function"),o=document.getElementById("version"),a=document.getElementById("profile_id"),s="new"===e||"clone"===e||"import"===e;r.disabled=!s,n.readOnly=!s,i.readOnly=!s,o.readOnly=!s,G=s||"import"===e,a.readOnly=!0,G=s,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.getElementById("new_profile"),n=document.getElementById("save_profile"),i=document.getElementById("clone_profile"),o=document.getElementById("import_profile"),a=document.getElementById("export_profile"),s=document.getElementById("cancel_profile");switch(o.disabled=!1,n.style.display="none",s.style.display="none",r.style.display="flex",e){case"view":r.style.display="flex",r.disabled=!1,i.disabled=!t,a.disabled=!0;break;case"edit":r.style.display="none",n.style.display="flex",s.style.display="flex",i.disabled=!1,a.disabled=!1;break;case"clone":case"new":case"import":r.style.display="none",n.style.display="flex",s.style.display="flex",i.disabled=!0,a.disabled=!0}}(e,"edit"===e||"clone"===e),yt()}function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.getElementById(e);if(!n)return null;var i=te(t);function o(){if(n.innerHTML="",i.forEach(function(e){var t=document.createElement("span");if(t.classList.add("tag"),t.textContent=e,!r){var a=document.createElement("button");a.textContent="",a.setAttribute("data-i18n-aria-label","remove"),a.setAttribute("data-i18n-params",JSON.stringify({item:e})),a.onclick=function(){i=i.filter(function(t){return t!==e}),o()},t.appendChild(a)}n.appendChild(t)}),!r){var t=document.createElement("input");t.type="text",t.setAttribute("data-i18n-placeholder","add"),t.setAttribute("data-i18n-aria-label","addNew"),t.setAttribute("data-i18n-params",JSON.stringify({item:e})),t.addEventListener("keydown",function(e){if("Enter"===e.key||","===e.key){e.preventDefault();var r=t.value.trim();r&&!i.includes(r)&&(i.push(r),o(),t.value="")}}),n.appendChild(t)}}return o(),{getTags:function(){return i},setTags:function(e){i=te(e),o()}}}function er(e){var t=new Set(Array.from(I.children).filter(function(e){return e.classList.contains("profile-item")}).map(function(e){return e.dataset.profileId}));e.sort(function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}).forEach(function(e){if(!t.has(e.profile_id)){var r=document.createElement("div");r.className="profile-item",r.dataset.profileId=e.profile_id,r.dataset.type=e.type,r.dataset.active=e.active.toString(),r.dataset.tags=JSON.stringify(e.tags||[]),r.setAttribute("role","button"),r.setAttribute("data-i18n-aria-label","loadProfile"),r.setAttribute("data-i18n-params",JSON.stringify({name:e.name})),r.addEventListener("click",function(){return Me(e.profile_id)});var n=document.createElement("div");n.className="profile-header";var i=document.createElement("label");i.className="profile-checkbox-wrapper",i.addEventListener("click",function(e){return e.stopPropagation()});var o=document.createElement("input");o.type="checkbox",o.className="profile-checkbox",o.value=e.profile_id,o.addEventListener("change",function(e){e.stopPropagation(),tr(),function(){var e=document.getElementById("markAllProfiles");if(!e)return;var t=document.querySelectorAll(".profile-checkbox"),r=document.querySelectorAll(".profile-checkbox:checked");0===t.length?(e.indeterminate=!1,e.checked=!1):r.length===t.length?(e.indeterminate=!1,e.checked=!0):r.length>0?(e.indeterminate=!0,e.checked=!1):(e.indeterminate=!1,e.checked=!1)}()}),i.appendChild(o);var a=document.createElement("div");a.className="profile-name",a.textContent=e.name;var s=document.createElement("div");s.className="profile-menu";var l=document.createElement("button");l.className="profile-menu-button",l.innerHTML='<i class="fa-solid fa-ellipsis-vertical"></i>',l.setAttribute("data-i18n-aria-label","promptOptions");var c=document.createElement("div");c.className="profile-menu-dropdown";var u=document.createElement("button");u.className="profile-menu-item",u.innerHTML='<span data-i18n="viewHistory">View History</span>',u.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),function(e){at.apply(this,arguments)}(e.profile_id),c.classList.remove("show")}),l.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),document.querySelectorAll(".profile-menu-dropdown").forEach(function(e){e!==c&&e.classList.remove("show")}),c.classList.toggle("show")}),c.appendChild(u),s.appendChild(l),s.appendChild(c);var d=document.createElement("div");d.className="profile-category",d.textContent=e.category;var f=document.createElement("div");f.className="profile-info-container",f.addEventListener("click",function(){return Me(e.profile_id)});var p=document.createElement("div");p.className="date-container";var h=document.createElement("div");h.className="created-date",h.setAttribute("data-date",e.created_date),h.setAttribute("data-i18n-date","date-medium"),h.innerHTML=e.created_date?'<i class="fa-regular fa-square-plus"></i><span data-date="'.concat(new Date(e.created_date).toISOString(),'" data-i18n-date="date-medium"></span>'):'<i class="fa-regular fa-square-plus"></i> -';var y=document.createElement("div");y.className="last-modified-date",y.setAttribute("data-date",e.last_modified_date),y.setAttribute("data-i18n-date","date-medium"),y.innerHTML=e.last_modified_date?'<i class="fa-solid fa-pen-to-square"></i><span data-date="'.concat(new Date(e.last_modified_date).toISOString(),'" data-i18n-date="date-medium"></span>'):"",n.appendChild(i),n.appendChild(a),n.appendChild(s),p.appendChild(h),p.appendChild(y),f.appendChild(p),r.appendChild(n),r.appendChild(d),r.appendChild(f),I.appendChild(r)}}),window.menuCloseHandler||(window.menuCloseHandler=function(e){document.querySelectorAll(".profile-menu-dropdown").forEach(function(t){t.parentElement.contains(e.target)||t.classList.remove("show")})},document.addEventListener("click",window.menuCloseHandler))}function tr(){var e=document.getElementById("export_profile");if(e){var t=document.querySelectorAll(".profile-checkbox:checked").length>0,r=document.querySelector(".profile-item.active");e.disabled=!t&&!r,t?(e.setAttribute("title","Export Selected Profiles"),e.setAttribute("data-i18n-title","exportSelectedProfiles")):(e.setAttribute("title","Export Profile"),e.setAttribute("data-i18n-title","exportProfile"))}}function rr(){var e=document.getElementById("markAllProfiles");e&&e.addEventListener("click",b(y().m(function e(){var t;return y().w(function(e){for(;;)switch(e.n){case 0:if(!(t=this.checked)){e.n=4;break}this.disabled=!0;case 1:if(!$){e.n=3;break}return e.n=2,Be(!1);case 2:e.n=1;break;case 3:this.disabled=!1;case 4:document.querySelectorAll(".profile-checkbox").forEach(function(e){e.checked=t}),tr();case 5:return e.a(2)}},e,this)})))}function nr(e,t){var r=document.getElementById("infoBar");if(e||t){A.setAttribute("data-i18n",e),A.textContent="",A.setAttribute("data-mode",e);var n=Number(null!=t?t:0);n>0?(O.setAttribute("data-i18n-dynamic","numberOfInstances"),O.setAttribute("data-i18n-params",JSON.stringify({instances:n})),O.removeAttribute("data-i18n")):(O.setAttribute("data-i18n","noInstancesFound"),O.removeAttribute("data-i18n-dynamic"),O.removeAttribute("data-i18n-params")),O.textContent="",O.setAttribute("data-instance-count",n),r.style.display="flex",n>0?(r.setAttribute("data-i18n-aria-label","modeWithInstances"),r.setAttribute("data-i18n-params",JSON.stringify({mode:e,instances:n}))):(r.setAttribute("data-i18n-aria-label","modeWithoutInstances"),r.setAttribute("data-i18n-params",JSON.stringify({mode:e})))}else r.style.display="none",r.removeAttribute("data-i18n-aria-label")}function ir(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];T.reset(),document.getElementById("profile_id").value="",x.setTags([]),R.setTags([]),k.setTags([]),P.setTags([]),L.setTags([]),document.querySelectorAll(".auto-expand").forEach(function(e){e.style.height="auto"}),document.getElementById("created_date").textContent="",document.getElementById("last_modified_date").textContent="",document.getElementById("author").value=N.CURRENT_USER,document.getElementById("category").value="",L.setTags([]),e&&(Xt("view"),q=null),_e(),yt()}function or(e){I.querySelectorAll(".profile-item").forEach(function(t){t.dataset.profileId===e?t.classList.add("active"):t.classList.remove("active")})}function ar(){return sr.apply(this,arguments)}function sr(){return(sr=b(y().m(function e(){return y().w(function(e){for(;;)switch(e.n){case 0:if(!G){e.n=2;break}return e.n=1,mr();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:ir(),lr(),Xt("view"),nr("","");case 3:return e.a(2)}},e)}))).apply(this,arguments)}function lr(){document.querySelectorAll(".profile-item").forEach(function(e){e.classList.remove("active")})}function cr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.wide,i=void 0!==n&&n,o=r.modalClass,a=void 0===o?"":o,s=r.onClose,l=void 0===s?null:s,c=r.closeOnBackdrop,u=void 0!==c&&c,d=r.translateTitle,f=void 0!==d&&d,p=document.createElement("div");p.className="modal ".concat(a).concat(i?" wide":""),p.setAttribute("role","dialog"),p.setAttribute("aria-labelledby","modalTitle");var h=f?'<h2 id="modalTitle" data-i18n="'.concat(e,'"></h2>'):'<h2 id="modalTitle">'.concat(e,"</h2>");p.innerHTML='\n        <div class="modal-content">\n            <div class="modal-header">\n                '.concat(h,'\n                <span class="close-button" data-i18n-aria-label="close"><i class="fa-solid fa-times"></i></span>\n            </div>\n            <div class="modal-body">').concat(t,"</div>\n        </div>\n    "),document.body.appendChild(p);return p.querySelector(".close-button").onclick=function(){return p.remove()},u&&p.addEventListener("click",function(e){e.target===p&&(p.remove(),l&&l())}),p}function ur(e){return"object"===v(e)&&null!==e?JSON.stringify(e,null,2):"boolean"==typeof e?e?"true":"false":null==e?"N/A":e.toString()}function dr(){return dr=b(y().m(function e(){var t,r,n,s,l;return y().w(function(e){for(;;)switch(e.p=e.n){case 0:return utils.debugLog("Initializing application"),e.p=1,K(),T=document.getElementById("profileForm"),I=document.getElementById("profileList"),A=document.getElementById("modeIndicator"),O=document.getElementById("instanceCounter"),X("initial"),Xt("view"),D=i.M.classFactory(N,o,a),e.n=2,D.initialize();case 2:return utils.debugLog("Database service initialized successfully"),e.n=3,st();case 3:return S=e.v,e.n=4,Ee();case 4:return W=e.v,e.n=5,Ae();case 5:return V=e.v,e.n=6,ae();case 6:return re(),he("profileSearch","clearSearch"),pr(),rr(),yr(),hr(),ne(),e.n=7,Be();case 7:x=Zt("skills-input"),R=Zt("deontic_rules-input"),k=Zt("organizational_rules-input"),P=Zt("allowed_planning_method-input"),Zt("required_fields_observation",S.reserved_fields_observation,!0),Zt("required_fields_reflection",S.reserved_fields_reflection,!0),L=Zt("tags"),ge(S.models_providers),(t=document.getElementById("author")).value=N.CURRENT_USER,t.setAttribute("readonly","readonly"),document.getElementById("new_profile").addEventListener("click",mt),document.getElementById("clone_profile").addEventListener("click",Je),document.getElementById("import_profile").addEventListener("click",Et),document.getElementById("export_profile").addEventListener("click",Bt),(r=document.getElementById("save_profile"))&&r.addEventListener("click",function(){var e=b(y().m(function e(t){var r;return y().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),""===document.getElementById("modeIndicator").textContent.trim()){e.n=2;break}return e.n=1,qe();case 1:e.n=3;break;case 2:(r=ProfileErrorHandler).showError.apply(r,h(ProfileErrorCodes.NO_CHANGES_TO_SAVE));case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),(n=document.getElementById("cancel_profile"))&&n.addEventListener("click",ar),(s=document.getElementById("generateProfileId"))&&s.addEventListener("click",pt),(l=document.getElementById("profile_id"))&&l.addEventListener("input",function(){if(document.querySelector(".profile-editor").classList.contains("clone-mode")&&this.value){var e=this.value;e.startsWith("cloned_")&&(e=e.substring(7));var t=e.split("-");4===t.length&&(document.getElementById("area").value=t[0],document.getElementById("function").value=t[1],document.getElementById("version").value=t[3])}}),e.n=9;break;case 8:e.p=8,e.v;case 9:utils.debugLog("Application initialized");case 10:return e.a(2)}},e,null,[[1,8]])})),dr.apply(this,arguments)}function fr(e){try{var t={DEBUG:e.debug||!1,CURRENT_USER:e.current_user||"",THEME:e.theme||"light",DATABASETYPE:e.dbtype||"neo4j"},r=e.locale;r&&(t.LANGUAGE=r),Object.assign(t,{NEO4J_CONFIG:{uri:e.neo4j_uri||"",username:e.neo4j_user||"",password:e.neo4j_password||"",neo4j_serverauth:e.neo4j_serverauth||""}}),Object.assign(t,{COSMOSDB_CONFIG:{endpoint:e.cosmosdb_endpoint||"",key:e.cosmosdb_key||"",db:e.cosmosdb_db||"",graph:e.cosmosdb_graph||"",partitionkeyproperty:e.cosmosdb_partitionkeyproperty||"",partitionkeyvalue:e.cosmosdb_partitionkeyvalue||""}}),Object.assign(N,t),utils.initialize(N),window.i18n&&!window.i18n.initialized&&N.LANGUAGE&&(utils.debugLog("Initializing i18n with language:",N.LANGUAGE),window.i18n.initialize(N.LANGUAGE)),window.localeUI&&!window.localeUI.initialized&&(utils.debugLog("Initializing LocaleUI service"),window.localeUI.initialize())}catch(e){throw e}}function pr(){var e=document.getElementById("categoryFilterButton"),t=document.getElementById("categoryDropdown"),r=document.getElementById("statusFilterButton"),n=document.getElementById("statusDropdown");!function(){var e=document.getElementById("statusFilterButton"),t=document.getElementById("statusDropdown");t.querySelectorAll('input[type="checkbox"]').forEach(function(r){"Active"===r.value&&(r.checked=!0),r.addEventListener("change",function(){B||r.disabled||(r.checked?z.add(r.value):z.delete(r.value),oe(e,"Status",z.size),t.classList.remove("show"),Be(!0))})})}(),e.addEventListener("click",function(e){return ie(e,t)}),r.addEventListener("click",function(e){return ie(e,n)}),document.addEventListener("click",function(e){e.target.closest(".filter-group")||(t.classList.remove("show"),n.classList.remove("show"))})}function hr(){var e=document.getElementById("actions-container");if(e.innerHTML="",0!==V.length){var t=document.getElementById("actions-filter-dropdown");t&&t.addEventListener("change",xe),V.forEach(function(t){var r=document.createElement("div");r.className="action-item",r.innerHTML='\n            <label>\n                <input type="checkbox" class="action-checkbox" value="'.concat(t.name,'" data-action-name="').concat(t.name,'">\n                <span>').concat(t.name,"</span>\n            </label>\n        "),e.appendChild(r),r.querySelector(".action-checkbox").addEventListener("change",function(){"all"!==document.getElementById("actions-filter-dropdown").value&&xe()})})}else e.innerHTML='<div class="no-actions">No actions available</div>'}function yr(){var e=document.getElementById("tools-container");if(e.innerHTML="",0!==W.length){var t=document.getElementById("tools-filter-dropdown");t&&t.addEventListener("change",Te),W.forEach(function(t){var r=document.createElement("div");r.className="tool-item",r.innerHTML='\n            <label>\n                <input type="checkbox" class="tool-checkbox" value="'.concat(t.name,'" data-tool-name="').concat(t.name,'">\n                <span>').concat(t.name,"</span>\n            </label>\n        "),e.appendChild(r),r.querySelector(".tool-checkbox").addEventListener("change",function(){"all"!==document.getElementById("tools-filter-dropdown").value&&Te()})})}else e.innerHTML='<div class="no-tools">No tools available</div>'}function mr(){return gr.apply(this,arguments)}function gr(){return(gr=b(y().m(function e(){return y().w(function(e){for(;;)if(0===e.n)return e.a(2,new Promise(function(e){if(G){var t=cr("discardChanges",'\n            <div class="row">\n                <p data-i18n="confirmDiscardChanges">You have unsaved changes. Are you sure you want to discard them?</p>\n            </div>\n            <div class="row form-actions">\n                <button type="button" class="secondary-button cancel-button">\n                    <span data-i18n="cancel">Cancel</span>\n                </button>\n                <button type="button" class="danger-button confirm-button">\n                    <span data-i18n="confirm">Confirm</span>\n                </button>\n            </div>\n        ',{translateTitle:!0,modalClass:"confirm-modal"}),r=t.querySelector(".confirm-button"),n=t.querySelector(".cancel-button");r.onclick=function(){G=!1,t.remove(),e(!0)},n.onclick=function(){t.remove(),e(!1)}}else e(!0)}))},e)}))).apply(this,arguments)}window.showError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",r=document.querySelector(".profile-editor");if(r){var n=document.createElement("div");n.className="status-message ".concat(t),n.setAttribute("role","alert"),n.setAttribute("aria-live","critical"===t?"assertive":"polite");var i=document.createElement("div");i.className="message-text",i.textContent=e,n.appendChild(i);var o=document.createElement("button");o.className="close-button",o.setAttribute("aria-label","Close error message"),o.innerHTML='<i class="fas fa-times" aria-hidden="true"></i>',o.addEventListener("click",function(){return n.remove()}),o.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n.remove())}),n.appendChild(o),r.insertBefore(n,r.firstChild)}},window.showMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=document.querySelector(".profile-editor");if(n){var i=document.createElement("div");i.className="status-message ".concat(t),i.setAttribute("role","status"),i.textContent=e,n.insertBefore(i,n.firstChild),setTimeout(function(){i.parentNode&&i.remove()},r)}},window.scrollToTop=pe,window.loadConfig=fr,window.onValueMappingLoaded=function(e){C||(C=!0,fr(e),function(){dr.apply(this,arguments)}())}},5283:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function n(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}var i=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"getError",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n=i18n.translateError(e,t,r);return{message:n.text,severity:n.severity}}catch(r){return{message:localeConfigs["en-US"].translations.errors[e][t].text,severity:localeConfigs["en-US"].translations.errors[e][t].severity}}}}],(t=null)&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();e.exports&&(e.exports={ErrorHandler:i}),window.ErrorHandler=i},5291:(e,t,r)=>{"use strict";const{MathFloor:n,NumberIsInteger:i}=r(4134),{validateInteger:o}=r(277),{ERR_INVALID_ARG_VALUE:a}=r(6371).codes;let s=16384,l=16;function c(e){return e?l:s}e.exports={getHighWaterMark:function(e,t,r,o){const s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=s){if(!i(s)||s<0){throw new a(o?`options.${r}`:"options.highWaterMark",s)}return n(s)}return c(e.objectMode)},getDefaultHighWaterMark:c,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?l=t:s=t}}},5332:(e,t,r)=>{"use strict";const{Traversal:n,cardinality:i}=r(1545),{Transaction:o}=r(9899),a=r(5737),s=r(9032),{TraversalStrategies:l,VertexProgramStrategy:c,OptionsStrategy:u}=r(3335);class d{constructor(e,t,r,n,i){this.graph=e,this.traversalStrategies=t,this.bytecode=r||new s,this.graphTraversalSourceClass=n||d,this.graphTraversalClass=i||f;const o=t.strategies.find(e=>"js:RemoteStrategy"===e.fqcn);this.remoteConnection=void 0!==o?o.connection:void 0}withRemote(e){const t=new l(this.traversalStrategies);return t.addStrategy(new a.RemoteStrategy(e)),new this.graphTraversalSourceClass(this.graph,t,new s(this.bytecode),this.graphTraversalSourceClass,this.graphTraversalClass)}tx(){if(this.remoteConnection&&this.remoteConnection.isSessionBound)throw new Error("This TraversalSource is already bound to a transaction - child transactions are not supported");return new o(this)}withComputer(e,t,r,n,i,o,a){const s={};return void 0!==e&&(s.graphComputer=e),void 0!==t&&(s.workers=t),void 0!==r&&(s.result=r),void 0!==n&&(s.graphComputer=n),void 0!==i&&(s.vertices=i),void 0!==o&&(s.edges=o),void 0!==a&&(s.configuration=a),this.withStrategies(new c(s))}with_(e,t=void 0){const r=void 0===t||t;let n=this.bytecode.sourceInstructions.find(e=>"withStrategies"===e[0]&&e[1]instanceof u);return void 0===n?(n=new u({[e]:r}),this.withStrategies(n)):(n[1].configuration[e]=r,new this.graphTraversalSourceClass(this.graph,new l(this.traversalStrategies),this.bytecode,this.graphTraversalSourceClass,this.graphTraversalClass))}toString(){return"graphtraversalsource["+this.graph.toString()+"]"}withBulk(...e){const t=new s(this.bytecode).addSource("withBulk",e);return new this.graphTraversalSourceClass(this.graph,new l(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withPath(...e){const t=new s(this.bytecode).addSource("withPath",e);return new this.graphTraversalSourceClass(this.graph,new l(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withSack(...e){const t=new s(this.bytecode).addSource("withSack",e);return new this.graphTraversalSourceClass(this.graph,new l(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withSideEffect(...e){const t=new s(this.bytecode).addSource("withSideEffect",e);return new this.graphTraversalSourceClass(this.graph,new l(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withStrategies(...e){const t=new s(this.bytecode).addSource("withStrategies",e);return new this.graphTraversalSourceClass(this.graph,new l(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withoutStrategies(...e){const t=new s(this.bytecode).addSource("withoutStrategies",e);return new this.graphTraversalSourceClass(this.graph,new l(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}E(...e){const t=new s(this.bytecode).addStep("E",e);return new this.graphTraversalClass(this.graph,new l(this.traversalStrategies),t)}V(...e){const t=new s(this.bytecode).addStep("V",e);return new this.graphTraversalClass(this.graph,new l(this.traversalStrategies),t)}addE(...e){const t=new s(this.bytecode).addStep("addE",e);return new this.graphTraversalClass(this.graph,new l(this.traversalStrategies),t)}mergeE(...e){const t=new s(this.bytecode).addStep("mergeE",e);return new this.graphTraversalClass(this.graph,new l(this.traversalStrategies),t)}addV(...e){const t=new s(this.bytecode).addStep("addV",e);return new this.graphTraversalClass(this.graph,new l(this.traversalStrategies),t)}mergeV(...e){const t=new s(this.bytecode).addStep("mergeV",e);return new this.graphTraversalClass(this.graph,new l(this.traversalStrategies),t)}inject(...e){const t=new s(this.bytecode).addStep("inject",e);return new this.graphTraversalClass(this.graph,new l(this.traversalStrategies),t)}io(...e){const t=new s(this.bytecode).addStep("io",e);return new this.graphTraversalClass(this.graph,new l(this.traversalStrategies),t)}call(...e){const t=new s(this.bytecode).addStep("call",e);return new this.graphTraversalClass(this.graph,new l(this.traversalStrategies),t)}union(...e){const t=new s(this.bytecode).addStep("union",e);return new this.graphTraversalClass(this.graph,new l(this.traversalStrategies),t)}}class f extends n{constructor(e,t,r){super(e,t,r)}clone(){return new f(this.graph,this.traversalStrategies,this.getBytecode())}V(...e){return this.bytecode.addStep("V",e),this}E(...e){return this.bytecode.addStep("E",e),this}addE(...e){return this.bytecode.addStep("addE",e),this}addV(...e){return this.bytecode.addStep("addV",e),this}aggregate(...e){return this.bytecode.addStep("aggregate",e),this}all(...e){return this.bytecode.addStep("all",e),this}and(...e){return this.bytecode.addStep("and",e),this}any(...e){return this.bytecode.addStep("any",e),this}as(...e){return this.bytecode.addStep("as",e),this}asDate(...e){return this.bytecode.addStep("asDate",e),this}asString(...e){return this.bytecode.addStep("asString",e),this}barrier(...e){return this.bytecode.addStep("barrier",e),this}both(...e){return this.bytecode.addStep("both",e),this}bothE(...e){return this.bytecode.addStep("bothE",e),this}bothV(...e){return this.bytecode.addStep("bothV",e),this}branch(...e){return this.bytecode.addStep("branch",e),this}by(...e){return this.bytecode.addStep("by",e),this}call(...e){return this.bytecode.addStep("call",e),this}cap(...e){return this.bytecode.addStep("cap",e),this}choose(...e){return this.bytecode.addStep("choose",e),this}coalesce(...e){return this.bytecode.addStep("coalesce",e),this}coin(...e){return this.bytecode.addStep("coin",e),this}combine(...e){return this.bytecode.addStep("combine",e),this}concat(...e){return this.bytecode.addStep("concat",e),this}conjoin(...e){return this.bytecode.addStep("conjoin",e),this}connectedComponent(...e){return this.bytecode.addStep("connectedComponent",e),this}constant(...e){return this.bytecode.addStep("constant",e),this}count(...e){return this.bytecode.addStep("count",e),this}cyclicPath(...e){return this.bytecode.addStep("cyclicPath",e),this}dateAdd(...e){return this.bytecode.addStep("dateAdd",e),this}dateDiff(...e){return this.bytecode.addStep("dateDiff",e),this}dedup(...e){return this.bytecode.addStep("dedup",e),this}difference(...e){return this.bytecode.addStep("difference",e),this}disjunct(...e){return this.bytecode.addStep("disjunct",e),this}drop(...e){return this.bytecode.addStep("drop",e),this}element(...e){return this.bytecode.addStep("element",e),this}elementMap(...e){return this.bytecode.addStep("elementMap",e),this}emit(...e){return this.bytecode.addStep("emit",e),this}fail(...e){return this.bytecode.addStep("fail",e),this}filter(...e){return this.bytecode.addStep("filter",e),this}flatMap(...e){return this.bytecode.addStep("flatMap",e),this}fold(...e){return this.bytecode.addStep("fold",e),this}format(...e){return this.bytecode.addStep("format",e),this}from_(...e){return this.bytecode.addStep("from",e),this}group(...e){return this.bytecode.addStep("group",e),this}groupCount(...e){return this.bytecode.addStep("groupCount",e),this}has(...e){return this.bytecode.addStep("has",e),this}hasId(...e){return this.bytecode.addStep("hasId",e),this}hasKey(...e){return this.bytecode.addStep("hasKey",e),this}hasLabel(...e){return this.bytecode.addStep("hasLabel",e),this}hasNot(...e){return this.bytecode.addStep("hasNot",e),this}hasValue(...e){return this.bytecode.addStep("hasValue",e),this}id(...e){return this.bytecode.addStep("id",e),this}identity(...e){return this.bytecode.addStep("identity",e),this}in_(...e){return this.bytecode.addStep("in",e),this}inE(...e){return this.bytecode.addStep("inE",e),this}inV(...e){return this.bytecode.addStep("inV",e),this}index(...e){return this.bytecode.addStep("index",e),this}inject(...e){return this.bytecode.addStep("inject",e),this}intersect(...e){return this.bytecode.addStep("intersect",e),this}is(...e){return this.bytecode.addStep("is",e),this}key(...e){return this.bytecode.addStep("key",e),this}label(...e){return this.bytecode.addStep("label",e),this}length(...e){return this.bytecode.addStep("length",e),this}limit(...e){return this.bytecode.addStep("limit",e),this}local(...e){return this.bytecode.addStep("local",e),this}loops(...e){return this.bytecode.addStep("loops",e),this}lTrim(...e){return this.bytecode.addStep("lTrim",e),this}map(...e){return this.bytecode.addStep("map",e),this}match(...e){return this.bytecode.addStep("match",e),this}math(...e){return this.bytecode.addStep("math",e),this}max(...e){return this.bytecode.addStep("max",e),this}mean(...e){return this.bytecode.addStep("mean",e),this}merge(...e){return this.bytecode.addStep("merge",e),this}mergeE(...e){return this.bytecode.addStep("mergeE",e),this}mergeV(...e){return this.bytecode.addStep("mergeV",e),this}min(...e){return this.bytecode.addStep("min",e),this}none(...e){return this.bytecode.addStep("none",e),this}not(...e){return this.bytecode.addStep("not",e),this}option(...e){return this.bytecode.addStep("option",e),this}optional(...e){return this.bytecode.addStep("optional",e),this}or(...e){return this.bytecode.addStep("or",e),this}order(...e){return this.bytecode.addStep("order",e),this}otherV(...e){return this.bytecode.addStep("otherV",e),this}out(...e){return this.bytecode.addStep("out",e),this}outE(...e){return this.bytecode.addStep("outE",e),this}outV(...e){return this.bytecode.addStep("outV",e),this}pageRank(...e){return this.bytecode.addStep("pageRank",e),this}path(...e){return this.bytecode.addStep("path",e),this}peerPressure(...e){return this.bytecode.addStep("peerPressure",e),this}product(...e){return this.bytecode.addStep("product",e),this}profile(...e){return this.bytecode.addStep("profile",e),this}program(...e){return this.bytecode.addStep("program",e),this}project(...e){return this.bytecode.addStep("project",e),this}properties(...e){return this.bytecode.addStep("properties",e),this}property(...e){return this.bytecode.addStep("property",e),this}propertyMap(...e){return this.bytecode.addStep("propertyMap",e),this}range(...e){return this.bytecode.addStep("range",e),this}read(...e){return this.bytecode.addStep("read",e),this}repeat(...e){return this.bytecode.addStep("repeat",e),this}replace(...e){return this.bytecode.addStep("replace",e),this}reverse(...e){return this.bytecode.addStep("reverse",e),this}rTrim(...e){return this.bytecode.addStep("rTrim",e),this}sack(...e){return this.bytecode.addStep("sack",e),this}sample(...e){return this.bytecode.addStep("sample",e),this}select(...e){return this.bytecode.addStep("select",e),this}shortestPath(...e){return this.bytecode.addStep("shortestPath",e),this}sideEffect(...e){return this.bytecode.addStep("sideEffect",e),this}simplePath(...e){return this.bytecode.addStep("simplePath",e),this}skip(...e){return this.bytecode.addStep("skip",e),this}split(...e){return this.bytecode.addStep("split",e),this}store(...e){return this.bytecode.addStep("store",e),this}subgraph(...e){return this.bytecode.addStep("subgraph",e),this}substring(...e){return this.bytecode.addStep("substring",e),this}sum(...e){return this.bytecode.addStep("sum",e),this}tail(...e){return this.bytecode.addStep("tail",e),this}timeLimit(...e){return this.bytecode.addStep("timeLimit",e),this}times(...e){return this.bytecode.addStep("times",e),this}to(...e){return this.bytecode.addStep("to",e),this}toE(...e){return this.bytecode.addStep("toE",e),this}toLower(...e){return this.bytecode.addStep("toLower",e),this}toUpper(...e){return this.bytecode.addStep("toUpper",e),this}toV(...e){return this.bytecode.addStep("toV",e),this}tree(...e){return this.bytecode.addStep("tree",e),this}trim(...e){return this.bytecode.addStep("trim",e),this}unfold(...e){return this.bytecode.addStep("unfold",e),this}union(...e){return this.bytecode.addStep("union",e),this}until(...e){return this.bytecode.addStep("until",e),this}value(...e){return this.bytecode.addStep("value",e),this}valueMap(...e){return this.bytecode.addStep("valueMap",e),this}values(...e){return this.bytecode.addStep("values",e),this}where(...e){return this.bytecode.addStep("where",e),this}with_(...e){return this.bytecode.addStep("with",e),this}write(...e){return this.bytecode.addStep("write",e),this}}class p extends s{constructor(e,t){super(),this.addSource("CardinalityValueTraversal",[e,t])}static single(e){return new p(i.single,e)}static list(e){return new p(i.list,e)}static set(e){return new p(i.set,e)}}function h(e,t){const r=new f(null,null,new s);return r[e].apply(r,t)}const y={E:(...e)=>h("E",e),V:(...e)=>h("V",e),addE:(...e)=>h("addE",e),addV:(...e)=>h("addV",e),aggregate:(...e)=>h("aggregate",e),all:(...e)=>h("all",e),and:(...e)=>h("and",e),any:(...e)=>h("any",e),as:(...e)=>h("as",e),asDate:(...e)=>h("asDate",e),asString:(...e)=>h("asString",e),barrier:(...e)=>h("barrier",e),both:(...e)=>h("both",e),bothE:(...e)=>h("bothE",e),bothV:(...e)=>h("bothV",e),branch:(...e)=>h("branch",e),call:(...e)=>h("call",e),cap:(...e)=>h("cap",e),choose:(...e)=>h("choose",e),coalesce:(...e)=>h("coalesce",e),coin:(...e)=>h("coin",e),concat:(...e)=>h("concat",e),constant:(...e)=>h("constant",e),count:(...e)=>h("count",e),cyclicPath:(...e)=>h("cyclicPath",e),dateAdd:(...e)=>h("dateAdd",e),dateDiff:(...e)=>h("dateDiff",e),dedup:(...e)=>h("dedup",e),disjunct:(...e)=>h("disjunct",e),drop:(...e)=>h("drop",e),element:(...e)=>h("element",e),elementMap:(...e)=>h("elementMap",e),emit:(...e)=>h("emit",e),fail:(...e)=>h("fail",e),filter:(...e)=>h("filter",e),flatMap:(...e)=>h("flatMap",e),fold:(...e)=>h("fold",e),format:(...e)=>h("format",e),group:(...e)=>h("group",e),groupCount:(...e)=>h("groupCount",e),has:(...e)=>h("has",e),hasId:(...e)=>h("hasId",e),hasKey:(...e)=>h("hasKey",e),hasLabel:(...e)=>h("hasLabel",e),hasNot:(...e)=>h("hasNot",e),hasValue:(...e)=>h("hasValue",e),id:(...e)=>h("id",e),identity:(...e)=>h("identity",e),in_:(...e)=>h("in_",e),inE:(...e)=>h("inE",e),inV:(...e)=>h("inV",e),index:(...e)=>h("index",e),inject:(...e)=>h("inject",e),is:(...e)=>h("is",e),key:(...e)=>h("key",e),label:(...e)=>h("label",e),length:(...e)=>h("length",e),limit:(...e)=>h("limit",e),local:(...e)=>h("local",e),loops:(...e)=>h("loops",e),lTrim:(...e)=>h("lTrim",e),map:(...e)=>h("map",e),match:(...e)=>h("match",e),math:(...e)=>h("math",e),max:(...e)=>h("max",e),mean:(...e)=>h("mean",e),mergeE:(...e)=>h("mergeE",e),mergeV:(...e)=>h("mergeV",e),min:(...e)=>h("min",e),none:(...e)=>h("none",e),not:(...e)=>h("not",e),optional:(...e)=>h("optional",e),or:(...e)=>h("or",e),order:(...e)=>h("order",e),otherV:(...e)=>h("otherV",e),out:(...e)=>h("out",e),outE:(...e)=>h("outE",e),outV:(...e)=>h("outV",e),path:(...e)=>h("path",e),project:(...e)=>h("project",e),properties:(...e)=>h("properties",e),property:(...e)=>h("property",e),propertyMap:(...e)=>h("propertyMap",e),range:(...e)=>h("range",e),repeat:(...e)=>h("repeat",e),replace:(...e)=>h("replace",e),reverse:(...e)=>h("reverse",e),rTrim:(...e)=>h("rTrim",e),sack:(...e)=>h("sack",e),sample:(...e)=>h("sample",e),select:(...e)=>h("select",e),sideEffect:(...e)=>h("sideEffect",e),simplePath:(...e)=>h("simplePath",e),skip:(...e)=>h("skip",e),split:(...e)=>h("split",e),store:(...e)=>h("store",e),subgraph:(...e)=>h("subgraph",e),substring:(...e)=>h("substring",e),sum:(...e)=>h("sum",e),tail:(...e)=>h("tail",e),timeLimit:(...e)=>h("timeLimit",e),times:(...e)=>h("times",e),to:(...e)=>h("to",e),toE:(...e)=>h("toE",e),toLower:(...e)=>h("toLower",e),toUpper:(...e)=>h("toUpper",e),toV:(...e)=>h("toV",e),tree:(...e)=>h("tree",e),trim:(...e)=>h("trim",e),unfold:(...e)=>h("unfold",e),union:(...e)=>h("union",e),until:(...e)=>h("until",e),value:(...e)=>h("value",e),valueMap:(...e)=>h("valueMap",e),values:(...e)=>h("values",e),where:(...e)=>h("where",e)};e.exports={GraphTraversal:f,GraphTraversalSource:d,CardinalityValue:p,statics:y}},5506:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:a}=r(4134),{promisify:{custom:s}}=r(7760),{streamReturningOperators:l,promiseReturningOperators:c}=r(823),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=r(6371),d=r(7830),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:p}=r(5291),{pipeline:h}=r(7758),{destroyer:y}=r(5896),m=r(6238),g=r(3095),b=r(6115),v=e.exports=r(4259).Stream;v.isDestroyed=b.isDestroyed,v.isDisturbed=b.isDisturbed,v.isErrored=b.isErrored,v.isReadable=b.isReadable,v.isWritable=b.isWritable,v.Readable=r(7576);for(const _ of o(l)){const E=l[_];function S(...e){if(new.target)throw u();return v.Readable.from(a(E,this,e))}i(S,"name",{__proto__:null,value:E.name}),i(S,"length",{__proto__:null,value:E.length}),i(v.Readable.prototype,_,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(const T of o(c)){const I=c[T];function A(...e){if(new.target)throw u();return a(I,this,e)}i(A,"name",{__proto__:null,value:I.name}),i(A,"length",{__proto__:null,value:I.length}),i(v.Readable.prototype,T,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}v.Writable=r(8584),v.Duplex=r(3370),v.Transform=r(7382),v.PassThrough=r(6524),v.pipeline=h;const{addAbortSignal:w}=r(4147);v.addAbortSignal=w,v.finished=m,v.destroy=y,v.compose=d,v.setDefaultHighWaterMark=f,v.getDefaultHighWaterMark=p,i(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>g}),i(h,s,{__proto__:null,enumerable:!0,get:()=>g.pipeline}),i(m,s,{__proto__:null,enumerable:!0,get:()=>g.finished}),v.Stream=v,v._isUint8Array=function(e){return e instanceof Uint8Array},v._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},5568:e=>{"use strict";const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},5606:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,l=[],c=!1,u=-1;function d(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=a(d);c=!0;for(var t=l.length;t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},5737:(e,t,r)=>{"use strict";const n=r(1545),i=r(3335).TraversalStrategy;class o extends n.Traversal{constructor(e,t){super(null,null,null),this.traversers=e,this.sideEffects=t}}e.exports={RemoteConnection:class{constructor(e,t={}){this.url=e,this.options=t}open(){throw new Error("open() must be implemented")}get isOpen(){throw new Error("isOpen() must be implemented")}get isSessionBound(){return!1}submit(e){throw new Error("submit() must be implemented")}createSession(){throw new Error("createSession() must be implemented")}commit(){throw new Error("commit() must be implemented")}rollback(){throw new Error("rollback() must be implemented")}close(){throw new Error("close() must be implemented")}},RemoteStrategy:class extends i{constructor(e){super("js:RemoteStrategy"),this.connection=e}apply(e){return e.traversers?Promise.resolve():this.connection.submit(e.getBytecode()).then(function(t){e.sideEffects=t.sideEffects,e.traversers=t.traversers})}},RemoteTraversal:o}},5896:(e,t,r)=>{"use strict";const n=r(5606),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=r(6371),{Symbol:s}=r(4134),{kIsDestroyed:l,isDestroyed:c,isFinished:u,isServerRequest:d}=r(6115),f=s("kDestroy"),p=s("kConstruct");function h(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function y(e,t,r){let i=!1;function o(t){if(i)return;i=!0;const o=e._readableState,a=e._writableState;h(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(m,e,t):n.nextTick(g,e)}try{e._destroy(t||null,o)}catch(t){o(t)}}function m(e,t){b(e,t),g(e)}function g(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function b(e,t){const r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function v(e,t,r){const i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(b,e,t):b(e,t))}function w(e){let t=!1;function r(r){if(t)return void v(e,null!=r?r:new o);t=!0;const i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(f,r):r?v(e,r,!0):n.nextTick(_,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function _(e){e.emit(p)}function E(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function S(e){e.emit("close")}function T(e,t){e.emit("error",t),n.nextTick(S,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(p,t),e.listenerCount(p)>1||n.nextTick(w,e)},destroyer:function(e,t){e&&!c(e)&&(t||u(e)||(t=new a),d(e)?(e.socket=null,e.destroy(t)):E(e)?e.abort():E(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(T,e,t):n.nextTick(S,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(h(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?y(this,e,t):this.once(f,function(r){y(this,i(r,e),t)}),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:v}},6078:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),{valueKey:i,LambdaSerializer:o}=r(474);e.exports=class{constructor(e){this.ioc=e,this.graphsonLambdaSerializer=new o}canBeUsedFor(e){return this.graphsonLambdaSerializer.canBeUsedFor(e)}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.LAMBDA,1]);const e=[0,0,0,0],r=[0,0,0,0],i=[0,0,0,0];return n.from([...e,...r,...i])}const r=[];t&&r.push(n.from([this.ioc.DataType.LAMBDA,0]));const o=this.graphsonLambdaSerializer.serialize(e),a=o[i].language,s=o[i].script,l=o[i].arguments;return r.push(this.ioc.stringSerializer.serialize(a,!1)),r.push(this.ioc.stringSerializer.serialize(s,!1)),r.push(this.ioc.intSerializer.serialize(l,!1)),n.concat(r)}}},6115:(e,t,r)=>{"use strict";const{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=r(4134),a=o("nodejs.stream.destroyed"),s=o("nodejs.stream.errored"),l=o("nodejs.stream.readable"),c=o("nodejs.stream.writable"),u=o("nodejs.stream.disturbed"),d=o("nodejs.webstream.isClosedPromise"),f=o("nodejs.webstream.controllerErrorFunction");function p(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function h(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function y(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function m(e){return!(!e||y(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function g(e){return!(!e||y(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function b(e){return!(!e||y(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function v(e){if(!y(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[a]||null!=n&&n.destroyed)}function w(e){if(!h(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function _(e,t){if(!p(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function E(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!v(e)&&(p(e)&&e.readable&&!_(e))}function S(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!v(e)&&(h(e)&&e.writable&&!w(e))}function T(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function I(e){return"boolean"==typeof e._sent100&&T(e)}e.exports={isDestroyed:v,kIsDestroyed:a,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,r,n,i,o,a,l,c,u,d;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(a=e[s])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(c=e._writableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(d=e._writableState)||void 0===d?void 0:d.errored))},kIsErrored:s,isReadable:E,kIsReadable:l,kIsClosedPromise:d,kControllerErrorFunction:f,kIsWritable:c,isClosed:function(e){if(!y(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&T(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return y(e)?!!v(e)||(!1===(null==t?void 0:t.readable)||!E(e))&&(!1===(null==t?void 0:t.writable)||!S(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:p,isReadableStream:m,isReadableEnded:function(e){if(!p(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:_,isReadableErrored:function(e){var t,r;return y(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:y,isWebStream:function(e){return m(e)||g(e)||b(e)},isWritable:S,isWritableNodeStream:h,isWritableStream:g,isWritableEnded:w,isWritableFinished:function(e,t){if(!h(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return y(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:I,willEmitClose:function(e){if(!y(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&I(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:b}},6140:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},6238:(e,t,r)=>{"use strict";const n=r(5606),{AbortError:i,codes:o}=r(6371),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:l,once:c}=r(7760),{validateAbortSignal:u,validateFunction:d,validateObject:f,validateBoolean:p}=r(277),{Promise:h,PromisePrototypeThen:y,SymbolDispose:m}=r(4134),{isClosed:g,isReadable:b,isReadableNodeStream:v,isReadableStream:w,isReadableFinished:_,isReadableErrored:E,isWritable:S,isWritableNodeStream:T,isWritableStream:I,isWritableFinished:A,isWritableErrored:O,isNodeStream:x,willEmitClose:R,kIsClosedPromise:k}=r(6115);let P;const L=()=>{};function N(e,t,o){var p,h;if(2===arguments.length?(o=t,t=l):null==t?t=l:f(t,"options"),d(o,"callback"),u(t.signal,"options.signal"),o=c(o),w(e)||I(e))return function(e,t,o){let a=!1,s=L;if(t.signal)if(s=()=>{a=!0,o.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(s);else{P=P||r(7760).addAbortListener;const n=P(t.signal,s),i=o;o=c((...t)=>{n[m](),i.apply(e,t)})}const l=(...t)=>{a||n.nextTick(()=>o.apply(e,t))};return y(e[k].promise,l,l),L}(e,t,o);if(!x(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const N=null!==(p=t.readable)&&void 0!==p?p:v(e),C=null!==(h=t.writable)&&void 0!==h?h:T(e),D=e._writableState,j=e._readableState,z=()=>{e.writable||B()};let M=R(e)&&v(e)===N&&T(e)===C,U=A(e,!1);const B=()=>{U=!0,e.destroyed&&(M=!1),(!M||e.readable&&!N)&&(N&&!F||o.call(e))};let F=_(e,!1);const $=()=>{F=!0,e.destroyed&&(M=!1),(!M||e.writable&&!C)&&(C&&!U||o.call(e))},W=t=>{o.call(e,t)};let V=g(e);const H=()=>{V=!0;const t=O(e)||E(e);return t&&"boolean"!=typeof t?o.call(e,t):N&&!F&&v(e,!0)&&!_(e,!1)?o.call(e,new s):!C||U||A(e,!1)?void o.call(e):o.call(e,new s)},q=()=>{V=!0;const t=O(e)||E(e);if(t&&"boolean"!=typeof t)return o.call(e,t);o.call(e)},G=()=>{e.req.on("finish",B)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?C&&!D&&(e.on("end",z),e.on("close",z)):(e.on("complete",B),M||e.on("abort",H),e.req?G():e.on("request",G)),M||"boolean"!=typeof e.aborted||e.on("aborted",H),e.on("end",$),e.on("finish",B),!1!==t.error&&e.on("error",W),e.on("close",H),V?n.nextTick(H):null!=D&&D.errorEmitted||null!=j&&j.errorEmitted?M||n.nextTick(q):(N||M&&!b(e)||!U&&!1!==S(e))&&(C||M&&!S(e)||!F&&!1!==b(e))?j&&e.req&&e.aborted&&n.nextTick(q):n.nextTick(q);const Y=()=>{o=L,e.removeListener("aborted",H),e.removeListener("complete",B),e.removeListener("abort",H),e.removeListener("request",G),e.req&&e.req.removeListener("finish",B),e.removeListener("end",z),e.removeListener("close",z),e.removeListener("finish",B),e.removeListener("end",$),e.removeListener("error",W),e.removeListener("close",H)};if(t.signal&&!V){const a=()=>{const r=o;Y(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(a);else{P=P||r(7760).addAbortListener;const n=P(t.signal,a),i=o;o=c((...t)=>{n[m](),i.apply(e,t)})}}return Y}e.exports=N,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=l),null!==(r=t)&&void 0!==r&&r.cleanup&&(p(t.cleanup,"cleanup"),n=t.cleanup),new h((r,i)=>{const o=N(e,t,e=>{n&&o(),e?i(e):r()})})}},6284:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,r,n){return(r=function(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var o={_initialized:!1,_debugEnabled:!1,_config:null,initialize:function(e){var t;return this._initialized&&this._config?this._config=n(n({},this._config),e):this._config=e,this._debugEnabled=(null===(t=this._config)||void 0===t?void 0:t.DEBUG)||!1,this._initialized=!0,this.debugLog("Utils initialized with this locale:",this._config.LANGUAGE),this},debugLog:function(e){if(!this._initialized||this._debugEnabled){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i;if(r.length>0)(i=console).log.apply(i,["[DEBUG]",e].concat(r))}},getConfig:function(){return this._config},isInitialized:function(){return this._initialized},loadScript:function(e){return new Promise(function(t,r){var n=document.createElement("script");n.src=e,n.async=!0,n.onload=function(){return t()},n.onerror=function(){return r(new Error("Failed to load script: ".concat(e)))},document.head.appendChild(n)})},generateUUID:function(){if("undefined"!=typeof crypto&&crypto.randomUUID)return crypto.randomUUID();if("undefined"!=typeof crypto&&crypto.getRandomValues){var e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,Array.from(e).map(function(e){return e.toString(16).padStart(2,"0")}).join("").replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}for(var t=(new Date).getTime(),r="undefined"!=typeof performance&&performance.now?performance.now():0,n=function(){var e=1e4*Math.sin(t*r*Math.random());return Math.floor(256*(e-Math.floor(e)))},i=new Uint8Array(16),o=0;o<16;o++)i[o]=n();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,Array.from(i).map(function(e){return e.toString(16).padStart(2,"0")}).join("").replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}};e.exports&&(e.exports=o),window.utils=o},6348:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.TEXTP]=this}canBeUsedFor(e){return e instanceof i.TextP}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.TEXTP,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}const r=[];let i;return t&&r.push(n.from([this.ioc.DataType.TEXTP,0])),r.push(this.ioc.stringSerializer.serialize(e.operator,!1)),i=void 0===e.other||null===e.other?Array.isArray(e.value)?e.value:[e.value]:[e.value,e.other],r.push(this.ioc.listSerializer.serialize(i,!1)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.TEXTP)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,l,c,u;try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{name}: "+e.message,e}o=o.slice(s);try{({v:l,len:c}=this.ioc.listSerializer.deserialize(o,!1)),r+=c}catch(e){throw e.message="{values}: "+e.message,e}if(o=o.slice(c),l.length<1)return{v:new i.TextP(""),len:r};const d=i.TextP[a];return u="function"==typeof d?d(...l):new i.TextP(a,...l),{v:u,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},6371:(e,t,r)=>{"use strict";const{format:n,inspect:i}=r(9231),{AggregateError:o}=r(4134),a=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c=/^([A-Z][a-z0-9]*)+$/,u={};function d(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function p(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return d(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const i=(t.match(/%[dfijoOs]/g)||[]).length;return d(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,u[e]=i}function h(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class y extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(e,t,r)=>{d("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],a=[],s=[];for(const e of t)d("string"==typeof e,"All expected entries have to be of type string"),l.includes(e)?o.push(e.toLowerCase()):c.test(e)?a.push(e):(d("object"!==e,'The value "object" should be written as "Object"'),s.push(e));if(a.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(n+=" or ")}if(a.length>0){switch(a.length){case 1:n+=`an instance of ${a[0]}`;break;case 2:n+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();n+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();n+=`one of ${s.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var u;if(null!==(u=r.constructor)&&void 0!==u&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{n+=`. Received ${i(r,{depth:-1})}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),p("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=i(t);n.length>128&&(n=n.slice(0,128)+"...");return`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`},TypeError),p("ERR_MISSING_ARGS",(...e)=>{let t;d(e.length>0,"At least one arg needs to be specified");const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;if(d(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32)n=f(String(r));else if("bigint"==typeof r){n=String(r);const e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=f(n)),n+="n"}else n=i(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:y,aggregateTwoErrors:h(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new a([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:h,codes:u}},6414:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.VERTEXPROPERTY]=this}canBeUsedFor(e){return e instanceof i.VertexProperty}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.VERTEXPROPERTY,1]):n.concat([this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.stringSerializer.serialize("",!1),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null)]);const r=[];return t&&r.push(n.from([this.ioc.DataType.VERTEXPROPERTY,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1)),r.push(this.ioc.anySerializer.serialize(e.value)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),r.push(this.ioc.anySerializer.serialize(e.properties)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.VERTEXPROPERTY)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,l,c,u,d,f,p,h;try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:l,len:c}=this.ioc.stringSerializer.deserialize(o,!1)),r+=c}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(c);try{({v:u,len:d}=this.ioc.anySerializer.deserialize(o)),r+=d}catch(e){throw e.message="{value}: "+e.message,e}o=o.slice(d);try{({len:f}=this.ioc.unspecifiedNullSerializer.deserialize(o)),r+=f}catch(e){throw e.message="{parent}: "+e.message,e}o=o.slice(f);try{({v:p,len:h}=this.ioc.anySerializer.deserialize(o)),r+=h}catch(e){throw e.message="{properties}: "+e.message,e}o=o.slice(h);const y=p||[];return{v:new i.VertexProperty(a,l,u,y),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},6524:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n}=r(4134);e.exports=o;const i=r(7382);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},6532:(e,t,r)=>{"use strict";const n=r(5606),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:a}=r(4134),{Buffer:s}=r(8287),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:c}=r(6371).codes;e.exports=function(e,t,r){let u,d;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])d=!0,u=t[o]();else{if(!t||!t[a])throw new l("iterable",["Iterable"],t);d=!1,u=t[a]()}const f=new e({objectMode:!0,highWaterMark:1,...r});let p=!1;return f._read=function(){p||(p=!0,async function(){for(;;){try{const{value:e,done:t}=d?await u.next():u.next();if(t)f.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw p=!1,new c;if(f.push(t))continue;p=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(e,t){i(async function(e){const t=null!=e,r="function"==typeof u.throw;if(t&&r){const{value:t,done:r}=await u.throw(e);if(await t,r)return}if("function"==typeof u.return){const{value:e}=await u.return();await e}}(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},f}},6579:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e}writeRequest({requestId:e,op:t,processor:r,args:i}){const o=[n.from([129]),this.ioc.uuidSerializer.serialize(e,!1),this.ioc.stringSerializer.serialize(t,!1),this.ioc.stringSerializer.serialize(r,!1),this.ioc.mapSerializer.serialize(i,!1)];return n.concat(o)}}},6580:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{get INT32_MIN(){return-2147483648}get INT32_MAX(){return 2147483647}constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.INT]=this}canBeUsedFor(e){return"number"==typeof e&&!(e<this.INT32_MIN||e>this.INT32_MAX)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.INT,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.INT,0]));const i=n.alloc(4);return i.writeInt32BE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.INT)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<4)throw new Error("unexpected {value} length");r+=4;return{v:i.readInt32BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},6587:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function r(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var n=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},r=null,n=[{key:"showMessage",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.duration,n=void 0===r?5e3:r,i=t.type,o=void 0===i?"success":i,a=t.params,s=void 0===a?{}:a,l=i18n.translate(e,s);showMessage(l,o,n)})},{key:"showSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;this.showMessage(e,{type:"success",duration:r,params:t})}},{key:"showInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;this.showMessage(e,{type:"info",duration:r,params:t})}},{key:"showWarning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7e3;this.showMessage(e,{type:"warning",duration:r,params:t})}}],r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();window.ProfileStatusHandler=n},6665:(e,t,r)=>{"use strict";const n=r(5332),i=r(3335).TraversalStrategies,o=n.GraphTraversalSource,a=r(163).Graph;class s{constructor(e){this.traversalSourceClass=e}static traversal(e){return new s(e||o)}withRemote(e){return this.withGraph(new a).withRemote(e)}withGraph(e){return new this.traversalSourceClass(e,new i)}}e.exports=s},6706:(e,t,r)=>{const n=r(5606),i=r(8287),{isReadable:o,isWritable:a,isIterable:s,isNodeStream:l,isReadableNodeStream:c,isWritableNodeStream:u,isDuplexNodeStream:d,isReadableStream:f,isWritableStream:p}=r(6115),h=r(6238),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:g}}=r(6371),{destroyer:b}=r(5896),v=r(3370),w=r(7576),_=r(8584),{createDeferredPromise:E}=r(7760),S=r(6532),T=globalThis.Blob||i.Blob,I=void 0!==T?function(e){return e instanceof T}:function(e){return!1},A=globalThis.AbortController||r(5568).AbortController,{FunctionPrototypeCall:O}=r(4134);class x extends v{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function R(e){const t=e.readable&&"function"!=typeof e.readable.read?w.wrap(e.readable):e.readable,r=e.writable;let n,i,s,l,c,u=!!o(t),d=!!a(r);function f(e){const t=l;l=null,t?t(e):e&&c.destroy(e)}return c=new x({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==r||!r.writableObjectMode),readable:u,writable:d}),d&&(h(r,e=>{d=!1,e&&b(t,e),f(e)}),c._write=function(e,t,i){r.write(e,t)?i():n=i},c._final=function(e){r.end(),i=e},r.on("drain",function(){if(n){const e=n;n=null,e()}}),r.on("finish",function(){if(i){const e=i;i=null,e()}})),u&&(h(t,e=>{u=!1,e&&b(t,e),f(e)}),t.on("readable",function(){if(s){const e=s;s=null,e()}}),t.on("end",function(){c.push(null)}),c._read=function(){for(;;){const e=t.read();if(null===e)return void(s=c._read);if(!c.push(e))return}}),c._destroy=function(e,o){e||null===l||(e=new y),s=null,n=null,i=null,null===l?o(e):(l=o,b(r,e),b(t,e))},c}e.exports=function e(t,r){if(d(t))return t;if(c(t))return R({readable:t});if(u(t))return R({writable:t});if(l(t))return R({writable:!1,readable:!1});if(f(t))return R({readable:w.fromWeb(t)});if(p(t))return R({writable:_.fromWeb(t)});if("function"==typeof t){const{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:r}=E();const i=new A,o=i.signal,a=e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:a,cb:s}=await e;if(n.nextTick(s),a)return;if(o.aborted)throw new y(void 0,{cause:o.reason});({promise:t,resolve:r}=E()),yield i}}(),{signal:o});return{value:a,write(e,t,n){const i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return S(x,e,{objectMode:!0,write:i,final:o,destroy:a});const l=null==e?void 0:e.then;if("function"==typeof l){let t;const r=O(l,e,e=>{if(null!=e)throw new g("nully","body",e)},e=>{b(t,e)});return t=new x({objectMode:!0,readable:!1,write:i,final(e){o(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:a})}throw new g("Iterable, AsyncIterable or AsyncFunction",r,e)}if(I(t))return e(t.arrayBuffer());if(s(t))return S(x,t,{objectMode:!0,writable:!1});if(f(null==t?void 0:t.readable)&&p(null==t?void 0:t.writable))return x.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable)){return R({readable:null!=t&&t.readable?c(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?u(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0})}const i=null==t?void 0:t.then;if("function"==typeof i){let e;return O(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{b(e,t)}),e=new x({objectMode:!0,writable:!1,read(){}})}throw new m(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},6792:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7037))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=o},6852:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Neo4jDatabaseService:()=>U});var n=r(1982);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(i(e)+" is not iterable")}function c(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var l=n&&n.prototype instanceof s?n:s,c=Object.create(l.prototype);return u(c,"_invoke",function(r,n,i){var o,s,l,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,s=0,l=e,f.n=r,a}};function p(r,n){for(s=r,l=n,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],p=f.p,h=o[2];r>3?(i=h===n)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,f.v=n,f.n=o[1]):p<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,f.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:r.call(n,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(r,i,o),!0),c}var a={};function s(){}function l(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(u(t={},n,function(){return this}),t),p=d.prototype=s.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=d,u(p,"constructor",d),u(d,"constructor",l),l.displayName="GeneratorFunction",u(d,i,"GeneratorFunction"),u(p),u(p,i,"Generator"),u(p,n,function(){return this}),u(p,"toString",function(){return"[object Generator]"}),(c=function(){return{w:o,m:h}})()}function u(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}u=function(e,t,r,n){function o(t,r){u(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},u(e,t,r,n)}function d(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)})}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var y={READ:"READ",WRITE:"WRITE"},m=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t.uri||!t.username||!t.password)throw new Error("Invalid Neo4j configuration");this.config=t,this.driver=null,this.isInitialized=!1,this.connectionRetryCount=0,this.maxRetries=3,this.poolConfig={maxConnectionPoolSize:1,connectionTimeout:15e3,maxTransactionRetryTime:15e3,connectionAcquisitionTimeout:15e3,maxConnectionLifetime:36e5,idleTimeoutMillis:18e5}},t=[{key:"isRetryableError",value:function(e){return["ServiceUnavailable","SessionExpired","TransientError","Neo.TransientError"].some(function(t){var r,n;return(null===(r=e.code)||void 0===r?void 0:r.includes(t))||(null===(n=e.message)||void 0===n?void 0:n.includes(t))})}},{key:"checkConnections",value:(h=f(c().m(function e(){var t;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.driver){e.n=1;break}return debugLog("No driver found during health check - will initialize on next query"),this.isInitialized=!1,e.a(2);case 1:return e.p=1,e.n=2,this.driver.verifyConnectivity();case 2:utils.debugLog("Connection health check passed"),e.n=4;break;case 3:return e.p=3,t=e.v,utils.debugLog("Connection health check failed:",t),this.isInitialized=!1,e.n=4,this.cleanup();case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return h.apply(this,arguments)})},{key:"withRetry",value:(d=f(c().m(function e(t){var r,n,i,o,a=this,s=arguments;return c().w(function(e){for(;;)switch(e.n){case 0:r=s.length>1&&void 0!==s[1]?s[1]:3,n=c().m(function e(){var n,i,s;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t();case 1:return i=e.v,e.a(2,{v:i});case 2:if(e.p=2,s=e.v,!(a.isRetryableError(s)&&o<r)){e.n=4;break}return n=Math.min(100*Math.pow(2,o),2e3),e.n=3,new Promise(function(e){return setTimeout(e,n)});case 3:return a.isInitialized=!1,e.a(2,0);case 4:throw s;case 5:return e.a(2)}},e,null,[[0,2]])}),o=1;case 1:if(!(o<=r)){e.n=5;break}return e.d(l(n()),2);case 2:if(0!==(i=e.v)){e.n=3;break}return e.a(3,4);case 3:if(!i){e.n=4;break}return e.a(2,i.v);case 4:o++,e.n=1;break;case 5:return e.a(2)}},e)})),function(e){return d.apply(this,arguments)})},{key:"executeQuery",value:(u=f(c().m(function e(t){var r,n,i=this,o=arguments;return c().w(function(e){for(;;)switch(e.n){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]?o[2]:y.READ,utils.debugLog("Executing Neo4j query:",t,"Params:",r,"Mode:",n),this.isInitialized){e.n=1;break}return utils.debugLog("Connection not initialized or lost - reinitializing"),e.n=1,this.initialize();case 1:return e.a(2,this.withRetry(f(c().m(function e(){var o,a;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(o=i.driver.session({database:i.config.database,defaultAccessMode:n===y.WRITE?neo4j.session.WRITE:neo4j.session.READ}),e.p=1,n!==y.WRITE){e.n=3;break}return e.n=2,o.writeTransaction(function(){var e=f(c().m(function e(n){return c().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.run(t,r);case 1:return e.a(2,e.v)}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:a=e.v,e.n=5;break;case 3:return e.n=4,o.readTransaction(function(){var e=f(c().m(function e(n){return c().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.run(t,r);case 1:return e.a(2,e.v)}},e)}));return function(t){return e.apply(this,arguments)}}());case 4:a=e.v;case 5:return e.a(2,a);case 6:return e.p=6,e.n=7,o.close().catch(function(e){});case 7:return e.f(6);case 8:return e.a(2)}},e,null,[[1,,6,8]])}))))}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"read",value:(s=f(c().m(function e(t){var r,n=arguments;return c().w(function(e){for(;;)if(0===e.n)return r=n.length>1&&void 0!==n[1]?n[1]:{},e.a(2,this.executeQuery(t,r,y.READ))},e,this)})),function(e){return s.apply(this,arguments)})},{key:"write",value:(o=f(c().m(function e(t){var r,n=arguments;return c().w(function(e){for(;;)if(0===e.n)return r=n.length>1&&void 0!==n[1]?n[1]:{},e.a(2,this.executeQuery(t,r,y.WRITE))},e,this)})),function(e){return o.apply(this,arguments)})},{key:"initialize",value:(i=f(c().m(function e(){var t,r,n,i=this;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!this.driver){e.n=1;break}return e.n=1,this.cleanup();case 1:return t=this.config.uri.startsWith("neo4j+s://")||this.config.uri.includes("?trust=")||this.config.uri.includes("&trust="),r=a({},this.poolConfig),t&&(delete r.encrypted,delete r.trust,delete r.trustStrategy),this.driver=neo4j.driver(this.config.uri,neo4j.auth.basic(this.config.username,this.config.password),r),e.n=2,this.driver.verifyConnectivity();case 2:return this.isInitialized=!0,utils.debugLog("Neo4j connection initialized successfully"),this.healthCheckInterval=setInterval(function(){i.checkConnections().catch(function(e){})},3e5),e.a(2,this.driver);case 3:throw e.p=3,n=e.v,this.isInitialized=!1,utils.debugLog("Connection initialization error:",n),n;case 4:return e.a(2)}},e,this,[[0,3]])})),function(){return i.apply(this,arguments)})},{key:"cleanup",value:(n=f(c().m(function e(){return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.healthCheckInterval&&(clearInterval(this.healthCheckInterval),this.healthCheckInterval=null),!this.driver){e.n=5;break}return e.p=1,e.n=2,this.driver.close();case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:this.driver=null;case 5:this.isInitialized=!1,this.connectionRetryCount=0;case 6:return e.a(2)}},e,this,[[1,3]])})),function(){return n.apply(this,arguments)})}],t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,i,o,s,u,d,h}();function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}window.Neo4jConnectionManager=m,window.NEO4J_SESSION_MODES=y;var w={toNeo4jDateTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return{year:{low:e.getFullYear(),high:0},month:{low:e.getMonth()+1,high:0},day:{low:e.getDate(),high:0},hour:{low:e.getHours(),high:0},minute:{low:e.getMinutes(),high:0},second:{low:e.getSeconds(),high:0},nanosecond:{low:0,high:0},timeZoneOffsetSeconds:{low:0,high:0}}},fromNeo4jDateTime:function(e){if(!e)return null;if("string"==typeof e)return new Date(e);if(e instanceof Date)return e;try{var t;if(void 0!==(null===(t=e.year)||void 0===t?void 0:t.low)){var r,n,i,o,a="".concat(e.year.low,"-").concat(String(e.month.low).padStart(2,"0"),"-").concat(String(e.day.low).padStart(2,"0"),"T").concat(String((null===(r=e.hour)||void 0===r?void 0:r.low)||0).padStart(2,"0"),":").concat(String((null===(n=e.minute)||void 0===n?void 0:n.low)||0).padStart(2,"0"),":").concat(String((null===(i=e.second)||void 0===i?void 0:i.low)||0).padStart(2,"0"),".").concat(String((null===(o=e.nanosecond)||void 0===o?void 0:o.low)||0).padStart(3,"0"),"Z");return new Date(a)}return new Date(e)}catch(e){return null}},isNeo4jDateTime:function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return!1}if(!e||"object"!==v(e))return!1;return!!["year","month","day","hour","minute","second","nanosecond","timeZoneOffsetSeconds"].every(function(t){return e.hasOwnProperty(t)})&&Object.entries(e).every(function(e){var t=g(e,2),r=(t[0],t[1]);return r&&"object"===v(r)&&"low"in r&&"high"in r&&"number"==typeof r.low&&"number"==typeof r.high})},now:function(){return this.toNeo4jDateTime(new Date)}};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){A(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function A(e,t,r){return(t=L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var l=n&&n.prototype instanceof s?n:s,c=Object.create(l.prototype);return x(c,"_invoke",function(r,n,i){var o,s,l,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,s=0,l=e,f.n=r,a}};function p(r,n){for(s=r,l=n,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],p=f.p,h=o[2];r>3?(i=h===n)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,f.v=n,f.n=o[1]):p<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,f.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:r.call(n,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(r,i,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(x(t={},n,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,x(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,x(d,"constructor",c),x(c,"constructor",l),l.displayName="GeneratorFunction",x(c,i,"GeneratorFunction"),x(d),x(d,i,"Generator"),x(d,n,function(){return this}),x(d,"toString",function(){return"[object Generator]"}),(O=function(){return{w:o,m:f}})()}function x(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}x=function(e,t,r,n){function o(t,r){x(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},x(e,t,r,n)}function R(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function k(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){R(o,n,i,a,s,"next",e)}function s(e){R(o,n,i,a,s,"throw",e)}a(void 0)})}}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function L(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}function N(e,t,r){return t=D(t),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,C()?Reflect.construct(t,r||[],D(e).constructor):t.apply(e,r))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}window.Neo4jDate=w;var z="READ",M="WRITE",U=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=N(this,t,[e])).config=e,r.connectionManager=new m(e),r.session=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(t,e),r=t,n=[{key:"initialize",value:(p=k(O().m(function e(){return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.connectionManager.initialize();case 1:return e.a(2)}},e,this)})),function(){return p.apply(this,arguments)})},{key:"close",value:(f=k(O().m(function e(){return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.connectionManager.cleanup();case 1:return e.a(2)}},e,this)})),function(){return f.apply(this,arguments)})},{key:"startTransaction",value:(d=k(O().m(function e(){var t,r=arguments;return O().w(function(e){for(;;)if(0===e.n)return t=r.length>0&&void 0!==r[0]?r[0]:"WRITE",e.a(2,this.connectionManager.driver.session({defaultAccessMode:t}))},e,this)})),function(){return d.apply(this,arguments)})},{key:"endTransaction",value:(u=k(O().m(function e(){var t,r=arguments;return O().w(function(e){for(;;)switch(e.n){case 0:null!=(t=r.length>0&&void 0!==r[0]?r[0]:null)&&t.close();case 1:return e.a(2)}},e)})),function(){return u.apply(this,arguments)})},{key:"executeInTransaction",value:(c=k(O().m(function e(t,r){return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.executeWrite(function(){var e=k(O().m(function e(t){return O().w(function(e){for(;;)if(0===e.n)return e.a(2,r(t))},e)}));return function(t){return e.apply(this,arguments)}}());case 1:return e.a(2,e.v)}},e)})),function(e,t){return c.apply(this,arguments)})},{key:"executeNeo4jQuery",value:(l=k(O().m(function e(t){var r,n,i,o=arguments;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]?o[2]:z,null!=this.connectionManager){e.n=1;break}throw new Error("Neo4J connection manager has not been initialised.");case 1:return e.p=1,e.n=2,this.connectionManager.executeQuery(t,r,n);case 2:return i=e.v,e.a(2,i.records);case 3:throw e.p=3,e.v;case 4:return e.a(2)}},e,this,[[1,3]])})),function(e){return l.apply(this,arguments)})},{key:"executeRead",value:(s=k(O().m(function e(t,r){var n,i,o,a,s=arguments;return O().w(function(e){for(;;)switch(e.n){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4&&void 0!==s[4]?s[4]:0,a=s.length>5&&void 0!==s[5]?s[5]:0,e.n=1,this.executeInternal(t,I(I({},r),{},{skip:o,limit:a}),n,i,z);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"executeWrite",value:(a=k(O().m(function e(t,r){var n,i=arguments;return O().w(function(e){for(;;)switch(e.n){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:null,e.n=1,this.executeInternal(t,r,n,!0,M);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"executeInternal",value:(o=k(O().m(function e(t,r,n,i,o){var a,s;return O().w(function(e){for(;;)switch(e.n){case 0:if(null==n){e.n=2;break}return e.n=1,n.run(t,r);case 1:a=e.v,e.n=4;break;case 2:return e.n=3,this.executeNeo4jQuery(t,r,o);case 3:a=e.v;case 4:if(s=this.normaliseData(a),!i){e.n=6;break}if(!Array.isArray(s)){e.n=5;break}if(!(s.length>0)){e.n=5;break}return e.a(2,s[0]);case 5:return e.a(2,s);case 6:if(!Array.isArray(s)){e.n=7;break}return e.a(2,s);case 7:if(null==s){e.n=8;break}return e.a(2,[s]);case 8:return e.a(2,[]);case 9:return e.a(2)}},e,this)})),function(e,t,r,n,i){return o.apply(this,arguments)})},{key:"normaliseData",value:function(e){var t=this;return e.records?0===e.records.length?null:1===e.records.length?this.normaliseRecord(e.records[0]):e.records.map(function(e){return t.normaliseRecord(e)}):0===e.length?null:1===e.length?this.normaliseNodeset(e[0]):e.map(function(e){return t.normaliseNodeset(e)})}},{key:"normaliseRecord",value:function(e){var t,r={};for(t=0;t<e.keys.length;t++){var n=e.keys[t],i=e._fields[t],o=n.lastIndexOf("."),a=-1===o?n:n.substring(o+1);"object"===S(i)&&this.isDate(i)?r[a]=w.fromNeo4jDateTime(i):"object"===S(i)&&null!=i.toNumber?r[a]=i.toNumber():r[a]=i}return r}},{key:"normaliseNodeset",value:function(e){var t,r={};for(t=0;t<e.length;t++){var n=e.keys[t],i=n.lastIndexOf("."),o=-1===i?n:n.substring(i+1);if(null!=e._fields[t])if(e._fields[t].properties)r[o]=this.normaliseNode(e._fields[t]);else{var a=e._fields[t];"object"===S(a)&&this.isDate(a)?r[o]=w.fromNeo4jDateTime(a):"object"===S(a)?null!=a.toNumber?r[o]=a.toNumber():r[o]=this.normaliseObject(a):r[o]=a}else r[o]=null}return r}},{key:"normaliseNode",value:function(e){for(var t={},r=0,n=Object.entries(e.properties);r<n.length;r++){var i=_(n[r],2),o=i[0],a=i[1];"object"===S(a)&&this.isDate(a)?t[o]=w.fromNeo4jDateTime(a):"object"===S(a)?null!=a.toNumber?t[o]=a.toNumber():t[o]=this.normaliseObject(a):t[o]=a}return t}},{key:"normaliseObject",value:function(e){var t,r=this;if(Array.isArray(e))t=[],e.forEach(function(e){return t.push(r.normaliseObject(e))});else if(this.isPrimitive(e))t=e;else{t={};for(var n=0,i=Object.entries(e);n<i.length;n++){var o=_(i[n],2),a=o[0],s=o[1];null!=s&&"object"===S(s)?this.isDate(s)?t[a]=w.fromNeo4jDateTime(s):t[a]=this.normaliseObject(s):t[a]=s}}return t}},{key:"isDate",value:function(e){if(e&&e.__isInteger__)return!1;var t=new Date(e);return!isNaN(t.getTime())}},{key:"isPrimitive",value:function(e){return e!==Object(e)}}],n&&P(r.prototype,n),i&&P(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,o,a,s,l,c,u,d,f,p}(n.M)},6980:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports={des_error:({serializer:e,args:t,cursor:r,err:i})=>{void 0===r&&(r=t[0]);let o="";r instanceof n&&(r.length>32&&(o="..."),r=r.slice(0,32).toString("hex"));const a=t[1],s=t[2];let l=`${e.constructor.name}.deserialize(cursor=${r}${o}`;return void 0!==a&&(l+=`, fullyQualifiedFormat=${a}`),void 0!==s&&(l+=`, nullable=${s}`),l+=`): ${i.message.replace(/\.$/,"")}.`,i.message=l,i}}},7007:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,r)}(e,i,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var i,o,a;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,console&&console.warn}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function h(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else{var c=l.length,u=h(l,c);for(r=0;r<c;++r)n(u[r],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7037:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7656))&&n.__esModule?n:{default:n};var o=function(e){return"string"==typeof e&&i.default.test(e)};t.default=o},7092:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e}canBeUsedFor(){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.LONG,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.LONG,0]));const i=n.alloc(8);return i.writeBigInt64BE(BigInt(e)),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.LONG)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;return{v:i.readBigInt64BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7100:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return Array.isArray(e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ID,0]));let i=e.length;if(i<0&&(i=0),i>this.ioc.intSerializer.INT32_MAX)throw new Error(`Array length=${i} is greater than supported max_length=${this.ioc.intSerializer.INT32_MAX}.`);r.push(this.ioc.intSerializer.serialize(i,!1));for(let t=0;t<i;t++)r.push(this.ioc.anySerializer.serialize(e[t]));return n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ID)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");i=i.slice(a);const s=[];for(let e=0;e<o;e++){let t,n;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}}: `+t.message,t}i=i.slice(n),s.push(t)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7135:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.UNSPECIFIED_NULL]=this}canBeUsedFor(e){return null==e}serialize(e){return n.from([this.ioc.DataType.UNSPECIFIED_NULL,1])}deserialize(e){let t=0,r=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");const i=r.readUInt8();if(t++,i!==this.ioc.DataType.UNSPECIFIED_NULL)throw new Error("unexpected {type_code}");if(r=r.slice(1),r.length<1)throw new Error("{value_flag} is missing");const o=r.readUInt8();if(t++,1!==o)throw new Error("unexpected {value_flag}");return r=r.slice(1),{v:null,len:t}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:r,err:e})}}}},7186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(9025)),i=o(r(9042));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v5",80,i.default);t.default=a},7240:(e,t,r)=>{"use strict";const n=r(5737),i=n.RemoteConnection,o=n.RemoteTraversal,a=r(1104),s=r(7545),l=r(9032),c=r(3335).OptionsStrategy;class u extends i{constructor(e,t={}){super(e,t),this._client=new s(e,t)}open(){return this._client.open()}get isOpen(){return this._client.isOpen}submit(e){const t=e.sourceInstructions.find(e=>"withStrategies"===e[0]&&e[1]instanceof c),r=["evaluationTimeout","scriptEvaluationTimeout","batchSize","requestId","userAgent","materializeProperties"];let n;if(void 0!==t){n={};const e=t[1].configuration;for(const t in e)e.hasOwnProperty(t)&&r.indexOf(t)>-1&&(n[t]=e[t])}return this._client.submit(e,null,n).then(e=>new o(e.toArray()))}createSession(){if(this.isSessionBound)throw new Error("Connection is already bound to a session - child sessions are not allowed");const e=Object.assign({},this.options);return e.session=a.getUuid(),new u(this.url,e)}get isSessionBound(){return this.options.session}commit(){return this._client.submit(l.GraphOp.commit,null)}rollback(){return this._client.submit(l.GraphOp.rollback,null)}close(){return this._client.close()}addListener(...e){return this._client.addListener(...e)}removeListener(...e){return this._client.removeListener(...e)}}e.exports=u},7286:e=>{"use strict";class t extends Error{constructor(e,t){super(e),this.name="ResponseError",this.statusCode=t.code,this.statusMessage=t.message,this.statusAttributes=t.attributes||{}}}e.exports=t},7382:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n,Symbol:i}=r(4134);e.exports=c;const{ERR_METHOD_NOT_IMPLEMENTED:o}=r(6371).codes,a=r(3370),{getHighWaterMark:s}=r(5291);n(c.prototype,a.prototype),n(c,a);const l=i("kCallback");function c(e){if(!(this instanceof c))return new c(e);const t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function u(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())})}function d(){this._final!==u&&u.call(this)}c.prototype._final=u,c.prototype._transform=function(e,t,r){throw new o("_transform()")},c.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[l]=r)})},c.prototype._read=function(){if(this[l]){const e=this[l];this[l]=null,e()}}},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=s(e),a=o[0],l=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,l)),u=0,d=l>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[u++]=255&t);1===l&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(c(e,s,s+a>l?l:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function c(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(l(n));return i.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7545:(e,t,r)=>{"use strict";const n=r(1104),i=r(4074),o=r(9032);e.exports=class{constructor(e,t={}){this._options=t,"session"===this._options.processor&&(this._options.session=t.session||n.getUuid()),this._options.session&&(this._options.processor=t.processor||"session"),this._connection=new i(e,t)}open(){return this._connection.open()}get isOpen(){return this._connection.isOpen}submit(e,t,r){const n=r&&r.requestId;n&&delete r.requestId;const i=Object.assign({gremlin:e,aliases:{g:this._options.traversalSource||"g"}},r);if(this._options.session&&"session"===this._options.processor&&(i.session=this._options.session),e instanceof o)return this._options.session&&"session"===this._options.processor?this._connection.submit("session","bytecode",i,n):this._connection.submit("traversal","bytecode",i,n);if("string"==typeof e)return i.bindings=t,i.language="gremlin-groovy",i.accept=this._connection.mimeType,this._connection.submit(this._options.processor||"","eval",i,n);throw new TypeError("message must be of type Bytecode or string")}stream(e,t,r){const n=r&&r.requestId;n&&delete r.requestId;const i=Object.assign({gremlin:e,aliases:{g:this._options.traversalSource||"g"}},r);if(this._options.session&&"session"===this._options.processor&&(i.session=this._options.session),e instanceof o)return this._options.session&&"session"===this._options.processor?this._connection.stream("session","bytecode",i,n):this._connection.stream("traversal","bytecode",i,n);if("string"==typeof e)return i.bindings=t,i.language="gremlin-groovy",i.accept=this._connection.mimeType,this._connection.stream(this._options.processor||"","eval",i,n);throw new TypeError("message must be of type Bytecode or string")}close(){if(this._options.session&&"session"===this._options.processor){const e={session:this._options.session};return this._connection.submit(this._options.processor,"close",e,null).then(()=>this._connection.close())}return this._connection.close()}addListener(e,t){this._connection.on(e,t)}removeListener(e,t){this._connection.removeListener(e,t)}}},7576:(e,t,r)=>{"use strict";const n=r(5606),{ArrayPrototypeIndexOf:i,NumberIsInteger:o,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:l,ObjectKeys:c,ObjectSetPrototypeOf:u,Promise:d,SafeSet:f,SymbolAsyncDispose:p,SymbolAsyncIterator:h,Symbol:y}=r(4134);e.exports=G,G.ReadableState=q;const{EventEmitter:m}=r(7007),{Stream:g,prependListener:b}=r(4259),{Buffer:v}=r(8287),{addAbortSignal:w}=r(4147),_=r(6238);let E=r(7760).debuglog("stream",e=>{E=e});const S=r(345),T=r(5896),{getHighWaterMark:I,getDefaultHighWaterMark:A}=r(5291),{aggregateTwoErrors:O,codes:{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:k,ERR_STREAM_PUSH_AFTER_EOF:P,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:L},AbortError:N}=r(6371),{validateObject:C}=r(277),D=y("kPaused"),{StringDecoder:j}=r(3141),z=r(6532);u(G.prototype,g.prototype),u(G,g);const M=()=>{},{errorOrDestroy:U}=T,B=1,F=16,$=32,W=2048,V=4096;function H(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function q(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(3370)),this.state=W|V|F|$,e&&e.objectMode&&(this.state|=B),n&&e&&e.readableObjectMode&&(this.state|=B),this.highWaterMark=e?I(this,e,"readableHighWaterMark",n):A(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[D]=null,e&&!1===e.emitClose&&(this.state&=~W),e&&!1===e.autoDestroy&&(this.state&=~V),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new j(e.encoding),this.encoding=e.encoding)}function G(e){if(!(this instanceof G))return new G(e);const t=this instanceof r(3370);this._readableState=new q(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),g.call(this,e),T.construct(this,()=>{this._readableState.needReadable&&Z(this,this._readableState)})}function Y(e,t,r,n){E("readableAddChunk",t);const i=e._readableState;let o;if(0===(i.state&B)&&("string"==typeof t?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=v.from(t,r).toString(i.encoding):(t=v.from(t,r),r=""))):t instanceof v?r="":g._isUint8Array(t)?(t=g._uint8ArrayToBuffer(t),r=""):null!=t&&(o=new x("chunk",["string","Buffer","Uint8Array"],t))),o)U(e,o);else if(null===t)i.state&=-9,function(e,t){if(E("onEofChunk"),t.ended)return;if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?K(e):(t.needReadable=!1,t.emittedReadable=!0,X(e))}(e,i);else if(0!==(i.state&B)||t&&t.length>0)if(n)if(4&i.state)U(e,new L);else{if(i.destroyed||i.errored)return!1;Q(e,i,t,!0)}else if(i.ended)U(e,new P);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?Q(e,i,t,!1):Z(e,i)):Q(e,i,t,!1)}else n||(i.state&=-9,Z(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function Q(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(65536&t.state?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),64&t.state&&K(e)),Z(e,t)}l(q.prototype,{objectMode:H(B),ended:H(2),endEmitted:H(4),reading:H(8),constructed:H(F),sync:H($),needReadable:H(64),emittedReadable:H(128),readableListening:H(256),resumeScheduled:H(512),errorEmitted:H(1024),emitClose:H(W),autoDestroy:H(V),destroyed:H(8192),closed:H(16384),closeEmitted:H(32768),multiAwaitDrain:H(65536),readingMore:H(1<<17),dataEmitted:H(1<<18)}),G.prototype.destroy=T.destroy,G.prototype._undestroy=T.undestroy,G.prototype._destroy=function(e,t){t(e)},G.prototype[m.captureRejectionSymbol]=function(e){this.destroy(e)},G.prototype[p]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new N,this.destroy(e)),new d((t,r)=>_(this,n=>n&&n!==e?r(n):t(null)))},G.prototype.push=function(e,t){return Y(this,e,t,!1)},G.prototype.unshift=function(e,t){return Y(this,e,t,!0)},G.prototype.isPaused=function(){const e=this._readableState;return!0===e[D]||!1===e.flowing},G.prototype.setEncoding=function(e){const t=new j(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};function J(e,t){return e<=0||0===t.length&&t.ended?0:0!==(t.state&B)?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function K(e){const t=e._readableState;E("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(E("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(X,e))}function X(e){const t=e._readableState;E("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ie(e)}function Z(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(E("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function te(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[D]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function re(e){E("readable nexttick read 0"),e.read(0)}function ne(e,t){E("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ie(e),t.flowing&&!t.reading&&e.read(0)}function ie(e){const t=e._readableState;for(E("flow",t.flowing);t.flowing&&null!==e.read(););}function oe(e,t){"function"!=typeof e.read&&(e=G.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=M;function i(t){this===e?(n(),n=M):n=t}e.on("readable",i);const o=_(e,{writable:!1},e=>{r=e?O(r,e):null,n(),n=M});try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new d(i)}}}catch(e){throw r=O(r,e),r}finally{!r&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",i),o()):T.destroyer(e,null)}}(e,t);return r.stream=e,r}function ae(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function se(e){const t=e._readableState;E("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(le,t,e))}function le(e,t){if(E("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(ce,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function ce(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let ue;function de(){return void 0===ue&&(ue={}),ue}G.prototype.read=function(e){E("read",e),void 0===e?e=NaN:o(e)||(e=s(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new k("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return E("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?se(this):K(this),null;if(0===(e=J(e,t))&&t.ended)return 0===t.length&&se(this),null;let n,i=!!(64&t.state);if(E("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,E("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,E("reading, ended or constructing",i);else if(i){E("do read"),t.state|=8|$,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(e){U(this,e)}t.state&=~$,t.reading||(e=J(r,t))}return n=e>0?ae(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&se(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},G.prototype._read=function(e){throw new R("_read()")},G.prototype.pipe=function(e,t){const r=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new f(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),E("pipe count=%d opts=%j",i.pipes.length,t);const o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?s:m;function a(t,n){E("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,function(){E("cleanup"),e.removeListener("close",h),e.removeListener("finish",y),l&&e.removeListener("drain",l);e.removeListener("error",p),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",m),r.removeListener("data",d),c=!0,l&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}())}function s(){E("onend"),e.end()}let l;i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);let c=!1;function u(){c||(1===i.pipes.length&&i.pipes[0]===e?(E("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(E("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),r.pause()),l||(l=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(E("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(E("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",l))}function d(t){E("ondata");const r=e.write(t);E("dest.write",r),!1===r&&u()}function p(t){if(E("onerror",t),m(),e.removeListener("error",p),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?U(e,t):e.emit("error",t)}}function h(){e.removeListener("finish",y),m()}function y(){E("onfinish"),e.removeListener("close",h),m()}function m(){E("unpipe"),r.unpipe(e)}return r.on("data",d),b(e,"error",p),e.once("close",h),e.once("finish",y),e.emit("pipe",r),!0===e.writableNeedDrain?u():i.flowing||(E("pipe resume"),r.resume()),e},G.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=i(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},G.prototype.on=function(e,t){const r=g.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,E("on readable",i.length,i.reading),i.length?K(this):i.reading||n.nextTick(re,this))),r},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(e,t){const r=g.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(te,this),r},G.prototype.off=G.prototype.removeListener,G.prototype.removeAllListeners=function(e){const t=g.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(te,this),t},G.prototype.resume=function(){const e=this._readableState;return e.flowing||(E("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(ne,e,t))}(this,e)),e[D]=!1,this},G.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},G.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{U(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=c(e);for(let t=1;t<r.length;t++){const n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},G.prototype[h]=function(){return oe(this)},G.prototype.iterator=function(e){return void 0!==e&&C(e,"options"),oe(this,e)},l(G.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(q.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(e){this[D]=!!e}}}),G._fromList=ae,G.from=function(e,t){return z(G,e,t)},G.fromWeb=function(e,t){return de().newStreamReadableFromReadableStream(e,t)},G.toWeb=function(e,t){return de().newReadableStreamFromStreamReadable(e,t)},G.wrap=function(e,t){var r,n;return new G({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){T.destroyer(e,t),r(t)}}).wrap(e)}},7656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},7758:(e,t,r)=>{const n=r(5606),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:a,SymbolDispose:s}=r(4134),l=r(6238),{once:c}=r(7760),u=r(5896),d=r(3370),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:y,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:b}=r(6371),{validateFunction:v,validateAbortSignal:w}=r(277),{isIterable:_,isReadable:E,isReadableNodeStream:S,isNodeStream:T,isTransformStream:I,isWebStream:A,isReadableStream:O,isReadableFinished:x}=r(6115),R=globalThis.AbortController||r(5568).AbortController;let k,P,L;function N(e,t,r){let n=!1;e.on("close",()=>{n=!0});return{destroy:t=>{n||(n=!0,u.destroyer(e,t||new m("pipe")))},cleanup:l(e,{readable:t,writable:r},e=>{n=!e})}}function C(e){if(_(e))return e;if(S(e))return async function*(e){P||(P=r(7576));yield*P.prototype[a].call(e)}(e);throw new p("val",["Readable","Iterable","AsyncIterable"],e)}async function D(e,t,r,{end:n}){let i,a=null;const s=e=>{if(e&&(i=e),a){const e=a;a=null,e()}},c=()=>new o((e,t)=>{i?t(i):a=()=>{i?t(i):e()}});t.on("drain",s);const u=l(t,{readable:!1},s);try{t.writableNeedDrain&&await c();for await(const r of e)t.write(r)||await c();n&&(t.end(),await c()),r()}catch(e){r(i!==e?f(i,e):e)}finally{u(),t.off("drain",s)}}async function j(e,t,r,{end:n}){I(t)&&(t=t.writable);const i=t.getWriter();try{for await(const t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function z(e,t,o){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new y("streams");const a=new R,l=a.signal,c=null==o?void 0:o.signal,u=[];function f(){B(new b)}let m,g,v;w(c,"options.signal"),L=L||r(7760).addAbortListener,c&&(m=L(c,f));const x=[];let P,z=0;function U(e){B(e,0===--z)}function B(e,r){var i;if(!e||g&&"ERR_STREAM_PREMATURE_CLOSE"!==g.code||(g=e),g||r){for(;x.length;)x.shift()(g);null===(i=m)||void 0===i||i[s](),a.abort(),r&&(g||u.forEach(e=>e()),n.nextTick(t,g,v))}}for(let V=0;V<e.length;V++){const H=e[V],q=V<e.length-1,G=V>0,Y=q||!1!==(null==o?void 0:o.end),Q=V===e.length-1;if(T(H)){if(Y){const{destroy:J,cleanup:K}=N(H,q,G);x.push(J),E(H)&&Q&&u.push(K)}function F(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&U(e)}H.on("error",F),E(H)&&Q&&u.push(()=>{H.removeListener("error",F)})}if(0===V)if("function"==typeof H){if(P=H({signal:l}),!_(P))throw new h("Iterable, AsyncIterable or Stream","source",P)}else P=_(H)||S(H)||I(H)?H:d.from(H);else if("function"==typeof H){var $;if(I(P))P=C(null===($=P)||void 0===$?void 0:$.readable);else P=C(P);if(P=H(P,{signal:l}),q){if(!_(P,!0))throw new h("AsyncIterable",`transform[${V-1}]`,P)}else{var W;k||(k=r(6524));const X=new k({objectMode:!0}),Z=null===(W=P)||void 0===W?void 0:W.then;if("function"==typeof Z)z++,Z.call(P,e=>{v=e,null!=e&&X.write(e),Y&&X.end(),n.nextTick(U)},e=>{X.destroy(e),n.nextTick(U,e)});else if(_(P,!0))z++,D(P,X,U,{end:Y});else{if(!O(P)&&!I(P))throw new h("AsyncIterable or Promise","destination",P);{const re=P.readable||P;z++,D(re,X,U,{end:Y})}}P=X;const{destroy:ee,cleanup:te}=N(P,!1,!0);x.push(ee),Q&&u.push(te)}}else if(T(H)){if(S(P)){z+=2;const ne=M(P,H,U,{end:Y});E(H)&&Q&&u.push(ne)}else if(I(P)||O(P)){const ie=P.readable||P;z++,D(ie,H,U,{end:Y})}else{if(!_(P))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],P);z++,D(P,H,U,{end:Y})}P=H}else if(A(H)){if(S(P))z++,j(C(P),H,U,{end:Y});else if(O(P)||_(P))z++,j(P,H,U,{end:Y});else{if(!I(P))throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],P);z++,j(P.readable,H,U,{end:Y})}P=H}else P=d.from(H)}return(null!=l&&l.aborted||null!=c&&c.aborted)&&n.nextTick(f),P}function M(e,t,r,{end:i}){let o=!1;if(t.on("close",()=>{o||r(new g)}),e.pipe(t,{end:!1}),i){function a(){o=!0,t.end()}x(e)?n.nextTick(a):e.once("end",a)}else r();return l(e,{readable:!0,writable:!1},t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),l(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:z,pipeline:function(...e){return z(e,c(function(e){return v(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},7760:(e,t,r)=>{"use strict";const n=r(8287),{format:i,inspect:o}=r(9231),{codes:{ERR_INVALID_ARG_TYPE:a}}=r(6371),{kResistStopPropagation:s,AggregateError:l,SymbolDispose:c}=r(4134),u=globalThis.AbortSignal||r(5568).AbortSignal,d=globalThis.AbortController||r(5568).AbortController,f=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||n.Blob,h=void 0!==p?function(e){return e instanceof p}:function(e){return!1},y=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new a(t,"AbortSignal",e)};e.exports={AggregateError:l,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:i,inspect:o,types:{isAsyncFunction:e=>e instanceof f,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:h,deprecate:(e,t)=>e,addAbortListener:r(7007).addAbortListener||function(e,t){if(void 0===e)throw new a("signal","AbortSignal",e);let r;return y(e,"signal"),((e,t)=>{if("function"!=typeof e)throw new a(t,"Function",e)})(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[c](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:u.any||function(e){if(1===e.length)return e[0];const t=new d,r=()=>t.abort();return e.forEach(e=>{y(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},7765:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BULKSET]=this}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BULKSET)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");i=i.slice(a);let s=new Array;for(let e=0;e<o;e++){let t,n,o,a;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}} value: `+t.message,t}i=i.slice(n);try{({v:o,len:a}=this.ioc.longSerializer.deserialize(i,!1)),r+=a}catch(t){throw t.message=`{item_${e}} bulk: `+t.message,t}if(o<0)throw new Error(`{item_${e}}: bulk is less than zero`);if(o>4294967295)throw new Error(`{item_${e}}: bulk is greater than 2^32-1`);i=i.slice(a),o=Number(o);const l=new Array(o).fill(t);s=s.concat(l)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7775:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7037))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},7777:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTEBUFFER]=this}canBeUsedFor(e){return e instanceof n}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BYTEBUFFER,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.BYTEBUFFER,0]));let i=e.length;if(i<0&&(i=0),i>this.ioc.intSerializer.INT32_MAX)throw new Error(`Buffer length=${i} is greater than supported max_length=${this.ioc.intSerializer.INT32_MAX}.`);return r.push(this.ioc.intSerializer.serialize(i,!1)),r.push(e),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BYTEBUFFER)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");if(i=i.slice(a),o!==i.length)throw new Error(`{value}: unexpected actual {value} length=${i.length} when {length}=${o}`);const s=i.slice(0,o);return r+=o,{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7830:(e,t,r)=>{"use strict";const{pipeline:n}=r(7758),i=r(3370),{destroyer:o}=r(5896),{isNodeStream:a,isReadable:s,isWritable:l,isWebStream:c,isTransformStream:u,isWritableStream:d,isReadableStream:f}=r(6115),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:y}}=r(6371),m=r(6238);e.exports=function(...e){if(0===e.length)throw new y("streams");if(1===e.length)return i.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=i.from(e[t])}for(let r=0;r<e.length;++r)if(a(e[r])||c(e[r])){if(r<e.length-1&&!(s(e[r])||f(e[r])||u(e[r])))throw new h(`streams[${r}]`,t[r],"must be readable");if(r>0&&!(l(e[r])||d(e[r])||u(e[r])))throw new h(`streams[${r}]`,t[r],"must be writable")}let r,g,b,v,w;const _=e[0],E=n(e,function(e){const t=v;v=null,t?t(e):e?w.destroy(e):T||S||w.destroy()}),S=!!(l(_)||d(_)||u(_)),T=!!(s(E)||f(E)||u(E));if(w=new i({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==E||!E.readableObjectMode),writable:S,readable:T}),S){if(a(_))w._write=function(e,t,n){_.write(e,t)?n():r=n},w._final=function(e){_.end(),g=e},_.on("drain",function(){if(r){const e=r;r=null,e()}});else if(c(_)){const e=(u(_)?_.writable:_).getWriter();w._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},w._final=async function(t){try{await e.ready,e.close().catch(()=>{}),g=t}catch(e){t(e)}}}const e=u(E)?E.readable:E;m(e,()=>{if(g){const e=g;g=null,e()}})}if(T)if(a(E))E.on("readable",function(){if(b){const e=b;b=null,e()}}),E.on("end",function(){w.push(null)}),w._read=function(){for(;;){const e=E.read();if(null===e)return void(b=w._read);if(!w.push(e))return}};else if(c(E)){const e=(u(E)?E.readable:E).getReader();w._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!w.push(t))return;if(r)return void w.push(null)}catch{return}}}return w._destroy=function(e,t){e||null===v||(e=new p),b=null,r=null,g=null,null===v?t(e):(v=t,a(E)&&o(E,e))},w}},8095:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.MAP]=this}canBeUsedFor(e){return null!=e&&(e instanceof Map||!Array.isArray(e)&&"object"==typeof e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.MAP,1]):this.ioc.intSerializer.serialize(0,!1);const r=e instanceof Map,i=r?Array.from(e.keys()):Object.keys(e);let o=i.length;o<0?o=0:o>this.ioc.intSerializer.INT32_MAX&&(o=this.ioc.intSerializer.INT32_MAX);const a=[];t&&a.push(n.from([this.ioc.DataType.MAP,0])),a.push(this.ioc.intSerializer.serialize(o,!1));for(let t=0;t<o;t++){const n=i[t],o=r?e.get(n):e[n];a.push(this.ioc.anySerializer.serialize(n),this.ioc.anySerializer.serialize(o))}return n.concat(a)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.MAP)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");i=i.slice(a);const s=new Map;for(let e=0;e<o;e++){let t,n,o,a;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}} key: `+t.message,t}i=i.slice(n);try{({v:o,len:a}=this.ioc.anySerializer.deserialize(i)),r+=a}catch(t){throw t.message=`{item_${e}} value: `+t.message,t}i=i.slice(a),s.set(t,o)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},8209:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,n,i,o){var s=n&&n.prototype instanceof c?n:c,u=Object.create(s.prototype);return a(u,"_invoke",function(r,n,i){var o,a,s,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,a=0,s=e,f.n=r,l}};function p(r,n){for(a=r,s=n,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],p=f.p,h=o[2];r>3?(i=h===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=r<2&&p<o[1])?(a=0,f.v=n,f.n=o[1]):p<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,f.n=h,a=0))}if(i||r>1)return l;throw d=!0,n}return function(i,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),a=u,s=h;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(f.n=-1),p(a,s)):f.n=s:f.v=s);try{if(c=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=f.n<0)?s:r.call(n,f))!==l)break}catch(t){o=e,a=1,s=t}finally{c=1}}return{value:t,done:d}}}(r,i,o),!0),u}var l={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),p=d.prototype=c.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=d,a(p,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(p),a(p,i,"Generator"),a(p,n,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:h}})()}function a(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}a=function(e,t,r,n){function o(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},a(e,t,r,n)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var d=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1,this.dynamicElements=new Set,this.translationQueue=new Set,this.translationScheduled=!1},n=[{key:"initializeEventListeners",value:function(){var e=this;i18n.on("localeChanged",function(t){e.updatePageLocalization(t)}),document.querySelectorAll(".locale-option").forEach(function(t){t.addEventListener("click",function(){var t=l(o().m(function t(r){var n;return o().w(function(t){for(;;)switch(t.n){case 0:return n=r.currentTarget.getAttribute("data-locale"),t.n=1,e.handleLocaleChange(n);case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())})}},{key:"handleLocaleChange",value:(a=l(o().m(function e(t){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!this.isChangingLocale){e.n=1;break}return e.a(2);case 1:return e.p=1,this.isChangingLocale=!0,document.body.classList.add("changing-locale"),e.n=2,i18n.setLocale(t);case 2:if(e.v){e.n=3;break}throw new Error("Failed to load locale: ".concat(t));case 3:e.n=5;break;case 4:e.p=4,e.v,showError("Failed to change language settings");case 5:return e.p=5,this.isChangingLocale=!1,document.body.classList.remove("changing-locale"),e.f(5);case 6:return e.a(2)}},e,this,[[1,4,5,6]])})),function(e){return a.apply(this,arguments)})},{key:"initializeDynamicElements",value:function(){var e=this;this.dynamicElements=new Set([].concat(r(document.querySelectorAll("[data-i18n]")),r(document.querySelectorAll("[data-i18n-placeholder]")),r(document.querySelectorAll("[data-i18n-aria-label]")),r(document.querySelectorAll("[data-i18n-title]")),r(document.querySelectorAll("[data-i18n-dynamic]")),r(document.querySelectorAll("[data-i18n-date]")),r(document.querySelectorAll("[data-i18n-params]")))),new MutationObserver(function(t){t.forEach(function(t){if("childList"===t.type)t.addedNodes.forEach(function(t){if(t.nodeType===Node.ELEMENT_NODE){var r=[];(t.hasAttribute("data-i18n")||t.hasAttribute("data-i18n-placeholder")||t.hasAttribute("data-i18n-aria-label")||t.hasAttribute("data-i18n-title")||t.hasAttribute("data-i18n-dynamic")||t.hasAttribute("data-i18n-date"))&&(e.dynamicElements.add(t),r.push(t)),t.querySelectorAll("[data-i18n], [data-i18n-placeholder], [data-i18n-aria-label], [data-i18n-title], [data-i18n-dynamic], [data-i18n-date]").forEach(function(t){e.dynamicElements.add(t),r.push(t)}),e.queueForTranslation(r)}});else if("attributes"===t.type){var r=t.target;r.nodeType===Node.ELEMENT_NODE&&(r.hasAttribute("data-i18n")||r.hasAttribute("data-i18n-placeholder")||r.hasAttribute("data-i18n-aria-label")||r.hasAttribute("data-i18n-title")||r.hasAttribute("data-i18n-dynamic")||r.hasAttribute("data-i18n-date")||r.hasAttribute("data-i18n-params"))&&(e.dynamicElements.add(r),e.queueForTranslation([r]))}})}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-i18n","data-i18n-placeholder","data-i18n-aria-label","data-i18n-title","data-i18n-dynamic","data-i18n-date","data-i18n-params"]})}},{key:"updateElementLocalization",value:function(e){try{if(e.hasAttribute("data-i18n")){var r=e.getAttribute("data-i18n"),n=i18n.translate(r);if(n)if("BUTTON"===e.tagName&&e.querySelector(".spinner")){var i=e.querySelector("span[data-i18n]");if(i)i.textContent=n;else{var o=e.querySelector(".spinner");e.innerHTML="",e.appendChild(o);var a=document.createElement("span");a.setAttribute("data-i18n",r),a.textContent=n,e.appendChild(a)}}else e.textContent=n}if(e.hasAttribute("data-i18n-title")){var s=e.getAttribute("data-i18n-title"),l=i18n.translate(s);l&&(e.title=l)}if(e.hasAttribute("data-i18n-placeholder")){var c=e.getAttribute("data-i18n-placeholder"),u=i18n.translate(c);u&&(e.placeholder=u)}if(e.hasAttribute("data-i18n-aria-label")){var d=e.getAttribute("data-i18n-aria-label"),f=i18n.translate(d);f&&e.setAttribute("aria-label",f)}if(e.hasAttribute("data-i18n-title")){var p=e.getAttribute("data-i18n-title"),h=i18n.translate(p);h&&(e.title=h)}if(e.hasAttribute("data-i18n-dynamic")){var y=e.getAttribute("data-i18n-dynamic"),m=e.getAttribute("data-i18n-params"),g=m?JSON.parse(m):{},b=i18n.translate(y,g);b&&(e.textContent=b)}if(e.hasAttribute("data-i18n-date")){var v=e.getAttribute("data-i18n-date"),w=e.getAttribute("data-date");if(w){var _,E="datetime",S="medium";if(v.includes("-")){var T=t(v.split("-"),2);E=T[0],S=T[1]}else S=v;switch(E){case"date":_=i18n.culturalConfig.formatDate(new Date(w),S);break;case"time":_=i18n.culturalConfig.formatTime(new Date(w),S);break;default:_=i18n.culturalConfig.formatDateTime(new Date(w),S)}var I=e.querySelector("i"),A=I?I.outerHTML:"";e.innerHTML=A+_}}}catch(e){}}},{key:"queueForTranslation",value:function(e){var t=this;e.forEach(function(e){return t.translationQueue.add(e)}),this.scheduleTranslation()}},{key:"scheduleTranslation",value:function(){var e=this;this.translationScheduled||(this.translationScheduled=!0,requestAnimationFrame(function(){e.processTranslationQueue(),e.translationScheduled=!1}))}},{key:"processTranslationQueue",value:function(){var e=this;this.translationQueue.forEach(function(t){document.body.contains(t)&&e.updateElementLocalization(t)}),this.translationQueue.clear()}},{key:"updatePageLocalization",value:function(e){var t=this;try{this.dynamicElements.forEach(function(e){document.body.contains(e)?t.updateElementLocalization(e):t.dynamicElements.delete(e)}),document.documentElement.setAttribute("dir",e.direction),document.documentElement.setAttribute("lang",e.locale.split("-")[0]),this.applyCulturalStyles(e.culturalPreferences),window.dispatchEvent(new CustomEvent("localizationUpdated",{detail:e}))}catch(e){}}},{key:"applyCulturalStyles",value:function(e){var t=document.documentElement;t.style.setProperty("--decimal-separator",e.numberFormat.decimal),t.style.setProperty("--grouping-separator",e.numberFormat.group),t.style.setProperty("--time-format",e.timeFormat.short),t.style.setProperty("--date-format",e.dateFormat.medium),t.style.setProperty("--date-time-format",e.dateTimeFormat.medium)}},{key:"initialize",value:function(){this.initialized||(this.initializeDynamicElements(),this.initializeEventListeners(),this.initialized=!0);var e={locale:i18n.currentLocale,direction:i18n.culturalConfig.isRTL()?"rtl":"ltr",culturalPreferences:i18n.culturalConfig.getCulturalPreferences()};this.updatePageLocalization(e)}}],n&&c(e.prototype,n),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,i,a}();window.localeUI=new d},8287:(e,t,r)=>{"use strict";const n=r(7526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);const i=function(e){if(l.isBuffer(e)){const t=0|h(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||J(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|h(e))}function f(e){const t=e.length<0?0:0|h(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function y(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(i)return n?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(J(n))return a;e[r+a]=n}return a}function _(e,t,r,n){return Y(q(t,e.length-r),e,r,n)}function E(e,t,r,n){return Y(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return Y(G(t),e,r,n)}function T(e,t,r,n){return Y(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(l=(31&t)<<6|63&r,l>127&&(o=l));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(l=(15&t)<<12|(63&r)<<6|63&n,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!l.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(Q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=l.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Q(t,Uint8Array))i+t.length>n.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,i){if(Q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),c=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<s;++e)if(c[e]!==u[e]){o=c[e],a=u[e];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function x(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=K[e[n]];return i}function P(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,i){$(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function D(e,t,r,n,i){$(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=X(function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))}),l.prototype.readBigUInt64BE=X(function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=X(function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),l.prototype.readBigInt64BE=X(function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){N(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){N(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=X(function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=X(function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=X(function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=X(function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const U={};function B(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function $(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,o)}function W(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw W(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),B("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),B("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);const H=/[^+/0-9A-Za-z-_]/g;function q(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const K=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},8331:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GremlinDatabaseService:()=>x});var n=r(1982);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,n,i,o){var s=n&&n.prototype instanceof c?n:c,u=Object.create(s.prototype);return a(u,"_invoke",function(r,n,i){var o,a,s,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,a=0,s=e,f.n=r,l}};function p(r,n){for(a=r,s=n,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],p=f.p,h=o[2];r>3?(i=h===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=r<2&&p<o[1])?(a=0,f.v=n,f.n=o[1]):p<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,f.n=h,a=0))}if(i||r>1)return l;throw d=!0,n}return function(i,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),a=u,s=h;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(f.n=-1),p(a,s)):f.n=s:f.v=s);try{if(c=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=f.n<0)?s:r.call(n,f))!==l)break}catch(t){o=e,a=1,s=t}finally{c=1}}return{value:t,done:d}}}(r,i,o),!0),u}var l={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),p=d.prototype=c.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=d,a(p,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(p),a(p,i,"Generator"),a(p,n,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:h}})()}function a(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}a=function(e,t,r,n){function o(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},a(e,t,r,n)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var d=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t},t=[{key:"initialize",value:(s=l(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:return this.client=t,e.n=1,this.client.open();case 1:return e.a(2)}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"close",value:(a=l(o().m(function e(){var t,r;return o().w(function(e){for(;;)switch(e.n){case 0:if(null===(t=this.client)||void 0===t||!t.isOpen){e.n=2;break}return e.n=1,null===(r=this.client)||void 0===r?void 0:r.close();case 1:this.client=null;case 2:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"runQuery",value:(n=l(o().m(function e(t){var r,n,i=arguments;return o().w(function(e){for(;;)switch(e.n){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:null,n=i.length>2&&void 0!==i[2]&&i[2],null!=this.client){e.n=1;break}throw new Error("Gremlin client has not been initialised.");case 1:if(this.client.isOpen){e.n=2;break}return e.n=2,this.client.open();case 2:if(!n){e.n=4;break}return e.n=3,this.client.submit(t,r);case 3:case 5:return e.a(2,e.v);case 4:return utils.debugLog(this.prepareQuery(t,r)),e.n=5,this.client.submit(this.prepareQuery(t,r))}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"prepareQuery",value:function(e,t){for(var r,n=this,i=null!=t?t:{},o=[],a=/\$([a-zA-Z0-9_]+)\b/g;null!=(r=a.exec(e));)o.push(r[1]);var s=o.filter(function(e){return!(e in i)});if(s.length>0)throw new Error("One or more parameters, ".concat(s.join(", "),", are referenced in the query but not included in the parameters object."));if(null!=t&&0!==Object.keys(t).length){var l=Object.keys(t).sort(function(e,t){return t.length-e.length}),c=new RegExp("\\$(".concat(l.join("|"),")\\b"),"g");e=e.replace(c,function(e,r){var i=t[r],o=n.sanitiseValue(i);return null===o?"null":o})}return e}},{key:"sanitiseValue",value:function(e){if(null==e)return null;switch(i(e)){case"string":return this.escapeSpecial(e,"'");case"number":case"boolean":return e.toString();case"object":return Array.isArray(e)?!0===e.isRawArray?e.quotedElements?e.map(function(e){return'"'.concat(e,'"')}).join(", "):e.join(", "):"'".concat(JSON.stringify(e),"'"):this.isDate(e)?"'".concat(new Date(e).toISOString(),"'"):this.escapeSpecial(e,'"');default:throw new Error("Unsupported parameter type: ".concat(i(e)))}}},{key:"escapeSpecial",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"'";return"".concat(t).concat(e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\$/g,"\\$").replace(/`/g,"\\u0060")).concat(t)}},{key:"isDate",value:function(e){var t=new Date(e);return!isNaN(t.getTime())}}],t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,a,s}();function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var l=n&&n.prototype instanceof s?n:s,c=Object.create(l.prototype);return v(c,"_invoke",function(r,n,i){var o,s,l,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,s=0,l=e,f.n=r,a}};function p(r,n){for(s=r,l=n,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],p=f.p,h=o[2];r>3?(i=h===n)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,f.v=n,f.n=o[1]):p<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,f.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:r.call(n,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(r,i,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(v(t={},n,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,v(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,v(d,"constructor",c),v(c,"constructor",l),l.displayName="GeneratorFunction",v(c,i,"GeneratorFunction"),v(d),v(d,i,"Generator"),v(d,n,function(){return this}),v(d,"toString",function(){return"[object Generator]"}),(b=function(){return{w:o,m:f}})()}function v(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}v=function(e,t,r,n){function o(t,r){v(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},v(e,t,r,n)}function w(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function _(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){w(o,n,i,a,s,"next",e)}function s(e){w(o,n,i,a,s,"throw",e)}a(void 0)})}}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function S(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}function T(e,t,r){return t=A(t),function(e,t){if(t&&("object"==g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,I()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(I=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var x=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=T(this,t,[e])).config=e,n.gremlin=r,n.gremlinClient=new d(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),r=t,n=[{key:"initialize",value:(u=_(b().m(function e(){var t,r;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=new this.gremlin.driver.auth.PlainTextSaslAuthenticator("/dbs/".concat(this.config.db,"/colls/").concat(this.config.graph),this.config.key),r=new this.gremlin.driver.Client(this.config.endpoint,{authenticator:t,traversalSource:"g",rejectUnauthorized:!0,mimeType:"application/vnd.gremlin-v2.0+json"}),e.n=1,this.gremlinClient.initialize(r);case 1:e.n=3;break;case 2:throw e.p=2,e.v;case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return u.apply(this,arguments)})},{key:"close",value:(c=_(b().m(function e(){return b().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.gremlinClient.close();case 1:case 2:return e.a(2)}},e,this)})),function(){return c.apply(this,arguments)})},{key:"startTransaction",value:function(){return null}},{key:"endTransaction",value:function(){}},{key:"executeInTransaction",value:(l=_(b().m(function e(t,r){return b().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r(null);case 1:return e.a(2,e.v)}},e)})),function(e,t){return l.apply(this,arguments)})},{key:"transformRecord",value:function(e){if(!e)return null;try{var t={};return e.properties?Object.keys(e.properties).forEach(function(r){var n=e.properties[r];Array.isArray(n)&&n.length>0?t[r]=n[0].value:"string"==typeof n&&n.length>1&&"["===n[0]&&"{"!==n[1]?t[r]=JSON.parse(n):t[r]=n}):e.value&&e.value.properties?Object.keys(e.value.properties).forEach(function(r){var n=e.properties[r];Array.isArray(n)&&n.length>0?t[r]=n[0].value:"string"==typeof n&&n.length>1&&"["===n[0]&&"{"!==n[1]?t[r]=JSON.parse(n):t[r]=n}):"object"===g(e)&&Object.keys(e).forEach(function(r){var n=e[r];"string"==typeof n&&n.length>1&&"["===n[0]&&"{"!==n[1]?t[r]=JSON.parse(n):t[r]=n}),t.created_date&&"string"==typeof t.created_date&&(t.created_date=new Date(t.created_date)),t.last_modified_date&&"string"==typeof t.last_modified_date&&(t.last_modified_date=new Date(t.last_modified_date)),t}catch(t){return e}}},{key:"executeRead",value:(s=_(b().m(function e(t,r){var n,i,o,a,s=arguments;return b().w(function(e){for(;;)if(0===e.n)return n=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4&&void 0!==s[4]?s[4]:0,a=s.length>5&&void 0!==s[5]?s[5]:0,e.a(2,this.executeInternal(t,y(y({},r),{},{skip:o,limit:a+o}),n,i,"WRITE"))},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"executeWrite",value:(a=_(b().m(function e(t,r){var n,i=arguments;return b().w(function(e){for(;;)if(0===e.n)return n=i.length>2&&void 0!==i[2]?i[2]:null,e.a(2,this.executeInternal(t,r,n,!0,"WRITE"))},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"_transformParameters",value:function(e){var t=y({},e);return this.queryStrings&&this.queryStrings.cosmosdb_default_values&&"object"===g(this.queryStrings.cosmosdb_default_values)&&Object.entries(this.queryStrings.cosmosdb_default_values).forEach(function(e){var r=f(e,2),n=r[0],i=r[1],o=t[n];(null==o||"string"==typeof o&&""===o||Array.isArray(o)&&0===o.length)&&(t[n]=i)}),this.queryStrings&&this.queryStrings.cosmosdb_force_lowercase&&Array.isArray(this.queryStrings.cosmosdb_force_lowercase)&&this.queryStrings.cosmosdb_force_lowercase.length>0&&this.queryStrings.cosmosdb_force_lowercase.forEach(function(e){e in t&&"string"==typeof t[e]&&(t[e]=t[e].toLowerCase())}),t}},{key:"executeInternal",value:(o=_(b().m(function e(t,r,n,i,o){var a,s,l;return b().w(function(e){for(;;)switch(e.n){case 0:return s=this._transformParameters(r),utils.debugLog("Executing Gremlin query:\n".concat(t)),e.n=1,this.gremlinClient.runQuery(t,y(y({},s),{},{partitionkeyproperty:this.config.partitionkeyproperty,partitionkeyvalue:this.config.partitionkeyvalue}));case 1:if(a=e.v,l=this.normaliseData(a),!i){e.n=3;break}if(!Array.isArray(l)){e.n=2;break}if(!(l.length>0)){e.n=2;break}return e.a(2,l[0]);case 2:return e.a(2,l);case 3:if(!Array.isArray(l)){e.n=4;break}return e.a(2,l);case 4:if(null==l){e.n=5;break}return e.a(2,[l]);case 5:return e.a(2,[]);case 6:return e.a(2)}},e,this)})),function(e,t,r,n,i){return o.apply(this,arguments)})},{key:"normaliseData",value:function(e){var t=this;return 0===e._items.length?null:1===e._items.length?this.transformRecord(e._items[0]):e._items.map(function(e){return t.transformRecord(e)})}}],n&&E(r.prototype,n),i&&E(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,o,a,s,l,c,u}(n.M)},8372:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e;const t=e=>{const t={};return Object.values(e).forEach(e=>t[e.elementName]=e),t},r=e.DataType;this.types=[{name:"Barrier",code:r.BARRIER,enum:t(i.barrier)},{name:"Cardinality",code:r.CARDINALITY,enum:t(i.cardinality)},{name:"Column",code:r.COLUMN,enum:t(i.column)},{name:"Direction",code:r.DIRECTION,enum:t(i.direction)},{name:"DT",code:r.DT,enum:t(i.dt)},{name:"Merge",code:r.MERGE,enum:t(i.merge)},{name:"Operator",code:r.OPERATOR,enum:t(i.operator)},{name:"Order",code:r.ORDER,enum:t(i.order)},{name:"Pick",code:r.PICK,enum:t(i.pick)},{name:"Pop",code:r.POP,enum:t(i.pop)},{name:"Scope",code:r.SCOPE,enum:t(i.scope)},{name:"T",code:r.T,enum:t(i.t)}],this.byname={},this.bycode={};for(const e of this.types)this.ioc.serializers[e.code]=this,this.byname[e.name]=e,this.bycode[e.code]=e}canBeUsedFor(e){if(!(e instanceof i.EnumValue))return!1;if(!this.byname[e.typeName])throw new Error(`EnumSerializer.serialize: typeName=${e.typeName} is not supported.`);return!0}serialize(e,t=!0){const r=this.byname[e.typeName];if(void 0===e.elementName||null===e.elementName)return t?n.from([r.code,1]):n.from([this.ioc.DataType.STRING,0,0,0,0,0]);const i=[];return t&&i.push(n.from([r.code,0])),i.push(this.ioc.stringSerializer.serialize(e.elementName,!0)),n.concat(i)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");let a,s,l,c;if(t){const e=o.readUInt8();if(r++,a=this.bycode[e],!a)throw new Error(`unexpected {type_code}=${e}`);if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}try{({v:s,len:l}=this.ioc.stringSerializer.deserialize(o,!0)),r+=l}catch(e){throw e.message="elementName: "+e.message,e}return o=o.slice(l),c=a?a.enum[s]:new i.EnumValue(void 0,s),{v:c,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},8402:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(9253);e.exports=class extends i{constructor(e){if(super(e),void 0===this._options.username||null===this._options.username||0===this._options.username.length||void 0===this._options.password||null===this._options.password||0===this._options.password.length)throw new Error("Missing credentials for SASL PLAIN mechanism")}get name(){return"PLAIN"}evaluateChallenge(e){return this._hasInitialResponse(e)?Promise.resolve({saslMechanism:this.name,sasl:this._saslArgument(this._options.authzid,this._options.username,this._options.password)}):Promise.resolve({sasl:this._saslArgument(this._options.authzid,this._options.username,this._options.password)})}_saslArgument(e,t,r){return null==e&&(e=""),null==t&&(t=""),void 0!==r&&null!==r.length||(r=""),n.from(`${e}\0${t}\0${r}`).toString("base64")}_hasInitialResponse(e){return null!=e}}},8498:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Neo4jHTTPSDatabaseService:()=>A});var n=r(1982);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,n,i,o){var s=n&&n.prototype instanceof c?n:c,u=Object.create(s.prototype);return a(u,"_invoke",function(r,n,i){var o,a,s,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,a=0,s=e,f.n=r,l}};function p(r,n){for(a=r,s=n,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],p=f.p,h=o[2];r>3?(i=h===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=r<2&&p<o[1])?(a=0,f.v=n,f.n=o[1]):p<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,f.n=h,a=0))}if(i||r>1)return l;throw d=!0,n}return function(i,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),a=u,s=h;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(f.n=-1),p(a,s)):f.n=s:f.v=s);try{if(c=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=f.n<0)?s:r.call(n,f))!==l)break}catch(t){o=e,a=1,s=t}finally{c=1}}return{value:t,done:d}}}(r,i,o),!0),u}var l={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),p=d.prototype=c.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=d,a(p,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(p),a(p,i,"Generator"),a(p,n,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:h}})()}function a(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}a=function(e,t,r,n){function o(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},a(e,t,r,n)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)})}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var d=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t.uri)throw new Error("Invalid Neo4j configuration: URI is required");if(!(t.neo4j_serverauth||t.username&&t.password))throw new Error("Invalid Neo4j configuration: Either neo4j_serverauth OR both username and password must be provided");if(this.config=t,this.connectionRetryCount=0,this.maxRetries=3,this.baseUrl=this.config.uri,t.neo4j_serverauth)this.authHeader="Basic ".concat(t.neo4j_serverauth);else{var r="".concat(this.config.username,":").concat(this.config.password);this.authHeader="Basic ".concat(btoa(r))}},t=[{key:"executeQuery",value:(a=l(o().m(function e(t,r,n){var i,a,s,l,c,u,d;return o().w(function(e){for(;;)switch(e.n){case 0:return i={statement:t.replaceAll("\n"," "),parameters:r},a={Authorization:this.authHeader,"Content-Type":"application/json",Accept:"application/json"},n&&n.clusterAffinity&&(a["neo4j-cluster-affinity"]=n.clusterAffinity),s=n&&n.id?"".concat(this.baseUrl).concat(this.baseUrl.endsWith("/")?"":"/","tx/").concat(n.id):this.baseUrl,e.n=1,fetch(s,{method:"POST",headers:a,body:JSON.stringify(i)});case 1:if((l=e.v).ok){e.n=3;break}return e.n=2,l.text();case 2:throw c=e.v,new Error("Neo4j Query API Error: ".concat(l.status," ").concat(l.statusText," - ").concat(c));case 3:return e.n=4,l.json();case 4:if(!((u=e.v).errors&&Array.isArray(u.errors)&&u.errors.length>0)){e.n=5;break}throw d=u.errors[0],new Error("Neo4j Error [".concat(d.code,"]: ").concat(d.message));case 5:return e.a(2,u.data?u.data:null)}},e,this)})),function(e,t,r){return a.apply(this,arguments)})},{key:"startTransaction",value:(i=l(o().m(function e(){var t,r,n,i;return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fetch("".concat(this.baseUrl).concat(this.baseUrl.endsWith("/")?"":"/","tx"),{method:"POST",headers:{Authorization:this.authHeader,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});case 1:if((t=e.v).ok){e.n=3;break}return e.n=2,t.text();case 2:throw r=e.v,new Error("Neo4j Transaction Error: ".concat(t.status," ").concat(t.statusText," - ").concat(r));case 3:return e.n=4,t.json();case 4:return n=e.v,i=t.headers.get("neo4j-cluster-affinity"),e.a(2,{id:n.transaction.id,expires:n.transaction.expires,clusterAffinity:i,open:!0})}},e,this)})),function(){return i.apply(this,arguments)})},{key:"commitTransaction",value:(n=l(o().m(function e(t){var r,n;return o().w(function(e){for(;;)switch(e.n){case 0:if(t&&t.id){e.n=1;break}throw new Error("Invalid transaction information");case 1:if(t.open){e.n=2;break}return e.a(2);case 2:return e.n=3,fetch("".concat(this.baseUrl).concat(this.baseUrl.endsWith("/")?"":"/","tx/").concat(t.id,"/commit"),{method:"POST",headers:{Authorization:this.authHeader,"Content-Type":"application/json",Accept:"application/json","neo4j-cluster-affinity":t.clusterAffinity||""},body:JSON.stringify({})});case 3:if((r=e.v).ok){e.n=5;break}return e.n=4,r.text();case 4:throw n=e.v,new Error("Neo4j Commit Error: ".concat(r.status," ").concat(r.statusText," - ").concat(n));case 5:return e.n=6,r.json();case 6:e.v,t.open=!1;case 7:return e.a(2)}},e,this)})),function(e){return n.apply(this,arguments)})}],t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,i,a}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var l=n&&n.prototype instanceof s?n:s,c=Object.create(l.prototype);return g(c,"_invoke",function(r,n,i){var o,s,l,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,s=0,l=e,f.n=r,a}};function p(r,n){for(s=r,l=n,t=0;!d&&c&&!i&&t<u.length;t++){var i,o=u[t],p=f.p,h=o[2];r>3?(i=h===n)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=r<2&&p<o[1])?(s=0,f.v=n,f.n=o[1]):p<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,f.n=h,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),s=u,l=h;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(c=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:r.call(n,f))!==a)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(r,i,o),!0),c}var a={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(g(t={},n,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,g(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,g(d,"constructor",c),g(c,"constructor",l),l.displayName="GeneratorFunction",g(c,i,"GeneratorFunction"),g(d),g(d,i,"Generator"),g(d,n,function(){return this}),g(d,"toString",function(){return"[object Generator]"}),(m=function(){return{w:o,m:f}})()}function g(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}g=function(e,t,r,n){function o(t,r){g(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},g(e,t,r,n)}function b(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function v(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){b(o,n,i,a,s,"next",e)}function s(e){b(o,n,i,a,s,"throw",e)}a(void 0)})}}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function _(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}function E(e,t,r){return t=T(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,S()?Reflect.construct(t,r||[],T(e).constructor):t.apply(e,r))}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}var A=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=E(this,t,[e])).config=e,r.connectionManager=new d(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(t,e),r=t,n=[{key:"initialize",value:(p=v(m().m(function e(){return m().w(function(e){for(;;)switch(e.n){case 0:this.dbtype="neo4j";case 1:return e.a(2)}},e,this)})),function(){return p.apply(this,arguments)})},{key:"close",value:(f=v(m().m(function e(){return m().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)})),function(){return f.apply(this,arguments)})},{key:"startTransaction",value:(u=v(m().m(function e(){return m().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.connectionManager.startTransaction();case 1:return e.a(2,e.v)}},e,this)})),function(){return u.apply(this,arguments)})},{key:"endTransaction",value:(c=v(m().m(function e(){var t,r=arguments;return m().w(function(e){for(;;)switch(e.n){case 0:if(null==(t=r.length>0&&void 0!==r[0]?r[0]:null)){e.n=1;break}return e.n=1,this.connectionManager.commitTransaction(t);case 1:return e.a(2)}},e,this)})),function(){return c.apply(this,arguments)})},{key:"executeInTransaction",value:(l=v(m().m(function e(t,r){var n;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,r(t);case 1:return n=e.v,e.n=2,this.connectionManager.commitTransaction(t);case 2:return e.a(2,n);case 3:throw e.p=3,e.v;case 4:return e.a(2)}},e,this,[[0,3]])})),function(e,t){return l.apply(this,arguments)})},{key:"executeRead",value:(s=v(m().m(function e(t,r){var n,i,o,a,s=arguments;return m().w(function(e){for(;;)switch(e.n){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4&&void 0!==s[4]?s[4]:0,a=s.length>5&&void 0!==s[5]?s[5]:0,e.n=1,this.executeInternal(t,h(h({},r),{},{skip:o,limit:a}),n,i);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"executeWrite",value:(a=v(m().m(function e(t,r){var n,i=arguments;return m().w(function(e){for(;;)switch(e.n){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:null,e.n=1,this.executeInternal(t,r,n,!0);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"executeInternal",value:(o=v(m().m(function e(t,r,n,i){var o,a;return m().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!n||n.id){e.n=1;break}throw new Error("Invalid transaction information");case 1:return e.p=1,utils.debugLog("Executing Neo4j query:\n".concat(t)),e.n=2,this.connectionManager.executeQuery(t,r,n);case 2:o=e.v,e.n=4;break;case 3:throw e.p=3,e.v;case 4:if(a=this.normaliseData(o),!i){e.n=6;break}if(!Array.isArray(a)){e.n=5;break}if(!(a.length>0)){e.n=5;break}return e.a(2,a[0]);case 5:return e.a(2,a);case 6:if(!Array.isArray(a)){e.n=7;break}return e.a(2,a);case 7:if(null==a){e.n=8;break}return e.a(2,[a]);case 8:return e.a(2,[]);case 9:return e.a(2)}},e,this,[[1,3]])})),function(e,t,r,n){return o.apply(this,arguments)})},{key:"normaliseData",value:function(e){var t,r,n=this;return e.fields&&e.fields.length>0?(r=e.fields.map(function(e){var t=e.lastIndexOf(".");return-1===t?e:e.substring(t+1)}),e.values&&(t=0===e.values.length?null:1===e.values.length?this.normaliseRecord(e.values[0],r):e.values.map(function(e){return n.normaliseRecord(e,r)})),t):null}},{key:"normaliseRecord",value:function(e,t){var r,n={};for(r=0;r<e.length;r++)null==e[r]?n[t[r]]=null:this.isDate(e[r])?n[t[r]]=new Date(e[r]):n[t[r]]=e[r];return n}},{key:"isDate",value:function(e){return"string"==typeof e&&/^\d{4}-\d{2}-\d{2}.*$/.test(e)}}],n&&w(r.prototype,n),i&&w(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,o,a,s,l,c,u,f,p}(n.M)},8584:(e,t,r)=>{"use strict";const n=r(5606),{ArrayPrototypeSlice:i,Error:o,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:l,ObjectSetPrototypeOf:c,StringPrototypeToLowerCase:u,Symbol:d,SymbolHasInstance:f}=r(4134);e.exports=C,C.WritableState=L;const{EventEmitter:p}=r(7007),h=r(4259).Stream,{Buffer:y}=r(8287),m=r(5896),{addAbortSignal:g}=r(4147),{getHighWaterMark:b,getDefaultHighWaterMark:v}=r(5291),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:A,ERR_STREAM_WRITE_AFTER_END:O,ERR_UNKNOWN_ENCODING:x}=r(6371).codes,{errorOrDestroy:R}=m;function k(){}c(C.prototype,h.prototype),c(C,h);const P=d("kOnFinished");function L(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(3370)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?b(this,e,"writableHighWaterMark",n):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=M.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,N(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[P]=[]}function N(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function C(e){const t=this instanceof r(3370);if(!t&&!a(C,this))return new C(e);this._writableState=new L(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&g(e.signal,this)),h.call(this,e),m.construct(this,()=>{const e=this._writableState;e.writing||$(this,e),H(this,e)})}function D(e,t,r,i){const o=e._writableState;if("function"==typeof r)i=r,r=o.defaultEncoding;else{if(r){if("buffer"!==r&&!y.isEncoding(r))throw new x(r)}else r=o.defaultEncoding;"function"!=typeof i&&(i=k)}if(null===t)throw new A;if(!o.objectMode)if("string"==typeof t)!1!==o.decodeStrings&&(t=y.from(t,r),r="buffer");else if(t instanceof y)r="buffer";else{if(!h._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=h._uint8ArrayToBuffer(t),r="buffer"}let a;return o.ending?a=new O:o.destroyed&&(a=new T("write")),a?(n.nextTick(i,a),R(e,a,!0),a):(o.pendingcb++,function(e,t,r,n,i){const o=t.objectMode?1:r.length;t.length+=o;const a=t.length<t.highWaterMark;a||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==k&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1);return a&&!t.errored&&!t.destroyed}(e,o,t,r,i))}function j(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new T("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function z(e,t,r,n){--t.pendingcb,n(r),F(t),R(e,r)}function M(e,t){const r=e._writableState,i=r.sync,o=r.writecb;"function"==typeof o?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?n.nextTick(z,e,r,t,o):z(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&$(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},n.nextTick(U,r.afterWriteTickInfo)):B(e,r,1,o))):R(e,new E)}function U({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,B(e,t,r,n)}function B(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&F(t),H(e,t)}function F(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;const{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new T("write"))}const r=e[P].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new T("end"))}N(e)}function $(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:o}=t,a=r.length-n;if(!a)return;let s=n;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const n=t.allNoop?k:e=>{for(let t=s;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===s?r:i(r,s);o.allBuffers=t.allBuffers,j(e,t,!0,t.length,o,"",n),N(t)}else{do{const{chunk:n,encoding:i,callback:a}=r[s];r[s++]=null;j(e,t,!1,o?1:n.length,n,i,a)}while(s<r.length&&!t.writing);s===r.length?N(t):s>256?(r.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function W(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function V(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function i(i){if(r)R(e,null!=i?i:E());else if(r=!0,t.pendingcb--,i){const r=t[P].splice(0);for(let e=0;e<r.length;e++)r[e](i);R(e,i,t.sync)}else W(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(q,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}function H(e,t,r){W(t)&&(V(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick((e,t)=>{W(t)?q(e,t):t.pendingcb--},e,t)):W(t)&&(t.pendingcb++,q(e,t))))}function q(e,t){t.pendingcb--,t.finished=!0;const r=t[P].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}L.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(L.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(C,f,{__proto__:null,value:function(e){return!!a(this,e)||this===C&&(e&&e._writableState instanceof L)}}),C.prototype.pipe=function(){R(this,new S)},C.prototype.write=function(e,t,r){return!0===D(this,e,t,r)},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||$(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=u(e)),!y.isEncoding(e))throw new x(e);return this._writableState.defaultEncoding=e,this},C.prototype._write=function(e,t,r){if(!this._writev)throw new _("_write()");this._writev([{chunk:e,encoding:t}],r)},C.prototype._writev=null,C.prototype.end=function(e,t,r){const i=this._writableState;let a;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){const r=D(this,e,t);r instanceof o&&(a=r)}return i.corked&&(i.corked=1,this.uncork()),a||(i.errored||i.ending?i.finished?a=new I("end"):i.destroyed&&(a=new T("end")):(i.ending=!0,H(this,i,!0),i.ended=!0)),"function"==typeof r&&(a||i.finished?n.nextTick(r,a):i[P].push(r)),this},l(C.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const G=m.destroy;let Y;function Q(){return void 0===Y&&(Y={}),Y}C.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[P].length)&&n.nextTick(F,r),G.call(this,e,t),this},C.prototype._undestroy=m.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},C.fromWeb=function(e,t){return Q().newStreamWritableFromWritableStream(e,t)},C.toWeb=function(e){return Q().newWritableStreamFromStreamWritable(e)}},8653:e=>{"use strict";e.exports={INT:1,LONG:2,STRING:3,DATE:4,TIMESTAMP:5,CLASS:6,DOUBLE:7,FLOAT:8,LIST:9,MAP:10,SET:11,UUID:12,EDGE:13,PATH:14,PROPERTY:15,GRAPH:16,VERTEX:17,VERTEXPROPERTY:18,BARRIER:19,BINDING:20,BYTECODE:21,CARDINALITY:22,COLUMN:23,DIRECTION:24,OPERATOR:25,ORDER:26,PICK:27,POP:28,LAMBDA:29,P:30,SCOPE:31,T:32,TRAVERSER:33,BIGDECIMAL:34,BIGINTEGER:35,BYTE:36,BYTEBUFFER:37,SHORT:38,BOOLEAN:39,TEXTP:40,TRAVERSALSTRATEGY:41,BULKSET:42,TREE:43,METRICS:44,TRAVERSALMETRICS:45,MERGE:46,DT:47,CHAR:128,DURATION:129,INETADDRESS:130,INSTANT:131,LOCALDATE:132,LOCALDATETIME:133,LOCALTIME:134,MONTHDAY:135,OFFSETDATETIME:136,OFFSETTIME:137,PERIOD:138,YEAR:139,YEARMONTH:140,ZONEDATETIME:141,ZONEOFFSET:142,CUSTOM:0,UNSPECIFIED_NULL:254}},9025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,a,s){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,o.default)(n)),16!==(null===(l=n)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(n),c.set(e,n.length),c=r(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=c[e];return a}return(0,i.unsafeStringify)(c)}try{n.name=e}catch(e){}return n.DNS=a,n.URL=s,n};var n,i=r(9910),o=(n=r(6792))&&n.__esModule?n:{default:n};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},9032:(e,t,r)=>{"use strict";const{Traversal:n}=r(1545);class i{constructor(e){e?(this.sourceInstructions=[...e.sourceInstructions],this.stepInstructions=[...e.stepInstructions]):(this.sourceInstructions=[],this.stepInstructions=[])}addSource(e,t){if(void 0===e)throw new Error("Name is not defined");const r=new Array(t.length+1);r[0]=e;for(let e=0;e<t.length;++e)r[e+1]=t[e];return this.sourceInstructions.push(i._generateInstruction(e,t)),this}addStep(e,t){if(void 0===e)throw new Error("Name is not defined");return this.stepInstructions.push(i._generateInstruction(e,t)),this}static _generateInstruction(e,t){const r=(t?t.length:0)+1,i=new Array(r);i[0]=e;for(let e=1;e<r;e++){const r=t[e-1];if(r instanceof n&&null!=r.graph)throw new Error(`The child traversal of ${r} was not spawned anonymously - use the __ class rather than a TraversalSource to construct the child traversal`);i[e]=r}return i}toString(){return JSON.stringify([this.sourceInstructions,this.stepInstructions])}static _createGraphOp(e,t){const r=new i;return r.addSource(e,t),r}static get GraphOp(){return{commit:i._createGraphOp("tx",["commit"]),rollback:i._createGraphOp("tx",["rollback"])}}}e.exports=i},9042:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a);for(let t=0;t<a;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];s[t]=r}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=s[e][t];for(let e=16;e<80;++e)o[e]=n(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let a=i[0],l=i[1],c=i[2],u=i[3],d=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),s=n(a,5)+r(i,l,c,u)+d+t[i]+o[e]>>>0;d=u,u=c,c=n(l,30)>>>0,l=a,a=s}i[0]=i[0]+a>>>0,i[1]=i[1]+l>>>0,i[2]=i[2]+c>>>0,i[3]=i[3]+u>>>0,i[4]=i[4]+d>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i},9198:(e,t,r)=>{"use strict";const n=r(5506),i=r(3095),o=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=o,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=n.Stream,e.exports.default=e.exports},9231:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){const n=t.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"===r&&"object"==typeof n){return`${n.constructor!==Object?n.constructor.name:""} {}`.trim()}return n.toString()}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},9253:e=>{"use strict";e.exports=class{constructor(e){this.setopts(e)}get name(){return null}setopts(e){this._options=e}evaluateChallenge(e){throw new Error("evaluateChallenge should be implemented")}}},9386:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),{TraversalStrategySerializer:i}=r(474);e.exports=class{constructor(e){this.ioc=e,this.graphsonTraversalStrategySerializer=new i}canBeUsedFor(e){return this.graphsonTraversalStrategySerializer.canBeUsedFor(e)}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.TRAVERSALSTRATEGY,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}const r=[];t&&r.push(n.from([this.ioc.DataType.TRAVERSALSTRATEGY,0]));const i=e.fqcn,o={};for(const t in e.configuration)e.configuration.hasOwnProperty(t)&&(o[t]=e.configuration[t]);return r.push(this.ioc.classSerializer.serialize(i,!1)),r.push(this.ioc.mapSerializer.serialize(o,!1)),n.concat(r)}}},9449:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(474),o=r(9032);class a{constructor(e){this._options=e||{},this._serializers=this.getDefaultSerializers().map(e=>{const t=new e;return t.writer=this,t});const t=this._options.serializers||{};Object.keys(t).forEach(e=>{const r=t[e];r.serialize&&(r.writer=this,this._serializers.unshift(r))})}getDefaultSerializers(){return f}adaptObject(e){let t;for(let r=0;r<this._serializers.length;r++){const n=this._serializers[r];if(n.canBeUsedFor&&n.canBeUsedFor(e)){t=n;break}}return t?t.serialize(e):Array.isArray(e)?e.map(e=>this.adaptObject(e)):e}write(e){return JSON.stringify(this.adaptObject(e))}writeRequest({requestId:e,op:t,processor:r,args:i}){const a={requestId:{"@type":"g:UUID","@value":e},op:t,processor:r,args:this._adaptArgs(i,!0)};return a.args.gremlin instanceof o&&(a.args.gremlin=this.adaptObject(a.args.gremlin)),n.from(JSON.stringify(a))}_adaptArgs(e,t){if(e instanceof Object){const r={};return Object.keys(e).forEach(n=>{r[n]=t&&"bindings"===n?this._adaptArgs(e[n],!1):this.adaptObject(e[n])}),r}return e}}class s extends a{getDefaultSerializers(){return p}}class l{constructor(e){this._options=e||{},this._deserializers={};const t=this.getDefaultDeserializers();if(Object.keys(t).forEach(e=>{const r=new(0,t[e]);r.reader=this,this._deserializers[e]=r}),this._options.serializers){const e=this._options.serializers||{};Object.keys(e).forEach(t=>{const r=e[t];r.deserialize&&(r.reader=this,this._deserializers[t]=r)})}}getDefaultDeserializers(){return u}read(e){if(void 0===e)return;if(null===e)return null;if(Array.isArray(e))return e.map(e=>this.read(e));const t=e[i.typeKey];if(t){const r=this._deserializers[t];return r?r.deserialize(e):e[i.valueKey]}return e&&"object"==typeof e&&e.constructor===Object?this._deserializeObject(e):e}readResponse(e){return this.read(JSON.parse(e.toString()))}_deserializeObject(e){const t=Object.keys(e),r={};for(let n=0;n<t.length;n++)r[t[n]]=this.read(e[t[n]]);return r}}class c extends l{getDefaultDeserializers(){return d}}const u={"g:Traverser":i.TraverserSerializer,"g:TraversalStrategy":i.TraversalStrategySerializer,"g:Int32":i.NumberSerializer,"g:Int64":i.NumberSerializer,"g:Float":i.NumberSerializer,"g:Double":i.NumberSerializer,"g:Date":i.DateSerializer,"g:Direction":i.DirectionSerializer,"g:Vertex":i.VertexSerializer,"g:Edge":i.EdgeSerializer,"g:VertexProperty":i.VertexPropertySerializer,"g:Property":i.PropertySerializer,"g:Path":i.Path3Serializer,"g:TextP":i.TextPSerializer,"g:T":i.TSerializer,"g:BulkSet":i.BulkSetSerializer},d=Object.assign({},u,{"g:List":i.ListSerializer,"g:Set":i.SetSerializer,"g:Map":i.MapSerializer}),f=[i.NumberSerializer,i.DateSerializer,i.BytecodeSerializer,i.TraverserSerializer,i.TraversalStrategySerializer,i.PSerializer,i.TextPSerializer,i.LambdaSerializer,i.EnumSerializer,i.VertexSerializer,i.EdgeSerializer,i.LongSerializer],p=f.concat([i.ListSerializer,i.SetSerializer,i.MapSerializer]);e.exports={GraphSON3Writer:s,GraphSON3Reader:c,GraphSON2Writer:a,GraphSON2Reader:l,GraphSONWriter:s,GraphSONReader:c}},9899:(e,t,r)=>{"use strict";const n=r(5737),i=r(9032),{TraversalStrategies:o}=r(3335);e.exports={Transaction:class{constructor(e){this._g=e,this._sessionBasedConnection=void 0}begin(){if(this._sessionBasedConnection)throw new Error("Transaction already started on this object");this._sessionBasedConnection=this._g.remoteConnection.createSession();const e=new o;return e.addStrategy(new n.RemoteStrategy(this._sessionBasedConnection)),new this._g.graphTraversalSourceClass(this._g.graph,e,new i(this._g.bytecode),this._g.graphTraversalSourceClass,this._g.graphTraversalClass)}commit(){if(!this._sessionBasedConnection)throw new Error("Cannot commit a transaction that is not started");return this._sessionBasedConnection.commit().finally(()=>this.close())}rollback(){if(!this._sessionBasedConnection)throw new Error("Cannot rollback a transaction that is not started");return this._sessionBasedConnection.rollback().finally(()=>this.close())}get isOpen(){return this._sessionBasedConnection.isOpen}close(){this._sessionBasedConnection&&this._sessionBasedConnection.close()}}}},9910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var n,i=(n=r(7037))&&n.__esModule?n:{default:n};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function a(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var s=function(e,t=0){const r=a(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};t.default=s},9995:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.FLOAT]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.FLOAT,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.FLOAT,0]));const i=n.alloc(4);return i.writeFloatBE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.FLOAT)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<4)throw new Error("unexpected {value} length");r+=4;return{v:i.readFloatBE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return i[e](r,r.exports,a),r.exports}a.m=i,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,a.d(i,o),i},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[])),a.u=e=>e+".js",a.miniCssF=e=>{},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n="admin-profile:",a.l=(e,t,i,o)=>{if(r[e])r[e].push(t);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",n+i),s.src=e),r[e]=[t];var f=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/dist/",(()=>{var e={318:0};a.f.j=(t,r)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise((r,i)=>n=e[t]=[r,i]);r.push(n[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,r=>{if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,n[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var n,i,[o,s,l]=r,c=0;if(o.some(t=>0!==e[t])){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(l)l(a)}for(t&&t(r);c<o.length;c++)i=o[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkadmin_profile=self.webpackChunkadmin_profile||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a(6284),a(5250),a(5283),a(3676),a(6587),a(1597),a(2617),a(5118),a(8209);a(2537)})();