(()=>{var e,t,r,n,i={74:(e,t,r)=>{"use strict";const n=r(1104),i=Object.freeze(new n.ImmutableMap);class o{constructor(e,t){if(!Array.isArray(e))throw new TypeError("items must be an Array instance");this._items=e,this.attributes=t||i,this.length=e.length}[Symbol.iterator](){return this._items[Symbol.iterator]()}toArray(){return this._items}first(){const e=this._items[0];return void 0!==e?e:null}}e.exports=o},163:(e,t,r)=>{"use strict";const n=r(5332),{TraversalStrategies:i}=r(3335);class o{constructor(e,t){this.id=e,this.label=t}equals(e){return e instanceof o&&this.id===e.id}}class a{constructor(e,t){this.key=e,this.value=t}toString(){return`p[${this.key}->${l(this.value)}]`}equals(e){return e instanceof a&&this.key===e.key&&this.value===e.value}}class s{constructor(e,t){this.labels=e,this.objects=t}toString(){return`path[${(this.objects||[]).join(", ")}]`}equals(e){return e instanceof s&&(e===this||c(this.objects,e.objects)&&c(this.labels,e.labels))}}function c(e,t){if(e===t)return!0;if("function"==typeof e.equals)return e.equals(t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!c(e[r],t[r]))return!1;return!0}return!1}function l(e){if(null==e)return e;const t=e.toString();return t.length>20?t.substr(0,20):t}e.exports={Edge:class extends o{constructor(e,t,r,n,i){if(super(e,r),this.outV=t,this.inV=n,this.properties={},i){const e=Object.keys(i);for(let t=0;t<e.length;t++){const r=e[t];this.properties[r]=i[r].value}}}toString(){const e=this.outV?this.outV.id:"?",t=this.inV?this.inV.id:"?";return`e[${this.id}][${e}-${this.label}->${t}]`}},Graph:class{traversal(e){return new(e||n.GraphTraversalSource)(this,new i)}toString(){return"graph[]"}},Path:s,Property:a,Vertex:class extends o{constructor(e,t,r){super(e,t),this.properties=r}toString(){return`v[${this.id}]`}},VertexProperty:class extends o{constructor(e,t,r,n){super(e,t),this.value=r,this.key=this.label,this.properties=n}toString(){return`vp[${this.label}->${l(this.value)}]`}}}},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,o),!0;case 6:return u.fn.call(u.context,t,n,i,o,a),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,h=u.length;for(l=0;l<h;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,i);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||i&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},243:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.VERTEX]=this}canBeUsedFor(e){return e instanceof i.Vertex}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.VERTEX,1]);const e=[3,0,0,0,0,0],r=[0,0,0,0],i=[254,1];return n.from([...e,...r,...i])}const r=[];return t&&r.push(n.from([this.ioc.DataType.VERTEX,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1)),r.push(this.ioc.anySerializer.serialize(e.properties)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.VERTEX)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u,d;try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.stringSerializer.deserialize(o,!1)),r+=l}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(l);try{({v:u,len:d}=this.ioc.anySerializer.deserialize(o)),r+=d}catch(e){throw e.message="{properties}: "+e.message,e}o=o.slice(d);const f=u||[];return{v:new i.Vertex(a,c,f),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},251:(e,t)=>{t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,l=c>>1,u=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=l}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+h]=255&a,h+=p,a/=256,l-=8);e[r+h-p]|=128*y}},277:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:d,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:y,StringPrototypeTrim:g}=r(4134),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:S}}=r(6371),{normalizeEncoding:_}=r(7760),{isAsyncFunction:T,isArrayBufferView:A}=r(7760).types,I={};const O=/^[0-7]+$/;const x=m((e,t,r=u,n=l)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new E(t,"an integer",e);if(e<r||e>n)throw new E(t,`>= ${r} && <= ${n}`,e)}),R=m((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new E(t,"an integer",e);if(e<r||e>n)throw new E(t,`>= ${r} && <= ${n}`,e)}),k=m((e,t,r=!1)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new E(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new E(t,`>= ${n} && <= ${i}`,e)});function N(e,t){if("string"!=typeof e)throw new v(t,"string",e)}const C=m((e,t,r)=>{if(!i(r,e)){const n=o(a(r,e=>"string"==typeof e?`'${e}'`:p(e)),", ");throw new w(t,e,"must be one of: "+n)}});function L(e,t){if("boolean"!=typeof e)throw new v(t,"boolean",e)}function P(e,t,r){return null!=e&&f(e,t)?e[t]:r}const z=m((e,t,r=null)=>{const i=P(r,"allowArray",!1),o=P(r,"allowFunction",!1);if(!P(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new v(t,"Object",e)}),j=m((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new v(t,"a dictionary",e)}),D=m((e,t,r=0)=>{if(!n(e))throw new v(t,"Array",e);if(e.length<r){throw new w(t,e,`must be longer than ${r}`)}});const M=m((e,t="buffer")=>{if(!A(e))throw new v(t,["Buffer","TypedArray","DataView"],e)});const B=m((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new v(t,"AbortSignal",e)}),U=m((e,t)=>{if("function"!=typeof e)throw new v(t,"Function",e)}),F=m((e,t)=>{if("function"!=typeof e||T(e))throw new v(t,"Function",e)}),G=m((e,t)=>{if(void 0!==e)throw new v(t,"undefined",e)});const V=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function H(e,t){if(void 0===e||!h(V,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===h(O,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return k(e,t),e},validateArray:D,validateStringArray:function(e,t){D(e,t);for(let r=0;r<e.length;r++)N(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){D(e,t);for(let r=0;r<e.length;r++)L(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){D(e,t);for(let r=0;r<e.length;r++){const n=e[r],i=`${t}[${r}]`;if(null==n)throw new v(i,"AbortSignal",n);B(n,i)}},validateBoolean:L,validateBuffer:M,validateDictionary:j,validateEncoding:function(e,t){const r=_(t),n=e.length;if("hex"===r&&n%2!=0)throw new w("encoding",t,`is invalid for data of length ${n}`)},validateFunction:U,validateInt32:R,validateInteger:x,validateNumber:function(e,t,r=void 0,n){if("number"!=typeof e)throw new v(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&c(e))throw new E(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:z,validateOneOf:C,validatePlainFunction:F,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!==+e>>>0||e>65535||0===e&&!r)throw new b(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(N(e,t),void 0===I[e]){if(void 0!==I[y(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:N,validateUint32:k,validateUndefined:G,validateUnion:function(e,t,r){if(!i(r,e))throw new v(t,`('${o(r,"|")}')`,e)},validateAbortSignal:B,validateLinkHeaderValue:function(e){if("string"==typeof e)return H(e,"hints"),e;if(n(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const i=e[n];H(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},345:(e,t,r)=>{"use strict";const{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:a}=r(4134),{Buffer:s}=r(8287),{inspect:c}=r(7760);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);const t=s.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{const o=r.data;if(!(e>o.length)){e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}t+=o,e-=o.length,++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){const t=s.allocUnsafe(e),r=e;let n=this.head,i=0;do{const s=n.data;if(!(e>s.length)){e===s.length?(o(t,s,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new a(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}o(t,s,r-e),e-=s.length,++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},474:(e,t,r)=>{"use strict";const n=r(1545),i=r(3335),o=r(9032),a=r(163),s=r(1104),c="@value",l="@type";class u{serialize(){throw new Error("serialize() method not implemented for "+this.constructor.name)}deserialize(){throw new Error("deserialize() method not implemented for "+this.constructor.name)}canBeUsedFor(){throw new Error("canBeUsedFor() method not implemented for "+this.constructor.name)}}class d extends u{constructor(e){super(),this.typeKey=e}deserialize(e){const t=e[c];if(!Array.isArray(t))throw new Error("Expected Array, obtained: "+t);return t.map(e=>this.reader.read(e))}serialize(e){return{[l]:this.typeKey,[c]:e.map(e=>this.writer.adaptObject(e))}}canBeUsedFor(e){return Array.isArray(e)}}e.exports={BulkSetSerializer:class extends u{deserialize(e){const t=e[c];if(!Array.isArray(t))throw new Error("Expected Array, obtained: "+t);let r=[];for(let e=0,n=t.length;e<n;e+=2){const n=t.slice(e,e+2);r=r.concat(Array(this.reader.read(n[1])).fill(this.reader.read(n[0])))}return r}},BytecodeSerializer:class extends u{serialize(e){let t=e;e instanceof n.Traversal&&(t=e.getBytecode());const r={};r[l]="g:Bytecode";const i=r[c]={},o=this._serializeInstructions(t.sourceInstructions);o&&(i.source=o);const a=this._serializeInstructions(t.stepInstructions);return a&&(i.step=a),r}_serializeInstructions(e){if(0===e.length)return null;const t=new Array(e.length);t[0]=e[0];for(let r=0;r<e.length;r++)t[r]=e[r].map(e=>this.writer.adaptObject(e));return t}canBeUsedFor(e){return e instanceof o||e instanceof n.Traversal}},DateSerializer:class extends u{serialize(e){return{[l]:"g:Date",[c]:e.getTime()}}deserialize(e){return new Date(e[c])}canBeUsedFor(e){return e instanceof Date}},DirectionSerializer:class extends u{deserialize(e){return n.direction[e[c].toLowerCase()]}},EdgeSerializer:class extends u{deserialize(e){const t=e[c];return new a.Edge(this.reader.read(t.id),new a.Vertex(this.reader.read(t.outV),this.reader.read(t.outVLabel)),t.label,new a.Vertex(this.reader.read(t.inV),this.reader.read(t.inVLabel)),this.reader.read(t.properties))}serialize(e){return{[l]:"g:Edge",[c]:{id:this.writer.adaptObject(e.id),label:e.label,outV:this.writer.adaptObject(e.outV.id),outVLabel:e.outV.label,inV:this.writer.adaptObject(e.inV.id),inVLabel:e.inV.label}}}canBeUsedFor(e){return e instanceof a.Edge}},EnumSerializer:class extends u{serialize(e){return{[l]:"g:"+e.typeName,[c]:e.elementName}}canBeUsedFor(e){return e&&e.typeName&&e instanceof n.EnumValue}},LambdaSerializer:class extends u{serialize(e){const t=e(),r="string"==typeof t,n=r?t:t[0],i=r?"gremlin-groovy":t[1],o="gremlin-groovy"===i&&n.includes("->")?n.substring(0,n.indexOf("->")).includes(",")?2:1:-1;return{[l]:"g:Lambda",[c]:{arguments:o,language:i,script:n}}}canBeUsedFor(e){return"function"==typeof e}},ListSerializer:class extends d{constructor(){super("g:List")}},LongSerializer:class extends u{serialize(e){return{[l]:"g:Int64",[c]:e.value}}canBeUsedFor(e){return e instanceof s.Long}},MapSerializer:class extends u{deserialize(e){const t=e[c];if(!Array.isArray(t))throw new Error("Expected Array, obtained: "+t);const r=new Map;for(let e=0;e<t.length;e+=2)r.set(this.reader.read(t[e]),this.reader.read(t[e+1]));return r}serialize(e){const t=[];return e.forEach((e,r)=>{t.push(this.writer.adaptObject(r)),t.push(this.writer.adaptObject(e))}),{[l]:"g:Map",[c]:t}}canBeUsedFor(e){return e instanceof Map}},NumberSerializer:class extends u{serialize(e){return isNaN(e)?{[l]:"g:Double",[c]:"NaN"}:e===Number.POSITIVE_INFINITY?{[l]:"g:Double",[c]:"Infinity"}:e===Number.NEGATIVE_INFINITY?{[l]:"g:Double",[c]:"-Infinity"}:e}deserialize(e){const t=e[c];return"NaN"===t?NaN:"Infinity"===t?Number.POSITIVE_INFINITY:"-Infinity"===t?Number.NEGATIVE_INFINITY:parseFloat(t)}canBeUsedFor(e){return"number"==typeof e}},Path3Serializer:class extends u{deserialize(e){const t=e[c];return new a.Path(this.reader.read(t.labels),this.reader.read(t.objects))}},PathSerializer:class extends u{deserialize(e){const t=e[c],r=t.objects.map(e=>this.reader.read(e));return new a.Path(this.reader.read(t.labels),r)}},PropertySerializer:class extends u{deserialize(e){const t=e[c];return new a.Property(t.key,this.reader.read(t.value))}},PSerializer:class extends u{serialize(e){const t={};t[l]="g:P";const r=t[c]={predicate:e.operator};return void 0===e.other||null===e.other?r.value=this.writer.adaptObject(e.value):r.value=[this.writer.adaptObject(e.value),this.writer.adaptObject(e.other)],t}canBeUsedFor(e){return e instanceof n.P}},TextPSerializer:class extends u{serialize(e){const t={};t[l]="g:TextP";const r=t[c]={predicate:e.operator};return void 0===e.other||null===e.other?r.value=this.writer.adaptObject(e.value):r.value=[this.writer.adaptObject(e.value),this.writer.adaptObject(e.other)],t}canBeUsedFor(e){return e instanceof n.TextP}},SetSerializer:class extends d{constructor(){super("g:Set")}},TSerializer:class extends u{deserialize(e){return n.t[e[c]]}},TraverserSerializer:class extends u{serialize(e){return{[l]:"g:Traverser",[c]:{value:this.writer.adaptObject(e.object),bulk:this.writer.adaptObject(e.bulk)}}}deserialize(e){const t=e[c];return new n.Traverser(this.reader.read(t.value),this.reader.read(t.bulk))}canBeUsedFor(e){return e instanceof n.Traverser}},TraversalStrategySerializer:class extends u{serialize(e){const t={};for(const r in e.configuration)e.configuration.hasOwnProperty(r)&&(t[r]=this.writer.adaptObject(e.configuration[r]));return{[l]:"g:"+e.constructor.name,[c]:t}}canBeUsedFor(e){return e instanceof i.TraversalStrategy}},typeKey:l,valueKey:c,VertexPropertySerializer:class extends u{deserialize(e){const t=e[c];return new a.VertexProperty(this.reader.read(t.id),t.label,this.reader.read(t.value),this.reader.read(t.properties))}},VertexSerializer:class extends u{deserialize(e){const t=e[c];return new a.Vertex(this.reader.read(t.id),t.label,this.reader.read(t.properties))}serialize(e){return{[l]:"g:Vertex",[c]:{id:this.writer.adaptObject(e.id),label:e.label}}}canBeUsedFor(e){return e instanceof a.Vertex}}}},703:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.SHORT]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.SHORT,1]):n.from([0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.SHORT,0]));const i=n.alloc(2);return i.writeInt16BE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.SHORT)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<2)throw new Error("unexpected {value} length");r+=2;return{v:i.readInt16BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},795:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTE]=this}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BYTE,1]):n.from([0]);const r=[];t&&r.push(n.from([this.ioc.DataType.BYTE,0]));const i=n.alloc(1);return i.writeUInt8(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BYTE)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<1)throw new Error("unexpected {value} length");r+=1;return{v:i.readUInt8(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},823:(e,t,r)=>{"use strict";const n=globalThis.AbortController||r(5568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:c}=r(6371),{validateAbortSignal:l,validateInteger:u,validateObject:d}=r(277),f=r(4134).Symbol("kWeak"),h=r(4134).Symbol("kResistStopPropagation"),{finished:p}=r(6238),y=r(7830),{addAbortSignalNoValidate:g}=r(4147),{isWritable:m,isNodeStream:b}=r(6115),{deprecate:v}=r(7760),{ArrayPrototypePush:w,Boolean:E,MathFloor:S,Number:_,NumberIsNaN:T,Promise:A,PromiseReject:I,PromiseResolve:O,PromisePrototypeThen:x,Symbol:R}=r(4134),k=R("kEmpty"),N=R("kEof");function C(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal");let n=1;null!=(null==t?void 0:t.concurrency)&&(n=S(t.concurrency));let i=n-1;return null!=(null==t?void 0:t.highWaterMark)&&(i=S(t.highWaterMark)),u(n,"options.concurrency",1),u(i,"options.highWaterMark",0),i+=n,async function*(){const o=r(7760).AbortSignalAny([null==t?void 0:t.signal].filter(E)),a=this,s=[],l={signal:o};let u,d,f=!1,h=0;function p(){f=!0,y()}function y(){h-=1,g()}function g(){d&&!f&&h<n&&s.length<i&&(d(),d=null)}!async function(){try{for await(let t of a){if(f)return;if(o.aborted)throw new c;try{if(t=e(t,l),t===k)continue;t=O(t)}catch(e){t=I(e)}h+=1,x(t,y,p),s.push(t),u&&(u(),u=null),!f&&(s.length>=i||h>=n)&&await new A(e=>{d=e})}s.push(N)}catch(e){const t=I(e);x(t,y,p),s.push(t)}finally{f=!0,u&&(u(),u=null)}}();try{for(;;){for(;s.length>0;){const e=await s[0];if(e===N)return;if(o.aborted)throw new c;e!==k&&(yield e),s.shift(),g()}await new A(e=>{u=e})}}finally{f=!0,d&&(d(),d=null)}}.call(this)}async function L(e,t=void 0){for await(const r of P.call(this,e,t))return!0;return!1}function P(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return C.call(this,async function(t,r){return await e(t,r)?t:k},t)}class z extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function j(e){if(e=_(e),T(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:v(function(e=void 0){return null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c({cause:e.signal.reason});yield[t++,n]}}.call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;e--<=0&&(yield r)}}.call(this)},filter:P,flatMap:function(e,t){const r=C.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:C,take:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),e=j(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;if(e-- >0&&(yield r),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&l(t.signal,"options.signal"),b(e)&&!m(e))throw new i("stream",e,"must be writable");const r=y(this,e);return null!=t&&t.signal&&g(t.signal,r),r}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await L.call(this,async(...t)=>!await e(...t),t)},forEach:async function(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);for await(const r of C.call(this,async function(t,r){return await e(t,r),k},t));},reduce:async function(e,t,r){var i;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&d(r,"options"),null!=(null==r?void 0:r.signal)&&l(r.signal,"options.signal");let a=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){const e=new c(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(e)),e}const s=new n,u=s.signal;if(null!=r&&r.signal){const e={once:!0,[f]:this,[h]:!0};r.signal.addEventListener("abort",()=>s.abort(),e)}let y=!1;try{for await(const n of this){var g;if(y=!0,null!=r&&null!==(g=r.signal)&&void 0!==g&&g.aborted)throw new c;a?t=await e(t,n,{signal:u}):(t=n,a=!0)}if(!y&&!a)throw new z}finally{s.abort()}return t},toArray:async function(e){null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&l(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c(void 0,{cause:e.signal.reason});w(t,n)}return t},some:L,find:async function(e,t){for await(const r of P.call(this,e,t))return r}}},834:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(9032),o=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTECODE]=this}canBeUsedFor(e){return e instanceof i||e instanceof o.Traversal}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.BYTECODE,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}e instanceof o.Traversal&&(e=e.getBytecode());const r=[];t&&r.push(n.from([this.ioc.DataType.BYTECODE,0])),r.push(this.ioc.intSerializer.serialize(e.stepInstructions.length,!1));for(let t=0;t<e.stepInstructions.length;t++){const n=e.stepInstructions[t],i=n[0],o=n.length-1;r.push(this.ioc.stringSerializer.serialize(i,!1)),r.push(this.ioc.intSerializer.serialize(o,!1));for(let e=0;e<o;e++)r.push(this.ioc.anySerializer.serialize(n[1+e],!0))}r.push(this.ioc.intSerializer.serialize(e.sourceInstructions.length,!1));for(let t=0;t<e.sourceInstructions.length;t++){const n=e.sourceInstructions[t],i=n[0],o=n.length-1;r.push(this.ioc.stringSerializer.serialize(i,!1)),r.push(this.ioc.intSerializer.serialize(o,!1));for(let e=0;e<o;e++)r.push(this.ioc.anySerializer.serialize(n[1+e],!0))}return n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.BYTECODE)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}const a=new i;let s,c,l,u;try{({v:s,len:c}=this.ioc.intSerializer.deserialize(o,!1)),r+=c}catch(e){throw e.message="{steps_length}: "+e.message,e}if(s<0)throw new Error("{steps_length} is less than zero");o=o.slice(c);for(let e=0;e<s;e++){let t,n,i,s;try{({v:t,len:n}=this.ioc.stringSerializer.deserialize(o,!1)),r+=n}catch(t){throw t.message=`{step_${e}} {name}: `+t.message,t}o=o.slice(n);try{({v:i,len:s}=this.ioc.intSerializer.deserialize(o,!1)),r+=s}catch(t){throw t.message=`{step_${e}} {values_length}: `+t.message,t}if(i<0)throw new Error(`{step_${e}} {values_length} is less than zero`);o=o.slice(s);const c=[];let l,u;for(let t=0;t<i;t++){try{({v:l,len:u}=this.ioc.anySerializer.deserialize(o)),r+=u,c.push(l)}catch(r){throw r.message=`{step_${e}} {value_${t}}: `+r.message,r}o=o.slice(u)}a.addStep(t,c)}try{({v:l,len:u}=this.ioc.intSerializer.deserialize(o,!1)),r+=u}catch(e){throw e.message="{sources_length}: "+e.message,e}if(l<0)throw new Error("{sources_length} is less than zero");o=o.slice(u);for(let e=0;e<l;e++){let t,n,i,s;try{({v:t,len:n}=this.ioc.stringSerializer.deserialize(o,!1)),r+=n}catch(t){throw t.message=`{source_${e}} {name}: `+t.message,t}o=o.slice(n);try{({v:i,len:s}=this.ioc.intSerializer.deserialize(o,!1)),r+=s}catch(t){throw t.message=`{source_${e}} {values_length}: `+t.message,t}if(i<0)throw new Error(`{source_${e}} {values_length} is less than zero`);o=o.slice(s);const c=[];let l,u;for(let t=0;t<i;t++){try{({v:l,len:u}=this.ioc.anySerializer.deserialize(o)),r+=u,c.push(l)}catch(r){throw r.message=`{source_${e}} {value_${t}}: `+r.message,r}o=o.slice(u)}a.addSource(t,c)}return{v:a,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},1011:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GremlinDatabaseService:()=>x});var n=r(1982);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,n,i,o){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return a(u,"_invoke",function(r,n,i){var o,a,s,l=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,a=0,s=e,f.n=r,c}};function h(r,n){for(a=r,s=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],h=f.p,p=o[2];r>3?(i=p===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(a=0,f.v=n,f.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,a=0))}if(i||r>1)return c;throw d=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),a=u,s=p;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(f.n=-1),h(a,s)):f.n=s:f.v=s);try{if(l=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=f.n<0)?s:r.call(n,f))!==c)break}catch(t){o=e,a=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),h=d.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=d,a(h,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(h),a(h,i,"Generator"),a(h,n,function(){return this}),a(h,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:p}})()}function a(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}a=function(e,t,r,n){function o(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},a(e,t,r,n)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)})}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var d=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t},t=[{key:"initialize",value:(s=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:return this.client=t,e.n=1,this.client.open();case 1:return e.a(2)}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"close",value:(a=c(o().m(function e(){var t,r;return o().w(function(e){for(;;)switch(e.n){case 0:if(null===(t=this.client)||void 0===t||!t.isOpen){e.n=2;break}return e.n=1,null===(r=this.client)||void 0===r?void 0:r.close();case 1:this.client=null;case 2:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"runQuery",value:(n=c(o().m(function e(t){var r,n,i=arguments;return o().w(function(e){for(;;)switch(e.n){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:null,n=i.length>2&&void 0!==i[2]&&i[2],null!=this.client){e.n=1;break}throw new Error("Gremlin client has not been initialised.");case 1:if(this.client.isOpen){e.n=2;break}return e.n=2,this.client.open();case 2:if(!n){e.n=4;break}return e.n=3,this.client.submit(t,r);case 3:case 5:return e.a(2,e.v);case 4:return utils.debugLog(this.prepareQuery(t,r)),e.n=5,this.client.submit(this.prepareQuery(t,r))}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"prepareQuery",value:function(e,t){for(var r,n=this,i=null!=t?t:{},o=[],a=/\$([a-zA-Z0-9_]+)\b/g;null!=(r=a.exec(e));)o.push(r[1]);var s=o.filter(function(e){return!(e in i)});if(s.length>0)throw new Error("One or more parameters, ".concat(s.join(", "),", are referenced in the query but not included in the parameters object."));if(null!=t&&0!==Object.keys(t).length){var c=Object.keys(t).sort(function(e,t){return t.length-e.length}),l=new RegExp("\\$(".concat(c.join("|"),")\\b"),"g");e=e.replace(l,function(e,r){var i=t[r],o=n.sanitiseValue(i);return null===o?"null":o})}return e}},{key:"sanitiseValue",value:function(e){if(null==e)return null;switch(i(e)){case"string":return this.escapeSpecial(e,"'");case"number":case"boolean":return e.toString();case"object":return Array.isArray(e)?!0===e.isRawArray?e.quotedElements?e.map(function(e){return'"'.concat(e,'"')}).join(", "):e.join(", "):"'".concat(JSON.stringify(e),"'"):this.isDate(e)?"'".concat(new Date(e).toISOString(),"'"):this.escapeSpecial(e,'"');default:throw new Error("Unsupported parameter type: ".concat(i(e)))}}},{key:"escapeSpecial",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"'";return"".concat(t).concat(e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\$/g,"\\$").replace(/`/g,"\\u0060")).concat(t)}},{key:"isDate",value:function(e){var t=new Date(e);return!isNaN(t.getTime())}}],t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,a,s}();function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return v(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,s=0,c=e,f.n=r,a}};function h(r,n){for(s=r,c=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],h=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(s=0,f.v=n,f.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,c=p;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?c:r.call(n,f))!==a)break}catch(t){o=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(v(t={},n,function(){return this}),t),d=l.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,v(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,v(d,"constructor",l),v(l,"constructor",c),c.displayName="GeneratorFunction",v(l,i,"GeneratorFunction"),v(d),v(d,i,"Generator"),v(d,n,function(){return this}),v(d,"toString",function(){return"[object Generator]"}),(b=function(){return{w:o,m:f}})()}function v(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}v=function(e,t,r,n){function o(t,r){v(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},v(e,t,r,n)}function w(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function E(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){w(o,n,i,a,s,"next",e)}function s(e){w(o,n,i,a,s,"throw",e)}a(void 0)})}}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function _(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}function T(e,t,r){return t=I(t),function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,A()?Reflect.construct(t,r||[],I(e).constructor):t.apply(e,r))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var x=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=T(this,t,[e])).config=e,n.gremlin=r,n.gremlinClient=new d(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),r=t,n=[{key:"initialize",value:(u=E(b().m(function e(){var t,r;return b().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=new this.gremlin.driver.auth.PlainTextSaslAuthenticator("/dbs/".concat(this.config.db,"/colls/").concat(this.config.graph),this.config.key),r=new this.gremlin.driver.Client(this.config.endpoint,{authenticator:t,traversalSource:"g",rejectUnauthorized:!0,mimeType:"application/vnd.gremlin-v2.0+json"}),e.n=1,this.gremlinClient.initialize(r);case 1:e.n=3;break;case 2:throw e.p=2,e.v;case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return u.apply(this,arguments)})},{key:"close",value:(l=E(b().m(function e(){return b().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.gremlinClient.close();case 1:case 2:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})},{key:"startTransaction",value:function(){return null}},{key:"endTransaction",value:function(){}},{key:"executeInTransaction",value:(c=E(b().m(function e(t,r){return b().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r(null);case 1:return e.a(2,e.v)}},e)})),function(e,t){return c.apply(this,arguments)})},{key:"transformRecord",value:function(e){if(!e)return null;try{var t={};return e.properties?Object.keys(e.properties).forEach(function(r){var n=e.properties[r];Array.isArray(n)&&n.length>0?t[r]=n[0].value:"string"==typeof n&&n.length>1&&"["===n[0]&&"{"!==n[1]?t[r]=JSON.parse(n):t[r]=n}):e.value&&e.value.properties?Object.keys(e.value.properties).forEach(function(r){var n=e.properties[r];Array.isArray(n)&&n.length>0?t[r]=n[0].value:"string"==typeof n&&n.length>1&&"["===n[0]&&"{"!==n[1]?t[r]=JSON.parse(n):t[r]=n}):"object"===m(e)&&Object.keys(e).forEach(function(r){var n=e[r];"string"==typeof n&&n.length>1&&"["===n[0]&&"{"!==n[1]?t[r]=JSON.parse(n):t[r]=n}),t.created_date&&"string"==typeof t.created_date&&(t.created_date=new Date(t.created_date)),t.last_modified_date&&"string"==typeof t.last_modified_date&&(t.last_modified_date=new Date(t.last_modified_date)),t}catch(t){return e}}},{key:"executeRead",value:(s=E(b().m(function e(t,r){var n,i,o,a,s=arguments;return b().w(function(e){for(;;)if(0===e.n)return n=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4&&void 0!==s[4]?s[4]:0,a=s.length>5&&void 0!==s[5]?s[5]:0,e.a(2,this.executeInternal(t,y(y({},r),{},{skip:o,limit:a+o}),n,i,"WRITE"))},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"executeWrite",value:(a=E(b().m(function e(t,r){var n,i=arguments;return b().w(function(e){for(;;)if(0===e.n)return n=i.length>2&&void 0!==i[2]?i[2]:null,e.a(2,this.executeInternal(t,r,n,!0,"WRITE"))},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"_transformParameters",value:function(e){var t=y({},e);return this.queryStrings&&this.queryStrings.cosmosdb_default_values&&"object"===m(this.queryStrings.cosmosdb_default_values)&&Object.entries(this.queryStrings.cosmosdb_default_values).forEach(function(e){var r=f(e,2),n=r[0],i=r[1],o=t[n];(null==o||"string"==typeof o&&""===o||Array.isArray(o)&&0===o.length)&&(t[n]=i)}),this.queryStrings&&this.queryStrings.cosmosdb_force_lowercase&&Array.isArray(this.queryStrings.cosmosdb_force_lowercase)&&this.queryStrings.cosmosdb_force_lowercase.length>0&&this.queryStrings.cosmosdb_force_lowercase.forEach(function(e){e in t&&"string"==typeof t[e]&&(t[e]=t[e].toLowerCase())}),t}},{key:"executeInternal",value:(o=E(b().m(function e(t,r,n,i,o){var a,s,c;return b().w(function(e){for(;;)switch(e.n){case 0:return s=this._transformParameters(r),utils.debugLog("Executing Gremlin query:\n".concat(t)),e.n=1,this.gremlinClient.runQuery(t,y(y({},s),{},{partitionkeyproperty:this.config.partitionkeyproperty,partitionkeyvalue:this.config.partitionkeyvalue}));case 1:if(a=e.v,c=this.normaliseData(a),!i){e.n=3;break}if(!Array.isArray(c)){e.n=2;break}if(!(c.length>0)){e.n=2;break}return e.a(2,c[0]);case 2:return e.a(2,c);case 3:if(!Array.isArray(c)){e.n=4;break}return e.a(2,c);case 4:if(null==c){e.n=5;break}return e.a(2,[c]);case 5:return e.a(2,[]);case 6:return e.a(2)}},e,this)})),function(e,t,r,n,i){return o.apply(this,arguments)})},{key:"normaliseData",value:function(e){var t=this;return 0===e._items.length?null:1===e._items.length?this.transformRecord(e._items[0]):e._items.map(function(e){return t.transformRecord(e)})}}],n&&S(r.prototype,n),i&&S(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,o,a,s,c,l,u}(n.M)},1019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n,i={exports:{}},o=i.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,u=[],d=!1,f=-1;function h(){d&&l&&(d=!1,l.length?u=l.concat(u):f=-1,u.length&&p())}function p(){if(!d){var e=c(h);d=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function g(){}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new y(e,t)),1!==u.length||d||c(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0};var b=i.exports.browser,v=m,w=i.exports.binding,E=m,S={},_=m,T=m,A=m,I=m,O=m,x="browser",R="browser",k="browser",N=[],C={nextTick:i.exports.nextTick,title:i.exports.title,browser:b,env:i.exports.env,argv:i.exports.argv,version:i.exports.version,versions:i.exports.versions,on:i.exports.on,addListener:i.exports.addListener,once:i.exports.once,off:i.exports.off,removeListener:i.exports.removeListener,removeAllListeners:i.exports.removeAllListeners,emit:i.exports.emit,emitWarning:v,prependListener:i.exports.prependListener,prependOnceListener:i.exports.prependOnceListener,listeners:i.exports.listeners,binding:w,cwd:i.exports.cwd,chdir:i.exports.chdir,umask:i.exports.umask,exit:E,pid:1,features:S,kill:_,dlopen:T,uptime:A,memoryUsage:I,uvCounters:O,platform:x,arch:R,execPath:k,execArgv:N};t.addListener=i.exports.addListener,t.arch=R,t.argv=i.exports.argv,t.binding=w,t.browser=b,t.chdir=i.exports.chdir,t.cwd=i.exports.cwd,t.default=C,t.dlopen=T,t.emit=i.exports.emit,t.emitWarning=v,t.env=i.exports.env,t.execArgv=N,t.execPath=k,t.exit=E,t.features=S,t.kill=_,t.listeners=i.exports.listeners,t.memoryUsage=I,t.nextTick=i.exports.nextTick,t.off=i.exports.off,t.on=i.exports.on,t.once=i.exports.once,t.pid=1,t.platform=x,t.prependListener=i.exports.prependListener,t.prependOnceListener=i.exports.prependOnceListener,t.removeAllListeners=i.exports.removeAllListeners,t.removeListener=i.exports.removeListener,t.title=i.exports.title,t.umask=i.exports.umask,t.uptime=A,t.uvCounters=O,t.version=i.exports.version,t.versions=i.exports.versions,t=e.exports=C},1104:(e,t,r)=>{"use strict";var n=r(1019);const i=r(2831);t.toLong=function(e){return new o(e)};const o=t.Long=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("The value must be a string or a number");this.value=e.toString()};t.getUuid=function(){return i.v4()},t.emptyArray=Object.freeze([]);class a extends Map{constructor(e){super(e)}set(){return this}delete(){return!1}clear(){}}t.ImmutableMap=a,t.getUserAgentHeader=function(){return"User-Agent"},t.getUserAgent=async()=>"navigator"in globalThis?globalThis.navigator.userAgent:void 0!==n?.versions?.node?await async function(){const e=await r.e(72).then(r.t.bind(r,1072,19)),t=(n?.env.npm_package_name??"NotAvailable").replace("_"," ");let i,o,a,s;return i=o=a=s="NotAvailable",null!=n&&(n.version&&(i=n.version.replace(" ","_")),n.arch&&(s=n.arch.replace(" ","_"))),null!=e&&(o=e.platform().replace(" ","_"),a=e.release().replace(" ","_")),`${t} Gremlin-Javascript.3.7.4 ${i} ${o}.${a} ${s}`}():void 0;t.toArrayBuffer=e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);e.exports.DeferredPromise=()=>{let e=e=>{},t=e=>{};const r=new Promise((r,n)=>{e=r,t=n});return Object.assign(r,{resolve:e,reject:t})}},1352:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.DOUBLE]=this}canBeUsedFor(e){return"number"==typeof e&&!Number.isInteger(e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.DOUBLE,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.DOUBLE,0]));const i=n.alloc(8);return i.writeDoubleBE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.DOUBLE)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;return{v:i.readDoubleBE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},1421:(e,t,r)=>{"use strict";const n={};n.DataType=r(8653),n.utils=r(6980),n.serializers={},n.intSerializer=new(r(6580))(n),n.longSerializer=new(r(1743))(n),n.longSerializerNg=new(r(7092))(n),n.stringSerializer=new(r(2420))(n,n.DataType.STRING),n.dateSerializer=new(r(2285))(n,n.DataType.DATE),n.timestampSerializer=new(r(2285))(n,n.DataType.TIMESTAMP),n.classSerializer=new(r(2420))(n,n.DataType.CLASS),n.doubleSerializer=new(r(1352))(n),n.floatSerializer=new(r(9995))(n),n.listSerializer=new(r(7100))(n,n.DataType.LIST),n.mapSerializer=new(r(8095))(n),n.setSerializer=new(r(7100))(n,n.DataType.SET),n.uuidSerializer=new(r(4194))(n),n.edgeSerializer=new(r(2588))(n),n.pathSerializer=new(r(5094))(n),n.propertySerializer=new(r(3920))(n),n.vertexSerializer=new(r(243))(n),n.vertexPropertySerializer=new(r(6414))(n),n.bytecodeSerializer=new(r(834))(n),n.pSerializer=new(r(3933))(n),n.traverserSerializer=new(r(4253))(n),n.enumSerializer=new(r(8372))(n),n.lambdaSerializer=new(r(6078))(n),n.bigIntegerSerializer=new(r(4957))(n),n.byteSerializer=new(r(795))(n),n.byteBufferSerializer=new(r(7777))(n),n.shortSerializer=new(r(703))(n),n.booleanSerializer=new(r(3321))(n),n.textPSerializer=new(r(6348))(n),n.traversalStrategySerializer=new(r(9386))(n),n.bulkSetSerializer=new(r(7765))(n),n.unspecifiedNullSerializer=new(r(7135))(n),n.numberSerializationStrategy=new(r(4687))(n),n.anySerializer=new(r(5127))(n),n.graphBinaryReader=new(r(3203))(n),n.graphBinaryWriter=new(r(6579))(n),e.exports=n},1545:e=>{"use strict";const t=Object.freeze({value:null,done:!0}),r=Symbol.asyncIterator||Symbol("@@asyncIterator");class n{constructor(e,t,r){this.operator=e,this.value=t,this.other=r}toString(){function e(t){if(Array.isArray(t)){const r=[];for(const n of t)r.push(e(n));return r}return t&&"string"==typeof t?`'${t}'`:t}return void 0===this.other||null===this.other?this.operator+"("+e(this.value)+")":this.operator+"("+e(this.value)+", "+e(this.other)+")"}and(e){return new n("and",this,e)}or(e){return new n("or",this,e)}static within(...e){return 1===e.length&&Array.isArray(e[0])?new n("within",e[0],null):new n("within",e,null)}static without(...e){return 1===e.length&&Array.isArray(e[0])?new n("without",e[0],null):new n("without",e,null)}static between(...e){return i("between",e)}static eq(...e){return i("eq",e)}static gt(...e){return i("gt",e)}static gte(...e){return i("gte",e)}static inside(...e){return i("inside",e)}static lt(...e){return i("lt",e)}static lte(...e){return i("lte",e)}static neq(...e){return i("neq",e)}static not(...e){return i("not",e)}static outside(...e){return i("outside",e)}static test(...e){return i("test",e)}}function i(e,t){return t.unshift(null,e),new(Function.prototype.bind.apply(n,t))}class o{constructor(e,t,r){this.operator=e,this.value=t,this.other=r}toString(){function e(e){return e&&"string"==typeof e?`'${e}'`:e}return void 0===this.other?this.operator+"("+e(this.value)+")":this.operator+"("+e(this.value)+", "+e(this.other)+")"}and(e){return new n("and",this,e)}or(e){return new n("or",this,e)}static containing(...e){return a("containing",e)}static endingWith(...e){return a("endingWith",e)}static notContaining(...e){return a("notContaining",e)}static notEndingWith(...e){return a("notEndingWith",e)}static notStartingWith(...e){return a("notStartingWith",e)}static startingWith(...e){return a("startingWith",e)}static regex(...e){return a("regex",e)}static notRegex(...e){return a("notRegex",e)}}function a(e,t){return t.unshift(null,e),new(Function.prototype.bind.apply(o,t))}function s(e,t){const r={};return t.split(" ").forEach(t=>{let n=t;n===n.toUpperCase()&&(n=n.toLowerCase()),r[n]=new l(e,t)}),r}const c={from_:"out",to:"in"};class l{constructor(e,t){this.typeName=e,this.elementName=t}toString(){return this.elementName}}e.exports={EnumValue:l,P:n,TextP:o,withOptions:{tokens:"~tinkerpop.valueMap.tokens",none:0,ids:1,labels:2,keys:4,values:8,all:15,indexer:"~tinkerpop.index.indexer",list:0,map:1},IO:class{static get graphml(){return"graphml"}static get graphson(){return"graphson"}static get gryo(){return"gryo"}static get reader(){return"~tinkerpop.io.reader"}static get registry(){return"~tinkerpop.io.registry"}static get writer(){return"~tinkerpop.io.writer"}},Traversal:class{constructor(e,t,r){this.graph=e,this.traversalStrategies=t,this.bytecode=r,this.traversers=null,this.sideEffects=null,this._traversalStrategiesPromise=null,this._traversersIteratorIndex=0}[r](){return this}getBytecode(){return this.bytecode}toList(){return this._applyStrategies().then(()=>{const e=[];let t;for(;(t=this._getNext())&&!t.done;)e.push(t.value);return e})}hasNext(){return this._applyStrategies().then(()=>this.traversers&&this.traversers.length>0&&this._traversersIteratorIndex<this.traversers.length&&this.traversers[this._traversersIteratorIndex].bulk>0)}iterate(){return this.bytecode.addStep("none"),this._applyStrategies().then(()=>{let e;for(;(e=this._getNext())&&!e.done;);})}next(){return this._applyStrategies().then(()=>this._getNext())}_getNext(){for(;this.traversers&&this._traversersIteratorIndex<this.traversers.length;){const e=this.traversers[this._traversersIteratorIndex];if(e.bulk>0)return e.bulk--,{value:e.object,done:!1};this._traversersIteratorIndex++}return t}_applyStrategies(){return this._traversalStrategiesPromise?this._traversalStrategiesPromise:this._traversalStrategiesPromise=this.traversalStrategies.applyStrategies(this)}toJSON(){return this.bytecode.stepInstructions}toString(){return this.bytecode.toString()}},TraversalSideEffects:class{},Traverser:class{constructor(e,t){this.object=e,this.bulk=t||1}},barrier:s("Barrier","normSack"),cardinality:s("Cardinality","list set single"),column:s("Column","keys values"),direction:function(e,t){const r=s(e,t);return Object.keys(c).forEach(e=>{r[e]=r[c[e]]}),r}("Direction","BOTH IN OUT from_ to"),dt:s("DT","second minute hour day"),graphSONVersion:s("GraphSONVersion","V1_0 V2_0 V3_0"),gryoVersion:s("GryoVersion","V1_0 V3_0"),merge:s("Merge","onCreate onMatch outV inV"),operator:s("Operator","addAll and assign div max min minus mult or sum sumLong"),order:s("Order","asc desc shuffle"),pick:s("Pick","any none"),pop:s("Pop","all first last mixed"),scope:s("Scope","global local"),t:s("T","id key label value")}},1743:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.LONG]=this}canBeUsedFor(){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.LONG,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.LONG,0]));const i=n.alloc(8);return i.writeBigInt64BE(BigInt(e)),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.LONG)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;let o=i.readBigInt64BE();return o=o<Number.MIN_SAFE_INTEGER||o>Number.MAX_SAFE_INTEGER?parseFloat(o.toString()):Number(o),{v:o,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},1893:(e,t,r)=>{"use strict";const n=r(2468),i=r(8402);e.exports=class extends n{constructor(e,t,r){super({mechanism:new i({username:e,password:t,authzid:r})})}evaluateChallenge(e){return this._options.mechanism.evaluateChallenge(e)}}},1972:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function n(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}var i={INIT_FAILED:["system","initFailed"],UI_INIT_FAILED:["system","uiInitFailed"],UNEXPECTED_ERROR:["system","unexpectedError"],SEND_FAILED:["application","sendFailed"],SEQUENCE_ERROR:["application","sequenceError"],OPERATION_IN_PROGRESS:["application","operationInProgress"],MESSAGE_EMPTY:["application","messageEmpty"],EXPORT_FAILED:["application","exportFailed"],NO_MESSAGES_TO_EXPORT:["application","noMessagesToExport"],NETWORK_ERROR:["network","connectionError"],NEO4J_ERROR:["network","neo4jError"],MQTT_ERROR:["network","mqttError"],CONVERSATION_LOAD_ERROR:["conversation","loadError"],CONVERSATION_CREATE_ERROR:["conversation","createError"],CONVERSATION_NOT_FOUND:["conversation","notFound"],CONVERSATION_EDIT_ERROR:["conversation","editError"],NO_ACTIVE_CONVERSATION:["conversation","noConversationToEdit"],RESPONSE_ERROR:["conversation","responseError"]},o=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=null,n=[{key:"showError",value:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){try{var r=ErrorHandler.getError(e,t),n=r.message,i=r.severity;showError(n,i)}catch(e){showError(i18n.translate("errors.system.unexpectedError"),"error")}})},{key:"showDirectMessage",value:function(e){showError(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error")}}],t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();e.exports&&(e.exports={ChatErrorHandler:o,ChatErrorCodes:i}),window.ChatErrorHandler=o,window.ChatErrorCodes=i},1982:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function s(r,n,i,a){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return o(u,"_invoke",function(r,n,i){var o,a,s,l=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,a=0,s=e,f.n=r,c}};function h(r,n){for(a=r,s=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],h=f.p,p=o[2];r>3?(i=p===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(a=0,f.v=n,f.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,a=0))}if(i||r>1)return c;throw d=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),a=u,s=p;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(f.n=-1),h(a,s)):f.n=s:f.v=s);try{if(l=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=f.n<0)?s:r.call(n,f))!==c)break}catch(t){o=e,a=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,i,a),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(o(t={},n,function(){return this}),t),h=d.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,a,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=d,o(h,"constructor",d),o(d,"constructor",u),u.displayName="GeneratorFunction",o(d,a,"GeneratorFunction"),o(h),o(h,a,"Generator"),o(h,n,function(){return this}),o(h,"toString",function(){return"[object Generator]"}),(i=function(){return{w:s,m:p}})()}function o(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}o=function(e,t,r,n){function a(t,r){o(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},o(e,t,r,n)}function a(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,c,"next",e)}function c(e){a(o,n,i,s,c,"throw",e)}s(void 0)})}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}r.d(t,{M:()=>f});var f=function(){return u(function e(t){if(c(this,e),this.constructor===e)throw new Error("Can't create an instance of an abstract class.")},[{key:"initialize",value:(d=s(i().m(function e(){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("initialize() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return d.apply(this,arguments)})},{key:"close",value:(l=s(i().m(function e(){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("close() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return l.apply(this,arguments)})},{key:"startTransaction",value:(a=s(i().m(function e(){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("startTransaction() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return a.apply(this,arguments)})},{key:"endTransaction",value:(o=s(i().m(function e(){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("endTransaction() has not been implemented.");case 1:return e.a(2)}},e)})),function(){return o.apply(this,arguments)})},{key:"executeInTransaction",value:(n=s(i().m(function e(t,r){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("executeInTransaction() has not been implemented.");case 1:return e.a(2)}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"executeRead",value:(t=s(i().m(function e(t,r){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("executeRead() has not been implemented.");case 1:return e.a(2)}},e)})),function(e,r){return t.apply(this,arguments)})},{key:"executeWrite",value:(e=s(i().m(function e(t,r){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("executeWrite() has not been implemented.");case 1:return e.a(2)}},e)})),function(t,r){return e.apply(this,arguments)})},{key:"getQuery",value:function(e){if(utils.debugLog("getQuery('".concat(e,"')")),e in this.queryStrings)return this.queryStrings[e][this.dbtype];throw new Error("A query with ID ".concat(e," was not found."))}}],[{key:"classFactory",value:function(e,t,n){var i;switch(e.DATABASETYPE.toLowerCase()){case"neo4j":i=new(0,r(3852).Neo4jDatabaseService)(e.NEO4J_CONFIG);break;case"neo4j-https":i=new(0,r(6653).Neo4jHTTPSDatabaseService)(e.NEO4J_CONFIG);break;case"cosmosdb":i=new(0,r(1011).GremlinDatabaseService)(e.COSMOSDB_CONFIG,n);break;default:throw new Error("Unsupported graph database type: ".concat(e.DATABASETYPE))}return i.dbtype=e.DATABASETYPE.toLowerCase(),i.queryStrings=t,i}}]);var e,t,n,o,a,l,d}()},2029:(e,t,r)=>{"use strict";const n=r(1545).Traversal,i=r(9032);e.exports=class{constructor(e){this._traversalSource=e}getTraversalSource(){return this._traversalSource}getTargetLanguage(){return"gremlin-groovy"}of(e){this._traversalSource=e}translate(e,t=!1){let r=t?"__":this._traversalSource;const n=(e instanceof i?e:e.getBytecode()).stepInstructions;for(let e=0;e<n.length;e++){const t=n[e].slice(1);if(r+="."+n[e][0]+"(",t.length)for(let e=0;e<t.length;e++)e>0&&(r+=", "),r+=this.convert(t[e]);r+=")"}return r}convert(e){let t="";if(Object(e)===e)if(e instanceof n)t+=this.translate(e.getBytecode(),!0);else if("[object Object]"===e.toString())Object.keys(e).forEach(function(r,n){n>0&&(t+=", "),t+=`('${r}', `,e[r]instanceof String||"string"==typeof e[r]?t+=`'${`${e[r]}`.replaceAll("'","\\'")}'`:t+=e[r],t+=")"});else if(Array.isArray(e)){const r=[];for(const t of e)r.push(this.convert(t));t+="["+r.join(", ")+"]"}else t+=e.toString();else t+=null==e?"null":"number"==typeof e||"boolean"==typeof e?e:`'${`${e}`.replaceAll("'","\\'")}'`;return t}}},2285:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return e instanceof Date}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ID,0]));const i=n.alloc(8);return i.writeBigInt64BE(BigInt(e.getTime())),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ID)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;const o=i.readBigInt64BE();return{v:new Date(Number(o)),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},2311:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,a){return n((s=n(n(t,e),n(i,a)))<<(c=o)|s>>>32-c,r);var s,c}function o(e,t,r,n,o,a,s){return i(t&r|~t&n,e,t,o,a,s)}function a(e,t,r,n,o,a,s){return i(t&n|r&~n,e,t,o,a,s)}function s(e,t,r,n,o,a,s){return i(t^r^n,e,t,o,a,s)}function c(e,t,r,n,o,a,s){return i(r^(t|~n),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=1732584193,l=-271733879,u=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const r=i,f=l,h=u,p=d;i=o(i,l,u,d,e[t],7,-680876936),d=o(d,i,l,u,e[t+1],12,-389564586),u=o(u,d,i,l,e[t+2],17,606105819),l=o(l,u,d,i,e[t+3],22,-1044525330),i=o(i,l,u,d,e[t+4],7,-176418897),d=o(d,i,l,u,e[t+5],12,1200080426),u=o(u,d,i,l,e[t+6],17,-1473231341),l=o(l,u,d,i,e[t+7],22,-45705983),i=o(i,l,u,d,e[t+8],7,1770035416),d=o(d,i,l,u,e[t+9],12,-1958414417),u=o(u,d,i,l,e[t+10],17,-42063),l=o(l,u,d,i,e[t+11],22,-1990404162),i=o(i,l,u,d,e[t+12],7,1804603682),d=o(d,i,l,u,e[t+13],12,-40341101),u=o(u,d,i,l,e[t+14],17,-1502002290),l=o(l,u,d,i,e[t+15],22,1236535329),i=a(i,l,u,d,e[t+1],5,-165796510),d=a(d,i,l,u,e[t+6],9,-1069501632),u=a(u,d,i,l,e[t+11],14,643717713),l=a(l,u,d,i,e[t],20,-373897302),i=a(i,l,u,d,e[t+5],5,-701558691),d=a(d,i,l,u,e[t+10],9,38016083),u=a(u,d,i,l,e[t+15],14,-660478335),l=a(l,u,d,i,e[t+4],20,-405537848),i=a(i,l,u,d,e[t+9],5,568446438),d=a(d,i,l,u,e[t+14],9,-1019803690),u=a(u,d,i,l,e[t+3],14,-187363961),l=a(l,u,d,i,e[t+8],20,1163531501),i=a(i,l,u,d,e[t+13],5,-1444681467),d=a(d,i,l,u,e[t+2],9,-51403784),u=a(u,d,i,l,e[t+7],14,1735328473),l=a(l,u,d,i,e[t+12],20,-1926607734),i=s(i,l,u,d,e[t+5],4,-378558),d=s(d,i,l,u,e[t+8],11,-2022574463),u=s(u,d,i,l,e[t+11],16,1839030562),l=s(l,u,d,i,e[t+14],23,-35309556),i=s(i,l,u,d,e[t+1],4,-1530992060),d=s(d,i,l,u,e[t+4],11,1272893353),u=s(u,d,i,l,e[t+7],16,-155497632),l=s(l,u,d,i,e[t+10],23,-1094730640),i=s(i,l,u,d,e[t+13],4,681279174),d=s(d,i,l,u,e[t],11,-358537222),u=s(u,d,i,l,e[t+3],16,-722521979),l=s(l,u,d,i,e[t+6],23,76029189),i=s(i,l,u,d,e[t+9],4,-640364487),d=s(d,i,l,u,e[t+12],11,-421815835),u=s(u,d,i,l,e[t+15],16,530742520),l=s(l,u,d,i,e[t+2],23,-995338651),i=c(i,l,u,d,e[t],6,-198630844),d=c(d,i,l,u,e[t+7],10,1126891415),u=c(u,d,i,l,e[t+14],15,-1416354905),l=c(l,u,d,i,e[t+5],21,-57434055),i=c(i,l,u,d,e[t+12],6,1700485571),d=c(d,i,l,u,e[t+3],10,-1894986606),u=c(u,d,i,l,e[t+10],15,-1051523),l=c(l,u,d,i,e[t+1],21,-2054922799),i=c(i,l,u,d,e[t+8],6,1873313359),d=c(d,i,l,u,e[t+15],10,-30611744),u=c(u,d,i,l,e[t+6],15,-1560198380),l=c(l,u,d,i,e[t+13],21,1309151649),i=c(i,l,u,d,e[t+4],6,-145523070),d=c(d,i,l,u,e[t+11],10,-1120210379),u=c(u,d,i,l,e[t+2],15,718787259),l=c(l,u,d,i,e[t+9],21,-343485551),i=n(i,r),l=n(l,f),u=n(u,h),d=n(d,p)}return[i,l,u,d]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};t.default=l},2420:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return"string"==typeof e}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):this.ioc.intSerializer.serialize(0,!1);const r=[];t&&r.push(n.from([this.ID,0]));const i=n.from(String(e),"utf8");return r.push(this.ioc.intSerializer.serialize(i.length,!1)),r.push(i),n.concat(r)}deserialize(e,t=!0,r=!1){let i=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(i++,e!==this.ID)throw new Error("unexpected {type_code}");o=o.slice(1)}if(t||r){if(o.length<1)throw new Error("{value_flag} is missing");const e=o.readUInt8();if(i++,1===e)return{v:null,len:i};if(0!==e)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s;try{({v:a,len:s}=this.ioc.intSerializer.deserialize(o,!1)),i+=s}catch(e){throw e.message="{length}: "+e.message,e}if(a<0)throw new Error("{length} is less than zero");if(o=o.slice(s),o.length<a)throw new Error("unexpected {text_value} length");i+=a;return{v:o.toString("utf8",0,a),len:i}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},2468:e=>{"use strict";e.exports=class{constructor(e){this._options=e}evaluateChallenge(e){throw new Error("evaluateChallenge should be implemented")}}},2588:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.EDGE]=this}canBeUsedFor(e){return e instanceof i.Edge}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.EDGE,1]);const e=[3,0,0,0,0,0],r=[0,0,0,0],i=[3,0,0,0,0,0],o=[0,0,0,0],a=[3,0,0,0,0,0],s=[0,0,0,0],c=[254,1],l=[254,1];return n.from([...e,...r,...i,...o,...a,...s,...c,...l])}const r=[];t&&r.push(n.from([this.ioc.DataType.EDGE,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1));const i=e.inV&&e.inV.id;r.push(this.ioc.anySerializer.serialize(i));const o=e.inV&&e.inV.label;r.push(this.ioc.stringSerializer.serialize(o,!1));const a=e.outV&&e.outV.id;r.push(this.ioc.anySerializer.serialize(a));const s=e.outV&&e.outV.label;return r.push(this.ioc.stringSerializer.serialize(s,!1)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.EDGE)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u,d,f,h,p,y,g,m,b,v,w;try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.stringSerializer.deserialize(o,!1)),r+=l}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(l);try{({v:u,len:d}=this.ioc.anySerializer.deserialize(o)),r+=d}catch(e){throw e.message="{inVId}: "+e.message,e}o=o.slice(d);try{({v:f,len:h}=this.ioc.stringSerializer.deserialize(o,!1)),r+=h}catch(e){throw e.message="{inVLabel}: "+e.message,e}o=o.slice(h);try{({v:p,len:y}=this.ioc.anySerializer.deserialize(o)),r+=y}catch(e){throw e.message="{outVId}: "+e.message,e}o=o.slice(y);try{({v:g,len:m}=this.ioc.stringSerializer.deserialize(o,!1)),r+=m}catch(e){throw e.message="{outVLabel}: "+e.message,e}o=o.slice(m);try{({len:b}=this.ioc.anySerializer.deserialize(o)),r+=b}catch(e){throw e.message="{parent}: "+e.message,e}o=o.slice(b);try{({v,len:w}=this.ioc.anySerializer.deserialize(o)),r+=w}catch(e){throw e.message="{properties}: "+e.message,e}o=o.slice(w);return{v:new i.Edge(a,new i.Vertex(p,g,null),c,new i.Vertex(u,f,null),v),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},2617:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}var l=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.locale=t,this.config=this.getLocaleConfig(t),this.initializeFormatters()},t=[{key:"initializeFormatters",value:function(){var e={hour12:this.config.timeFormat.hour12};this.dateFormatters={short:new Intl.DateTimeFormat(this.locale,o({dateStyle:"short",timeStyle:"short"},e)),medium:new Intl.DateTimeFormat(this.locale,o({dateStyle:"medium",timeStyle:"medium"},e)),long:new Intl.DateTimeFormat(this.locale,o({dateStyle:"full",timeStyle:"long"},e)),time:new Intl.DateTimeFormat(this.locale,o({timeStyle:"short"},e))},this.numberFormatter=new Intl.NumberFormat(this.locale,{minimumFractionDigits:0,maximumFractionDigits:20}),this.currencyFormatter=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.config.numberFormat.currency})}},{key:"getLocaleConfig",value:function(e){return window.localeConfigs[e]||window.localeConfigs["en-US"]}},{key:"formatDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium",r=this.config.dateFormat;return null!=r&&r[t]?new Intl.DateTimeFormat(this.locale,{dateStyle:t}).format(e):e.toLocaleDateString(this.locale)}},{key:"formatNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return null!==t?new Intl.NumberFormat(this.locale,{minimumFractionDigits:t,maximumFractionDigits:t}).format(e):this.numberFormatter.format(e)}catch(t){return e.toString()}}},{key:"formatCurrency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return t?new Intl.NumberFormat(this.locale,{style:"currency",currency:t}).format(e):this.currencyFormatter.format(e)}catch(t){return e.toString()}}},{key:"formatRelativeTime",value:function(e){try{for(var t=new Intl.RelativeTimeFormat(this.locale,{numeric:"auto"}),n=(new Date(e).getTime()-Date.now())/1e3,i=0,o=Object.entries({year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1});i<o.length;i++){var a=r(o[i],2),s=a[0],c=a[1];if(Math.abs(n)>=c||"second"===s)return t.format(Math.round(n/c),s)}}catch(t){return new Date(e).toLocaleString(this.locale)}}},{key:"formatTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";try{var r,n={hour:"numeric",minute:"numeric",second:"short"!==t?"numeric":void 0,hour12:null===(r=this.config.timeFormat)||void 0===r?void 0:r.hour12};return new Intl.DateTimeFormat(this.locale,n).format(e)}catch(t){return e.toLocaleTimeString(this.locale)}}},{key:"uses12HourTime",value:function(){var e,t;return"12h"===(null===(e=this.config.timeFormat)||void 0===e?void 0:e.system)||!0===(null===(t=this.config.timeFormat)||void 0===t?void 0:t.hour12)}},{key:"usesMixedTimeFormat",value:function(){var e;return"mixed"===(null===(e=this.config.timeFormat)||void 0===e?void 0:e.system)}},{key:"formatDateTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";try{var r,n=e instanceof Date?e:new Date(e),i=(null===(r=this.config.dateTimeFormat)||void 0===r?void 0:r[t])||{},o=new Intl.DateTimeFormat(this.locale,{dateStyle:t}),a=new Intl.DateTimeFormat(this.locale,{hour:"12h"===this.config.timeFormat.system?"numeric":"2-digit",minute:"2-digit",second:"short"!==t?"2-digit":void 0,hour12:this.config.timeFormat.hour12});return(i.pattern||"{date} {time}").replace("{date}",o.format(n)).replace("{time}",a.format(n))}catch(t){return new Date(e).toLocaleString(this.locale)}}},{key:"getMeridiemMarker",value:function(e){var t=this.config.timeFormat;return null!=t&&t.meridiem?e<12?t.meridiem.ante:t.meridiem.post:null}},{key:"isRTL",value:function(){return"rtl"===this.config.direction}},{key:"getCulturalPreferences",value:function(){var e,t,r,n;return{direction:this.config.direction,timeFormat:this.config.timeFormat,dateFormat:this.config.dateFormat,dateTimeFormat:this.config.dateTimeFormat,numberFormat:this.config.numberFormat,calendar:{firstDayOfWeek:null!==(e=null===(t=this.config.calendar)||void 0===t?void 0:t.firstDayOfWeek)&&void 0!==e?e:0,weekendDays:null!==(r=null===(n=this.config.calendar)||void 0===n?void 0:n.weekendDays)&&void 0!==r?r:[0,6]},measurement:this.config.measurement||"metric"}}}],t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();e.exports&&(e.exports=l),window.CulturalConfig=l},2831:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var n=f(r(3518)),i=f(r(4948)),o=f(r(5073)),a=f(r(7186)),s=f(r(4808)),c=f(r(7775)),l=f(r(7037)),u=f(r(9910)),d=f(r(6792));function f(e){return e&&e.__esModule?e:{default:e}}},2858:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},2861:(e,t,r)=>{var n=r(8287),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},3095:(e,t,r)=>{"use strict";const{ArrayPrototypePop:n,Promise:i}=r(4134),{isIterable:o,isNodeStream:a,isWebStream:s}=r(6115),{pipelineImpl:c}=r(7758),{finished:l}=r(6238);r(5506),e.exports={finished:l,pipeline:function(...e){return new i((t,r)=>{let i,l;const u=e[e.length-1];if(u&&"object"==typeof u&&!a(u)&&!o(u)&&!s(u)){const t=n(e);i=t.signal,l=t.end}c(e,(e,n)=>{e?r(e):t(n)},{signal:i,end:l})})}}},3141:(e,t,r)=>{"use strict";var n=r(2861).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},3203:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e}readResponse(e){if(null==e)throw new Error("Buffer is missing.");if(!(e instanceof n))throw new Error("Not an instance of Buffer.");if(e.length<1)throw new Error("Buffer is empty.");const t={status:{},result:{}};let r,i=e;const o=i[0];if(129!==o)throw new Error(`Unsupported version '${o}'.`);return i=i.slice(1),({v:t.requestId,len:r}=this.ioc.uuidSerializer.deserialize(i,!1,!0)),i=i.slice(r),({v:t.status.code,len:r}=this.ioc.intSerializer.deserialize(i,!1)),i=i.slice(r),({v:t.status.message,len:r}=this.ioc.stringSerializer.deserialize(i,!1,!0)),i=i.slice(r),({v:t.status.attributes,len:r}=this.ioc.mapSerializer.deserialize(i,!1)),i=i.slice(r),({v:t.result.meta,len:r}=this.ioc.mapSerializer.deserialize(i,!1)),i=i.slice(r),({v:t.result.data}=this.ioc.anySerializer.deserialize(i)),t}}},3321:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BOOLEAN]=this}canBeUsedFor(e){return"boolean"==typeof e}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BOOLEAN,1]):n.from([0]);const r=[];return t&&r.push(n.from([this.ioc.DataType.BOOLEAN,0])),r.push(n.from([e?1:0])),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BOOLEAN)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<1)throw new Error("unexpected {value} length");r+=1;let o=i.readUInt8();if(0!==o&&1!==o)throw new Error(`unexpected boolean byte=${o}`);return o=1===o,{v:o,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},3335:(e,t,r)=>{"use strict";const n=r(1545).Traversal;class i{constructor(e,t={}){this.fqcn=e,this.configuration=t}apply(e){}}e.exports={TraversalStrategies:class{constructor(e){this.strategies=e?[...e.strategies]:[]}addStrategy(e){this.strategies.push(e)}removeStrategy(e){const t=this.strategies.findIndex(t=>t.fqcn===e.fqcn);if(-1!==t)return this.strategies.splice(t,1)[0]}applyStrategies(e){return this.strategies.reduce((t,r)=>t.then(()=>r.apply(e)),Promise.resolve())}},TraversalStrategy:i,ConnectiveStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.ConnectiveStrategy")}},ElementIdStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.ElementIdStrategy")}},HaltedTraverserStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.HaltedTraverserStrategy"),void 0!==e&&(this.configuration.haltedTraverserFactory=e)}},OptionsStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.OptionsStrategy",e)}},PartitionStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.PartitionStrategy",e)}},SeedStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.SeedStrategy",{seed:e.seed})}},SubgraphStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.SubgraphStrategy",e),this.configuration.vertices instanceof n&&(this.configuration.vertices=this.configuration.vertices.bytecode),this.configuration.edges instanceof n&&(this.configuration.edges=this.configuration.edges.bytecode),this.configuration.vertexProperties instanceof n&&(this.configuration.vertexProperties=this.configuration.vertexProperties.bytecode)}},VertexProgramStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.computer.traversal.strategy.decoration.VertexProgramStrategy",e)}},MatchAlgorithmStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.finalization.MatchAlgorithmStrategy"),void 0!==e&&(this.configuration.matchAlgorithm=e)}},AdjacentToIncidentStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.AdjacentToIncidentStrategy")}},FilterRankingStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.FilterRankingStrategy")}},IdentityRemovalStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.IdentityRemovalStrategy")}},IncidentToAdjacentStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.IncidentToAdjacentStrategy")}},InlineFilterStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.InlineFilterStrategy")}},LazyBarrierStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.LazyBarrierStrategy")}},MatchPredicateStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.MatchPredicateStrategy")}},OrderLimitStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.OrderLimitStrategy")}},PathProcessorStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.PathProcessorStrategy")}},PathRetractionStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.PathRetractionStrategy")}},ProductiveByStrategy:class extends i{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.ProductiveByStrategy",e)}},CountStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.CountStrategy")}},RepeatUnrollStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.RepeatUnrollStrategy")}},GraphFilterStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.GraphFilterStrategy")}},EarlyLimitStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.EarlyLimitStrategy")}},EdgeLabelVerificationStrategy:class extends i{constructor(e=!1,t=!1){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.EdgeLabelVerificationStrategy",{logWarnings:e,throwException:t})}},LambdaRestrictionStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.LambdaRestrictionStrategy")}},ReadOnlyStrategy:class extends i{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.ReadOnlyStrategy")}},ReservedKeysVerificationStrategy:class extends i{constructor(e=!1,t=!1,r=["id","label"]){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.ReservedKeysVerificationStrategy",{logWarnings:e,throwException:t,keys:r})}}}},3370:(e,t,r)=>{"use strict";const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:o,ObjectSetPrototypeOf:a}=r(4134);e.exports=l;const s=r(7576),c=r(8584);a(l.prototype,s.prototype),a(l,s);{const e=o(c.prototype);for(let t=0;t<e.length;t++){const r=e[t];l.prototype[r]||(l.prototype[r]=c.prototype[r])}}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let u,d;function f(){return void 0===u&&(u={}),u}n(l.prototype,{writable:{__proto__:null,...i(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(c.prototype,"writableLength")},writableFinished:{__proto__:null,...i(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),l.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},l.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},l.from=function(e){return d||(d=r(6706)),d(e,"body")}},3469:(e,t,r)=>{"use strict";const n=r(1545),i=r(5332),o=r(3335),a=r(163),s=r(9449),c=r(5737),l=r(9032),u=r(2029),d=r(1104),f=r(7240),h=r(7286),p=r(7545),y=r(74),g=r(2468),m=r(1893),b=r(6665);e.exports={driver:{RemoteConnection:c.RemoteConnection,RemoteStrategy:c.RemoteStrategy,RemoteTraversal:c.RemoteTraversal,ResponseError:h,DriverRemoteConnection:f,Client:p,ResultSet:y,auth:{Authenticator:g,PlainTextSaslAuthenticator:m}},process:{Bytecode:l,EnumValue:n.EnumValue,P:n.P,TextP:n.TextP,Traversal:n.Traversal,TraversalSideEffects:n.TraversalSideEffects,TraversalStrategies:o.TraversalStrategies,TraversalStrategy:o.TraversalStrategy,Traverser:n.Traverser,barrier:n.barrier,cardinality:n.cardinality,column:n.column,direction:n.direction,dt:n.dt,merge:n.merge,operator:n.operator,order:n.order,pick:n.pick,pop:n.pop,scope:n.scope,t:n.t,GraphTraversal:i.GraphTraversal,GraphTraversalSource:i.GraphTraversalSource,statics:i.statics,Translator:u,traversal:b.traversal,AnonymousTraversalSource:b,withOptions:n.withOptions},structure:{io:s,Edge:a.Edge,Graph:a.Graph,Path:a.Path,Property:a.Property,Vertex:a.Vertex,VertexProperty:a.VertexProperty,toLong:d.toLong}}},3518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(2858))&&n.__esModule?n:{default:n},o=r(9910);let a,s,c=0,l=0;var u=function(e,t,r){let n=t&&r||0;const u=t||new Array(16);let d=(e=e||{}).node||a,f=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==f){const t=e.random||(e.rng||i.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=s=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:l+1;const y=h-c+(p-l)/1e4;if(y<0&&void 0===e.clockseq&&(f=f+1&16383),(y<0||h>c)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,l=p,s=f,h+=122192928e5;const g=(1e4*(268435455&h)+p)%4294967296;u[n++]=g>>>24&255,u[n++]=g>>>16&255,u[n++]=g>>>8&255,u[n++]=255&g;const m=h/4294967296*1e4&268435455;u[n++]=m>>>8&255,u[n++]=255&m,u[n++]=m>>>24&15|16,u[n++]=m>>>16&255,u[n++]=f>>>8|128,u[n++]=255&f;for(let e=0;e<6;++e)u[n+e]=d[e];return t||(0,o.unsafeStringify)(u)};t.default=u},3676:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,r,n){return(r=function(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var o={"en-US":{name:"English (US)",nativeName:"English (US)",flag:"🇺🇸",direction:"ltr",numberFormat:{decimal:".",group:",",currency:"USD",currencyDisplay:"$"},timeFormat:{system:"12h",hour12:!0,short:"h:mm A",medium:"h:mm:ss A",long:"h:mm:ss A z",meridiem:{ante:"AM",post:"PM"}},dateFormat:{short:"M/d/yy",medium:"MMM d, yyyy",long:"MMMM d, yyyy"},dateTimeFormat:{short:{pattern:"{date} {time}"},medium:{pattern:"{date} at {time}"},long:{pattern:"{date} at {time}"}},calendar:{firstDayOfWeek:0,weekendDays:[0,6],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},measurement:"imperial",translations:i(i(i(i(i(i(i(i({loading:{text:"Loading..."},error:{text:"An error occurred"},success:{text:"Operation successful"},darkMode:{text:"Dark mode"},searchConversations:{text:"Search conversations"},splitView:{text:"Split view"},includeArchived:{text:"Include archived"},filters:{text:"Filters"},conversations:{text:"Conversations"},noConversations:{text:"No conversations"},showConversations:{text:"Show conversations"},newConversation:{text:"New conversation"},sendMessage:{text:"Send message"},typeMessage:{text:"Type your message..."},exportConversation:{text:"Export conversation"},myConversations:{text:"My conversations"},title:{text:"Title"},editConversation:{text:"Edit conversation"},noConversationToEdit:{text:"No conversation to edit"},save:{text:"Save"},confirm:{text:"Confirm"},cancel:{text:"Cancel"},close:{text:"Close"},openChatSettings:{text:"Open chat settings"},statistics:{text:"Statistics"},settings:{text:"Settings"},messages:{text:"Messages"},totalTokens:{text:"Total tokens"},avgResponse:{text:"Avg response"},avgQuery:{text:"Avg query"},responseTime:{text:"Response time"},tokenUsage:{text:"Token usage"},queryTime:{text:"Query time"},connecting:{text:"Connecting..."},processing:{text:"Processing..."},thinking:{text:"Thinking..."},generating:{text:"Generating response..."},initializing:{text:"Initializing..."},canceling:{text:"Canceling operation..."}},"loading",{text:"Loading..."}),"stopGeneration",{text:"Stop generation"}),"copyResponse",{text:"Copy response"}),"messageExpanded",{text:"Message expanded"}),"messageCollapsed",{text:"Message collapsed"}),"operationInProgress",{text:"Please wait for the current operation to complete."}),"canceling",{text:"Canceling operation..."}),"conversationTitleEditSuccess",{text:"Conversation title updated successfully"}),errors:{system:{initFailed:{text:"Failed to initialize chat. Please refresh the page.",severity:"critical"},uiInitFailed:{text:"Failed to initialize UI elements. Please refresh the page.",severity:"error"},unexpectedError:{text:"An unexpected error occurred. Please try again.",severity:"error"}},network:{connectionError:{text:"Network error. Please check your connection.",severity:"error"},mqttError:{text:"Connection error occurred. Please try again.",severity:"error"},neo4jError:{text:"Database error occurred. Please try again.",severity:"error"}},application:{sendFailed:{text:"Failed to send message. Please try again.",severity:"error"},sequenceError:{text:"Please wait for the current response before sending a new message.",severity:"warning"},operationInProgress:{text:"Please wait for the current operation to complete.",severity:"warning"},messageEmpty:{text:"Please enter a message before sending.",severity:"warning"},exportFailed:{text:"Failed to export conversation.",severity:"error"},noMessagesToExport:{text:"No messages to export.",severity:"warning"}},conversation:{loadError:{text:"Failed to load conversation. Please try again.",severity:"error"},createError:{text:"Failed to create new conversation. Please try again.",severity:"error"},notFound:{text:"Conversation not found.",severity:"error"},editError:{text:"Failed to update conversation. Please try again.",severity:"error"},noConversationToEdit:{text:"No conversation to edit.",severity:"warning"},responseError:{text:"Failed to load response. Please try again.",severity:"error"}}}}};o["en-UK"]=n(n({},o["en-US"]),{},{name:"English (UK)",nativeName:"English (UK)",flag:"🇬🇧",numberFormat:n(n({},o["en-US"].numberFormat),{},{currency:"GBP",currencyDisplay:"£"}),timeFormat:{system:"24h",hour12:!1,short:"HH:mm",medium:"HH:mm:ss",long:"HH:mm:ss z",meridiem:{ante:"",post:""}},dateFormat:{short:"dd/MM/yy",medium:"d MMM yyyy",long:"d MMMM yyyy"},dateTimeFormat:{short:{pattern:"{date} {time}"},medium:{pattern:"{date} at {time}"},long:{pattern:"{date} at {time}"}},translations:n({},o["en-US"].translations)}),e.exports&&(e.exports=o),window.localeConfigs=o},3852:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Neo4jDatabaseService:()=>B});var n=r(1982);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(i(e)+" is not iterable")}function l(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return u(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,s=0,c=e,f.n=r,a}};function h(r,n){for(s=r,c=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],h=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(s=0,f.v=n,f.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,c=p;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?c:r.call(n,f))!==a)break}catch(t){o=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(u(t={},n,function(){return this}),t),h=d.prototype=s.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return c.prototype=d,u(h,"constructor",d),u(d,"constructor",c),c.displayName="GeneratorFunction",u(d,i,"GeneratorFunction"),u(h),u(h,i,"Generator"),u(h,n,function(){return this}),u(h,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:p}})()}function u(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}u=function(e,t,r,n){function o(t,r){u(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},u(e,t,r,n)}function d(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,s,"next",e)}function s(e){d(o,n,i,a,s,"throw",e)}a(void 0)})}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var y={READ:"READ",WRITE:"WRITE"},g=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t.uri||!t.username||!t.password)throw new Error("Invalid Neo4j configuration");this.config=t,this.driver=null,this.isInitialized=!1,this.connectionRetryCount=0,this.maxRetries=3,this.poolConfig={maxConnectionPoolSize:1,connectionTimeout:15e3,maxTransactionRetryTime:15e3,connectionAcquisitionTimeout:15e3,maxConnectionLifetime:36e5,idleTimeoutMillis:18e5}},t=[{key:"isRetryableError",value:function(e){return["ServiceUnavailable","SessionExpired","TransientError","Neo.TransientError"].some(function(t){var r,n;return(null===(r=e.code)||void 0===r?void 0:r.includes(t))||(null===(n=e.message)||void 0===n?void 0:n.includes(t))})}},{key:"checkConnections",value:(p=f(l().m(function e(){var t;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.driver){e.n=1;break}return debugLog("No driver found during health check - will initialize on next query"),this.isInitialized=!1,e.a(2);case 1:return e.p=1,e.n=2,this.driver.verifyConnectivity();case 2:utils.debugLog("Connection health check passed"),e.n=4;break;case 3:return e.p=3,t=e.v,utils.debugLog("Connection health check failed:",t),this.isInitialized=!1,e.n=4,this.cleanup();case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return p.apply(this,arguments)})},{key:"withRetry",value:(d=f(l().m(function e(t){var r,n,i,o,a=this,s=arguments;return l().w(function(e){for(;;)switch(e.n){case 0:r=s.length>1&&void 0!==s[1]?s[1]:3,n=l().m(function e(){var n,i,s;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t();case 1:return i=e.v,e.a(2,{v:i});case 2:if(e.p=2,s=e.v,!(a.isRetryableError(s)&&o<r)){e.n=4;break}return n=Math.min(100*Math.pow(2,o),2e3),e.n=3,new Promise(function(e){return setTimeout(e,n)});case 3:return a.isInitialized=!1,e.a(2,0);case 4:throw s;case 5:return e.a(2)}},e,null,[[0,2]])}),o=1;case 1:if(!(o<=r)){e.n=5;break}return e.d(c(n()),2);case 2:if(0!==(i=e.v)){e.n=3;break}return e.a(3,4);case 3:if(!i){e.n=4;break}return e.a(2,i.v);case 4:o++,e.n=1;break;case 5:return e.a(2)}},e)})),function(e){return d.apply(this,arguments)})},{key:"executeQuery",value:(u=f(l().m(function e(t){var r,n,i=this,o=arguments;return l().w(function(e){for(;;)switch(e.n){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]?o[2]:y.READ,utils.debugLog("Executing Neo4j query:",t,"Params:",r,"Mode:",n),this.isInitialized){e.n=1;break}return utils.debugLog("Connection not initialized or lost - reinitializing"),e.n=1,this.initialize();case 1:return e.a(2,this.withRetry(f(l().m(function e(){var o,a;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(o=i.driver.session({database:i.config.database,defaultAccessMode:n===y.WRITE?neo4j.session.WRITE:neo4j.session.READ}),e.p=1,n!==y.WRITE){e.n=3;break}return e.n=2,o.writeTransaction(function(){var e=f(l().m(function e(n){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.run(t,r);case 1:return e.a(2,e.v)}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:a=e.v,e.n=5;break;case 3:return e.n=4,o.readTransaction(function(){var e=f(l().m(function e(n){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.run(t,r);case 1:return e.a(2,e.v)}},e)}));return function(t){return e.apply(this,arguments)}}());case 4:a=e.v;case 5:return e.a(2,a);case 6:return e.p=6,e.n=7,o.close().catch(function(e){});case 7:return e.f(6);case 8:return e.a(2)}},e,null,[[1,,6,8]])}))))}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"read",value:(s=f(l().m(function e(t){var r,n=arguments;return l().w(function(e){for(;;)if(0===e.n)return r=n.length>1&&void 0!==n[1]?n[1]:{},e.a(2,this.executeQuery(t,r,y.READ))},e,this)})),function(e){return s.apply(this,arguments)})},{key:"write",value:(o=f(l().m(function e(t){var r,n=arguments;return l().w(function(e){for(;;)if(0===e.n)return r=n.length>1&&void 0!==n[1]?n[1]:{},e.a(2,this.executeQuery(t,r,y.WRITE))},e,this)})),function(e){return o.apply(this,arguments)})},{key:"initialize",value:(i=f(l().m(function e(){var t,r,n,i=this;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!this.driver){e.n=1;break}return e.n=1,this.cleanup();case 1:return t=this.config.uri.startsWith("neo4j+s://")||this.config.uri.includes("?trust=")||this.config.uri.includes("&trust="),r=a({},this.poolConfig),t&&(delete r.encrypted,delete r.trust,delete r.trustStrategy),this.driver=neo4j.driver(this.config.uri,neo4j.auth.basic(this.config.username,this.config.password),r),e.n=2,this.driver.verifyConnectivity();case 2:return this.isInitialized=!0,utils.debugLog("Neo4j connection initialized successfully"),this.healthCheckInterval=setInterval(function(){i.checkConnections().catch(function(e){})},3e5),e.a(2,this.driver);case 3:throw e.p=3,n=e.v,this.isInitialized=!1,utils.debugLog("Connection initialization error:",n),n;case 4:return e.a(2)}},e,this,[[0,3]])})),function(){return i.apply(this,arguments)})},{key:"cleanup",value:(n=f(l().m(function e(){return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.healthCheckInterval&&(clearInterval(this.healthCheckInterval),this.healthCheckInterval=null),!this.driver){e.n=5;break}return e.p=1,e.n=2,this.driver.close();case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:this.driver=null;case 5:this.isInitialized=!1,this.connectionRetryCount=0;case 6:return e.a(2)}},e,this,[[1,3]])})),function(){return n.apply(this,arguments)})}],t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,i,o,s,u,d,p}();function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}window.Neo4jConnectionManager=g,window.NEO4J_SESSION_MODES=y;var w={toNeo4jDateTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return{year:{low:e.getFullYear(),high:0},month:{low:e.getMonth()+1,high:0},day:{low:e.getDate(),high:0},hour:{low:e.getHours(),high:0},minute:{low:e.getMinutes(),high:0},second:{low:e.getSeconds(),high:0},nanosecond:{low:0,high:0},timeZoneOffsetSeconds:{low:0,high:0}}},fromNeo4jDateTime:function(e){if(!e)return null;if("string"==typeof e)return new Date(e);if(e instanceof Date)return e;try{var t;if(void 0!==(null===(t=e.year)||void 0===t?void 0:t.low)){var r,n,i,o,a="".concat(e.year.low,"-").concat(String(e.month.low).padStart(2,"0"),"-").concat(String(e.day.low).padStart(2,"0"),"T").concat(String((null===(r=e.hour)||void 0===r?void 0:r.low)||0).padStart(2,"0"),":").concat(String((null===(n=e.minute)||void 0===n?void 0:n.low)||0).padStart(2,"0"),":").concat(String((null===(i=e.second)||void 0===i?void 0:i.low)||0).padStart(2,"0"),".").concat(String((null===(o=e.nanosecond)||void 0===o?void 0:o.low)||0).padStart(3,"0"),"Z");return new Date(a)}return new Date(e)}catch(e){return null}},isNeo4jDateTime:function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return!1}if(!e||"object"!==v(e))return!1;return!!["year","month","day","hour","minute","second","nanosecond","timeZoneOffsetSeconds"].every(function(t){return e.hasOwnProperty(t)})&&Object.entries(e).every(function(e){var t=m(e,2),r=(t[0],t[1]);return r&&"object"===v(r)&&"low"in r&&"high"in r&&"number"==typeof r.low&&"number"==typeof r.high})},now:function(){return this.toNeo4jDateTime(new Date)}};function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){I(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function I(e,t,r){return(t=C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return x(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,s=0,c=e,f.n=r,a}};function h(r,n){for(s=r,c=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],h=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(s=0,f.v=n,f.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,c=p;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?c:r.call(n,f))!==a)break}catch(t){o=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(x(t={},n,function(){return this}),t),d=l.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,x(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,x(d,"constructor",l),x(l,"constructor",c),c.displayName="GeneratorFunction",x(l,i,"GeneratorFunction"),x(d),x(d,i,"Generator"),x(d,n,function(){return this}),x(d,"toString",function(){return"[object Generator]"}),(O=function(){return{w:o,m:f}})()}function x(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}x=function(e,t,r,n){function o(t,r){x(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},x(e,t,r,n)}function R(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function k(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){R(o,n,i,a,s,"next",e)}function s(e){R(o,n,i,a,s,"throw",e)}a(void 0)})}}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function C(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}function L(e,t,r){return t=z(t),function(e,t){if(t&&("object"==_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P()?Reflect.construct(t,r||[],z(e).constructor):t.apply(e,r))}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(P=function(){return!!e})()}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}window.Neo4jDate=w;var D="READ",M="WRITE",B=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=L(this,t,[e])).config=e,r.connectionManager=new g(e),r.session=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(t,e),r=t,n=[{key:"initialize",value:(h=k(O().m(function e(){return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.connectionManager.initialize();case 1:return e.a(2)}},e,this)})),function(){return h.apply(this,arguments)})},{key:"close",value:(f=k(O().m(function e(){return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.connectionManager.cleanup();case 1:return e.a(2)}},e,this)})),function(){return f.apply(this,arguments)})},{key:"startTransaction",value:(d=k(O().m(function e(){var t,r=arguments;return O().w(function(e){for(;;)if(0===e.n)return t=r.length>0&&void 0!==r[0]?r[0]:"WRITE",e.a(2,this.connectionManager.driver.session({defaultAccessMode:t}))},e,this)})),function(){return d.apply(this,arguments)})},{key:"endTransaction",value:(u=k(O().m(function e(){var t,r=arguments;return O().w(function(e){for(;;)switch(e.n){case 0:null!=(t=r.length>0&&void 0!==r[0]?r[0]:null)&&t.close();case 1:return e.a(2)}},e)})),function(){return u.apply(this,arguments)})},{key:"executeInTransaction",value:(l=k(O().m(function e(t,r){return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.executeWrite(function(){var e=k(O().m(function e(t){return O().w(function(e){for(;;)if(0===e.n)return e.a(2,r(t))},e)}));return function(t){return e.apply(this,arguments)}}());case 1:return e.a(2,e.v)}},e)})),function(e,t){return l.apply(this,arguments)})},{key:"executeNeo4jQuery",value:(c=k(O().m(function e(t){var r,n,i,o=arguments;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]?o[2]:D,null!=this.connectionManager){e.n=1;break}throw new Error("Neo4J connection manager has not been initialised.");case 1:return e.p=1,e.n=2,this.connectionManager.executeQuery(t,r,n);case 2:return i=e.v,e.a(2,i.records);case 3:throw e.p=3,e.v;case 4:return e.a(2)}},e,this,[[1,3]])})),function(e){return c.apply(this,arguments)})},{key:"executeRead",value:(s=k(O().m(function e(t,r){var n,i,o,a,s=arguments;return O().w(function(e){for(;;)switch(e.n){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4&&void 0!==s[4]?s[4]:0,a=s.length>5&&void 0!==s[5]?s[5]:0,e.n=1,this.executeInternal(t,A(A({},r),{},{skip:o,limit:a}),n,i,D);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"executeWrite",value:(a=k(O().m(function e(t,r){var n,i=arguments;return O().w(function(e){for(;;)switch(e.n){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:null,e.n=1,this.executeInternal(t,r,n,!0,M);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"executeInternal",value:(o=k(O().m(function e(t,r,n,i,o){var a,s;return O().w(function(e){for(;;)switch(e.n){case 0:if(null==n){e.n=2;break}return e.n=1,n.run(t,r);case 1:a=e.v,e.n=4;break;case 2:return e.n=3,this.executeNeo4jQuery(t,r,o);case 3:a=e.v;case 4:if(s=this.normaliseData(a),!i){e.n=6;break}if(!Array.isArray(s)){e.n=5;break}if(!(s.length>0)){e.n=5;break}return e.a(2,s[0]);case 5:return e.a(2,s);case 6:if(!Array.isArray(s)){e.n=7;break}return e.a(2,s);case 7:if(null==s){e.n=8;break}return e.a(2,[s]);case 8:return e.a(2,[]);case 9:return e.a(2)}},e,this)})),function(e,t,r,n,i){return o.apply(this,arguments)})},{key:"normaliseData",value:function(e){var t=this;return e.records?0===e.records.length?null:1===e.records.length?this.normaliseRecord(e.records[0]):e.records.map(function(e){return t.normaliseRecord(e)}):0===e.length?null:1===e.length?this.normaliseNodeset(e[0]):e.map(function(e){return t.normaliseNodeset(e)})}},{key:"normaliseRecord",value:function(e){var t,r={};for(t=0;t<e.keys.length;t++){var n=e.keys[t],i=e._fields[t],o=n.lastIndexOf("."),a=-1===o?n:n.substring(o+1);"object"===_(i)&&this.isDate(i)?r[a]=w.fromNeo4jDateTime(i):"object"===_(i)&&null!=i.toNumber?r[a]=i.toNumber():r[a]=i}return r}},{key:"normaliseNodeset",value:function(e){var t,r={};for(t=0;t<e.length;t++){var n=e.keys[t],i=n.lastIndexOf("."),o=-1===i?n:n.substring(i+1);if(null!=e._fields[t])if(e._fields[t].properties)r[o]=this.normaliseNode(e._fields[t]);else{var a=e._fields[t];"object"===_(a)&&this.isDate(a)?r[o]=w.fromNeo4jDateTime(a):"object"===_(a)?null!=a.toNumber?r[o]=a.toNumber():r[o]=this.normaliseObject(a):r[o]=a}else r[o]=null}return r}},{key:"normaliseNode",value:function(e){for(var t={},r=0,n=Object.entries(e.properties);r<n.length;r++){var i=E(n[r],2),o=i[0],a=i[1];"object"===_(a)&&this.isDate(a)?t[o]=w.fromNeo4jDateTime(a):"object"===_(a)?null!=a.toNumber?t[o]=a.toNumber():t[o]=this.normaliseObject(a):t[o]=a}return t}},{key:"normaliseObject",value:function(e){var t,r=this;if(Array.isArray(e))t=[],e.forEach(function(e){return t.push(r.normaliseObject(e))});else if(this.isPrimitive(e))t=e;else{t={};for(var n=0,i=Object.entries(e);n<i.length;n++){var o=E(i[n],2),a=o[0],s=o[1];null!=s&&"object"===_(s)?this.isDate(s)?t[a]=w.fromNeo4jDateTime(s):t[a]=this.normaliseObject(s):t[a]=s}}return t}},{key:"isDate",value:function(e){if(e&&e.__isInteger__)return!1;var t=new Date(e);return!isNaN(t.getTime())}},{key:"isPrimitive",value:function(e){return e!==Object(e)}}],n&&N(r.prototype,n),i&&N(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,o,a,s,c,l,u,d,f,h}(n.M)},3920:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.PROPERTY]=this}canBeUsedFor(e){return e instanceof i.Property}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.PROPERTY,1]):n.concat([this.ioc.stringSerializer.serialize("",!1),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null)]);const r=[];return t&&r.push(n.from([this.ioc.DataType.PROPERTY,0])),r.push(this.ioc.stringSerializer.serialize(e.key,!1)),r.push(this.ioc.anySerializer.serialize(e.value)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.PROPERTY)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u;try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{key}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.anySerializer.deserialize(o)),r+=l}catch(e){throw e.message="{value}: "+e.message,e}o=o.slice(l);try{({len:u}=this.ioc.unspecifiedNullSerializer.deserialize(o)),r+=u}catch(e){throw e.message="{parent}: "+e.message,e}o=o.slice(u);return{v:new i.Property(a,c),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},3933:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.P]=this}canBeUsedFor(e){return e instanceof i.P}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.P,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}const r=[];let i;return t&&r.push(n.from([this.ioc.DataType.P,0])),r.push(this.ioc.stringSerializer.serialize(e.operator,!1)),i=void 0===e.other||null===e.other?Array.isArray(e.value)?e.value:[e.value]:[e.value,e.other],r.push(this.ioc.listSerializer.serialize(i,!1)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.P)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u;try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{name}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.listSerializer.deserialize(o,!1)),r+=l}catch(e){throw e.message="{values}: "+e.message,e}if(o=o.slice(l),c.length<1)return{v:new i.P(""),len:r};const d=i.P[a];return u="function"==typeof d?d(...c):new i.P(a,...c),{v:u,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},4074:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(228),o=r(9198),a=r(1104),{DeferredPromise:s}=a,c=r(9449),{graphBinaryReader:l,graphBinaryWriter:u}=r(1421),d=r(74),f=r(7286),h=204,p=206,y=407,g="application/vnd.gremlin-v2.0+json",m="application/vnd.graphbinary-v1.0",b="[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}";e.exports=class extends i{constructor(e,t){super(),this.url=e,this.options=t=t||{},this.mimeType=t.mimeType||"application/vnd.gremlin-v3.0+json",this._responseHandlers={},this._reader=t.reader||this.#e(this.mimeType),this._writer=t.writer||this.#t(this.mimeType),this._openPromise=null,this._openCallback=null,this._closePromise=null,this._closeCallback=null,this._header=String.fromCharCode(this.mimeType.length)+this.mimeType,this._header_buf=n.from(this._header),this.isOpen=!1,this.traversalSource=t.traversalSource||"g",this._authenticator=t.authenticator,this._enableUserAgentOnConnect=!1!==t.enableUserAgentOnConnect,this._enableCompression=this.options.enableCompression||!1}async open(){if(this.isOpen)return;if(this._openPromise)return this._openPromise;this._openPromise=s(),this.emit("log","ws open");let e=this.options.headers;if(this._enableUserAgentOnConnect){e||(e=[]);void 0!==await a.getUserAgent()&&(e[a.getUserAgentHeader()]=await a.getUserAgent())}const t=new Set(["headers","ca","cert","pfx","rejectUnauthorized","agent","perMessageDeflate"]),n=!Object.entries(this.options).some(([e,r])=>t.has(e)&&![null,void 0].includes(r))&&globalThis.WebSocket,i=n||(await r.e(591).then(r.t.bind(r,1591,23))).default;return this._ws=new i(this.url,n?void 0:{headers:e,ca:this.options.ca,cert:this.options.cert,pfx:this.options.pfx,rejectUnauthorized:this.options.rejectUnauthorized,agent:this.options.agent,perMessageDeflate:this._enableCompression}),"binaryType"in this._ws&&(this._ws.binaryType="arraybuffer"),this._ws.addEventListener("open",this.#r),this._ws.addEventListener("error",this.#n),this._ws.on("unexpected-response",this.#i),this._ws.addEventListener("message",this.#o),this._ws.addEventListener("close",this.#a),await this._openPromise}submit(e,t,r,i){const o=(i||a.getUuid()).toLowerCase();if(!o.match(b))throw new Error('Provided requestId "'+o+'" is not a valid UUID.');return this.open().then(()=>new Promise((i,s)=>{"authentication"!==t&&(this._responseHandlers[o]={callback:(e,t)=>e?s(e):i(t),result:null});const c={requestId:o,op:t||"bytecode",processor:e||"eval"===t?e:"traversal",args:r||{}},l=this._writer.writeRequest(c),u=a.toArrayBuffer(n.concat([this._header_buf,l]));this._ws.send(u)}))}stream(e,t,r,i){const s=(i||a.getUuid()).toLowerCase();if(!s.match(b))throw new Error('Provided requestId "'+s+'" is not a valid UUID.');const c=new o.Readable({objectMode:!0,read(){}});return this._responseHandlers[s]={callback:e=>e?c.destroy(e):c.push(null),result:c},this.open().then(()=>{const i={requestId:s,op:t||"bytecode",processor:e||"eval"===t?e:"traversal",args:r||{}},o=this._writer.writeRequest(i),c=a.toArrayBuffer(n.concat([this._header_buf,o]));this._ws.send(c)}).catch(e=>c.destroy(e)),c}#e(e){return e===m?l:e===g?new c.GraphSON2Reader:new c.GraphSONReader}#t(e){return e===m?u:e===g?new c.GraphSON2Writer:new c.GraphSONWriter}#r=()=>{this._openPromise.resolve(),this.isOpen=!0};#i=async(e,t)=>{const r=await new Promise((e,r)=>{const i=[];t.on("data",e=>{i.push(e instanceof n?e:n.from(e))}),t.on("end",()=>{e(i.length?n.concat(i):null)}),t.on("error",r)}),i=`Unexpected server response code ${t.statusCode}`,o=r?`${i} with body:\n${r.toString()}`:i,a=new Error(o);this.#n({error:a,message:o,type:"unexpected-response",target:this._ws})};#n=({error:e})=>{this._openPromise.reject(e),this.emit("log",`ws error ${e}`),this.#s(e),this.emit("socketError",e)};#a=({code:e,message:t})=>{this.emit("log",`ws close code=${e} message=${t}`),this.#s(),this._closeCallback&&this._closeCallback(),this.emit("close",e,t)};#o=({data:e})=>{const t=e instanceof ArrayBuffer?n.from(e):e,r=this._reader.readResponse(t);if(null===r.requestId||void 0===r.requestId)return void Object.keys(this._responseHandlers).forEach(e=>{const t=this._responseHandlers[e];return this.#c(e),void 0!==r.status&&r.status.message?t.callback(new f(`Server error (no request information): ${r.status.message} (${r.status.code})`,r.status)):t.callback(new f(`Server error (no request information): ${JSON.stringify(r)}`,r.status))});r.requestId=r.requestId.toLowerCase();const i=this._responseHandlers[r.requestId];if(!i)return;if(r.status.code===y&&this._authenticator)return void this._authenticator.evaluateChallenge(r.result.data).then(e=>this.submit(void 0,"authentication",e,r.requestId)).catch(i.callback);if(r.status.code>=400)return this.#c(r.requestId),i.callback(new f(`Server error: ${r.status.message} (${r.status.code})`,r.status));const s=i.result instanceof o.Readable;switch(r.status.code){case h:return this.#c(r.requestId),s?(i.result.push(new d(a.emptyArray,r.status.attributes)),i.callback(null)):i.callback(null,new d(a.emptyArray,r.status.attributes));case p:if(s){i.result.push(new d(r.result.data,r.status.attributes));break}i.result=i.result||[],i.result.push.apply(i.result,r.result.data);break;default:return s?(i.result.push(new d(r.result.data,r.status.attributes)),i.callback(null)):(i.result?i.result.push.apply(i.result,r.result.data):i.result=r.result.data,this.#c(r.requestId),i.callback(null,new d(i.result,r.status.attributes)))}};#s(e){Object.keys(this._responseHandlers).forEach(t=>{const r=this._responseHandlers[t];if(r.result instanceof o.Readable)r.callback(null);else{const t=e||new Error("Connection has been closed.");r.callback(t)}}),this._ws.removeEventListener("open",this.#r),this._ws.removeEventListener("error",this.#n),this._ws.off("unexpected-response",this.#i),this._ws.removeEventListener("message",this.#o),this._ws.removeEventListener("close",this.#a),this._openPromise=null,this._closePromise=null,this.isOpen=!1}#c(e){delete this._responseHandlers[e]}close(){return!1===this.isOpen?Promise.resolve():(this._closePromise||(this._closePromise=new Promise(e=>{this._closeCallback=e,this._ws.close()})),this._closePromise)}}},4134:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},4147:(e,t,r)=>{"use strict";const{SymbolDispose:n}=r(4134),{AbortError:i,codes:o}=r(6371),{isNodeStream:a,isWebStream:s,kControllerErrorFunction:c}=r(6115),l=r(6238),{ERR_INVALID_ARG_TYPE:u}=o;let d;e.exports.addAbortSignal=function(t,r){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new u(t,"AbortSignal",e)})(t,"signal"),!a(r)&&!s(r))throw new u("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const o=a(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[c](new i(void 0,{cause:e.reason}))};if(e.aborted)o();else{d=d||r(7760).addAbortListener;const i=d(e,o);l(t,i[n])}return t}},4194:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.UUID]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.UUID,1]):n.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);const r=String(e).replace(/^urn:uuid:/,"").replace(/[{}-]/g,""),i=[];t&&i.push(n.from([this.ioc.DataType.UUID,0]));const o=n.alloc(16,0);for(let e=0;e<16&&2*e<r.length;e++)o[e]=parseInt(r.slice(2*e,2*e+2),16);return i.push(o),n.concat(i)}deserialize(e,t=!0,r=!1){let i=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(i++,e!==this.ioc.DataType.UUID)throw new Error("unexpected {type_code}");o=o.slice(1)}if(t||r){if(o.length<1)throw new Error("{value_flag} is missing");const e=o.readUInt8();if(i++,1===e)return{v:null,len:i};if(0!==e)throw new Error("unexpected {value_flag}");o=o.slice(1)}if(o.length<16)throw new Error("unexpected {value} length");i+=16;return{v:o.slice(0,4).toString("hex")+"-"+o.slice(4,6).toString("hex")+"-"+o.slice(6,8).toString("hex")+"-"+o.slice(8,10).toString("hex")+"-"+o.slice(10,16).toString("hex"),len:i}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},4253:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.TRAVERSER]=this}canBeUsedFor(e){return e instanceof i.Traverser}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.TRAVERSER,1]);const e=[0,0,0,0,0,0,0,1],r=[254,1];return n.from([...e,...r])}const r=[];return t&&r.push(n.from([this.ioc.DataType.TRAVERSER,0])),r.push(this.ioc.longSerializer.serialize(e.bulk,!1)),r.push(this.ioc.anySerializer.serialize(e.object)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.TRAVERSER)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l;try{({v:a,len:s}=this.ioc.longSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{bulk}: "+e.message,e}if(a<0)throw new Error("{bulk} is less than zero");o=o.slice(s);try{({v:c,len:l}=this.ioc.anySerializer.deserialize(o)),r+=l}catch(e){throw e.message="{value}: "+e.message,e}o=o.slice(l);return{v:new i.Traverser(c,a),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},4259:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(4134),{EventEmitter:o}=r(7007);function a(e){o.call(this,e)}function s(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(a.prototype,o.prototype),i(a,o),a.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",c),r.on("close",l));let a=!1;function c(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){d(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function d(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",c),r.removeListener("close",l),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return s(r,"error",u),s(e,"error",u),r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e},e.exports={Stream:a,prependListener:s}},4687:e=>{"use strict";e.exports=class{constructor(e){this.ioc=e}canBeUsedFor(e){return!(!Number.isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY)||("number"==typeof e||"bigint"==typeof e)}serialize(e,t=!0){return"number"==typeof e?Number.isNaN(e)||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY||!Number.isInteger(e)?this.ioc.doubleSerializer.serialize(e,t):e>=-2147483648&&e<=2147483647?this.ioc.intSerializer.serialize(e,t):this.ioc.longSerializer.serialize(e,t):"bigint"==typeof e?this.ioc.bigIntegerSerializer.serialize(e,t):void 0}}},4808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},4948:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(9025)),i=o(r(2311));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v3",48,i.default);t.default=a},4957:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BIGINTEGER]=this}canBeUsedFor(e){return"bigint"==typeof e}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BIGINTEGER,1]):n.from([0,0,0,1,0]);const r=[];let i;if(t&&r.push(n.from([this.ioc.DataType.BIGINTEGER,0])),e>=0){let t=e.toString(16);t.length%2!=0&&(t="0"+t),Number.parseInt(t[0],16)>7&&(t="00"+t),i=n.from(t,"hex")}else{let t=(-e).toString(16);const r=(t.length+t.length%2)/2;let o=BigInt(r)*BigInt(8);e<-(BigInt(2)**(o-BigInt(1)))&&(o+=BigInt(8));t=(BigInt(2)**o+e).toString(16),t.length%2!=0&&(t="0"+t),i=n.from(t,"hex")}return r.push(this.ioc.intSerializer.serialize(i.length,!1)),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BIGINTEGER)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<1)throw new Error(`{length}=${o} is less than one`);i=i.slice(a),r+=o,i=i.slice(0,o);let s=BigInt(`0x${i.toString("hex")}`);return!(128&~i[0])&&(s=BigInt.asIntN(8*o,s)),{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},5073:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(6140)),i=a(r(2858)),o=r(9910);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,o.unsafeStringify)(a)};t.default=s},5094:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.PATH]=this}canBeUsedFor(e){return e instanceof i.Path}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.PATH,1]):n.concat([this.ioc.listSerializer.serialize([]),this.ioc.listSerializer.serialize([])]);const r=[];return t&&r.push(n.from([this.ioc.DataType.PATH,0])),r.push(this.ioc.listSerializer.serialize(e.labels)),r.push(this.ioc.listSerializer.serialize(e.objects)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.PATH)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l;try{({v:a,len:s}=this.ioc.listSerializer.deserialize(o)),r+=s}catch(e){throw e.message="{labels}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.listSerializer.deserialize(o)),r+=l}catch(e){throw e.message="{objects}: "+e.message,e}o=o.slice(l);return{v:new i.Path(a,c),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},5118:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n(){var e,t,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function s(r,n,o,a){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return i(u,"_invoke",function(r,n,i){var o,a,s,l=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,a=0,s=e,f.n=r,c}};function h(r,n){for(a=r,s=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],h=f.p,p=o[2];r>3?(i=p===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(a=0,f.v=n,f.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,a=0))}if(i||r>1)return c;throw d=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),a=u,s=p;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(f.n=-1),h(a,s)):f.n=s:f.v=s);try{if(l=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=f.n<0)?s:r.call(n,f))!==c)break}catch(t){o=e,a=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,o,a),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][o]?t(t([][o]())):(i(t={},o,function(){return this}),t),h=d.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,a,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=d,i(h,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(h),i(h,a,"Generator"),i(h,o,function(){return this}),i(h,"toString",function(){return"[object Generator]"}),(n=function(){return{w:s,m:p}})()}function i(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,t,r,n){function a(t,r){i(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},i(e,t,r,n)}function o(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var c=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fallbackLocale="en-US",this.eventListeners=new Map,this.initialized=!1},r=[{key:"initializePluralRules",value:function(){var e=this;Object.keys(localeConfigs).forEach(function(t){try{e.pluralRules[t]=new Intl.PluralRules(t)}catch(r){e.pluralRules[t]=new Intl.PluralRules("en-US")}})}},{key:"interpolate",value:function(e,t){return e?t&&0!==Object.keys(t).length?e.replace(/\{(\w+)\}/g,function(e,r){return void 0!==t[r]?t[r]:e}):e:""}},{key:"getPlural",value:function(e,t){var r=this.getTranslation(e);if(!r)return e;if(!r.plural)return r.text||e;var n=this.pluralRules[this.currentLocale].select(t);return r.plural[n]||r.text}},{key:"initialize",value:function(e){if(!this.initialized){var t=e||this.fallbackLocale;this.setLocale(t),this.culturalConfig=new CulturalConfig(t),this.pluralRules={},this.initializePluralRules(),this.initialized=!0}}},{key:"setLocale",value:(s=n().m(function e(t){var r;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:if(localeConfigs[t]){e.n=1;break}return e.a(2,!1);case 1:if(e.p=1,this.currentLocale===t){e.n=3;break}if(null!=(r=localeConfigs[t])&&r.translations){e.n=2;break}throw new Error("Translations not found for locale: ".concat(t));case 2:this.currentLocale=t,this.culturalConfig=new CulturalConfig(t),document.documentElement.setAttribute("dir",this.culturalConfig.isRTL()?"rtl":"ltr"),document.documentElement.setAttribute("lang",t.split("-")[0]),this.emit("localeChanged",{locale:t,direction:this.culturalConfig.isRTL()?"rtl":"ltr",culturalPreferences:this.culturalConfig.getCulturalPreferences()});case 3:return e.a(2,!0);case 4:if(e.p=4,e.v,t===this.fallbackLocale){e.n=5;break}return e.a(2,this.setLocale(this.fallbackLocale));case 5:return e.a(2,!1)}},e,this,[[1,4]])}),c=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=s.apply(e,t);function a(e){o(i,r,n,a,c,"next",e)}function c(e){o(i,r,n,a,c,"throw",e)}a(void 0)})},function(e){return c.apply(this,arguments)})},{key:"getTranslation",value:function(e){if(!e)return null;var t=e.split("."),r="errors"===t[0];return this.findTranslation(t,r)}},{key:"findTranslation",value:function(e,t){return this.getTranslationFromLocale(this.currentLocale,e,t)||this.getTranslationFromLocale(this.fallbackLocale,e,t)}},{key:"getTranslationFromLocale",value:function(e,t,r){var n,i=localeConfigs[e],o=r?null==i?void 0:i.errors:null==i?void 0:i.translations;return r?null==o||null===(n=o[t[1]])||void 0===n?void 0:n[t[2]]:t.reduce(function(e,t){return null==e?void 0:e[t]},o)}},{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=this.getTranslation(e);if(!r)return e;var n=r.text;return"count"in t&&(n=this.getPlural(e,t.count)),this.interpolate(n,t)}catch(t){return e}}},{key:"translateError",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n="errors.".concat(e,".").concat(t),i=this.getTranslation(n);return i?{text:this.interpolate(i.text,r),severity:i.severity||"error"}:{text:"".concat(e,".").concat(t),severity:"error"}}catch(i){return{text:"".concat(e,".").concat(t),severity:"error"}}}},{key:"formatDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";return this.culturalConfig.formatDate(e,t)}},{key:"formatTime",value:function(e){return this.culturalConfig.formatDate(e,"time")}},{key:"formatRelativeTime",value:function(e){for(var r=new Intl.RelativeTimeFormat(this.currentLocale,{numeric:"auto"}),n=(new Date(e).getTime()-Date.now())/1e3,i=0,o=Object.entries({year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1});i<o.length;i++){var a=t(o[i],2),s=a[0],c=a[1];if(Math.abs(n)>=c||"second"===s){var l=Math.round(n/c);return r.format(l,s)}}}},{key:"formatNumber",value:function(e,t){return this.culturalConfig.formatNumber(e,t)}},{key:"formatCurrency",value:function(e,t){return this.culturalConfig.formatCurrency(e,t)}},{key:"on",value:function(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e).add(t)}},{key:"off",value:function(e,t){this.eventListeners.has(e)&&this.eventListeners.get(e).delete(t)}},{key:"emit",value:function(e,t){this.eventListeners.has(e)&&this.eventListeners.get(e).forEach(function(e){try{e(t)}catch(e){}})}}],i=[{key:"detectUserLocale",value:function(){var e=navigator.language;return localeConfigs[e]?e:"en-US"}}],r&&a(e.prototype,r),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,i,s,c}();window.i18n=new c},5127:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.serializers=[e.unspecifiedNullSerializer,e.numberSerializationStrategy,e.booleanSerializer,e.dateSerializer,e.bytecodeSerializer,e.pSerializer,e.traverserSerializer,e.enumSerializer,e.listSerializer,e.uuidSerializer,e.edgeSerializer,e.pathSerializer,e.propertySerializer,e.vertexSerializer,e.vertexPropertySerializer,e.stringSerializer,e.textPSerializer,e.traversalStrategySerializer,e.byteBufferSerializer,e.lambdaSerializer,e.mapSerializer]}getSerializerCanBeUsedFor(e){for(let t=0;t<this.serializers.length;t++)if(this.serializers[t].canBeUsedFor(e))return this.serializers[t];throw new Error(`No serializer found to support item where typeof(item)='${typeof e}' and String(item)='${String(e)}'.`)}serialize(e,t=!0){return this.getSerializerCanBeUsedFor(e).serialize(e,t)}deserialize(e){try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");const t=e.readUInt8(),r=this.ioc.serializers[t];if(!r)throw new Error("unknown {type_code}");return r.deserialize(e)}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,err:e})}}}},5283:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function n(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}var i=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"getError",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var n=i18n.translateError(e,t,r);return{message:n.text,severity:n.severity}}catch(r){return{message:localeConfigs["en-US"].translations.errors[e][t].text,severity:localeConfigs["en-US"].translations.errors[e][t].severity}}}}],(t=null)&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();e.exports&&(e.exports={ErrorHandler:i}),window.ErrorHandler=i},5291:(e,t,r)=>{"use strict";const{MathFloor:n,NumberIsInteger:i}=r(4134),{validateInteger:o}=r(277),{ERR_INVALID_ARG_VALUE:a}=r(6371).codes;let s=16384,c=16;function l(e){return e?c:s}e.exports={getHighWaterMark:function(e,t,r,o){const s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=s){if(!i(s)||s<0){throw new a(o?`options.${r}`:"options.highWaterMark",s)}return n(s)}return l(e.objectMode)},getDefaultHighWaterMark:l,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?c=t:s=t}}},5332:(e,t,r)=>{"use strict";const{Traversal:n,cardinality:i}=r(1545),{Transaction:o}=r(9899),a=r(5737),s=r(9032),{TraversalStrategies:c,VertexProgramStrategy:l,OptionsStrategy:u}=r(3335);class d{constructor(e,t,r,n,i){this.graph=e,this.traversalStrategies=t,this.bytecode=r||new s,this.graphTraversalSourceClass=n||d,this.graphTraversalClass=i||f;const o=t.strategies.find(e=>"js:RemoteStrategy"===e.fqcn);this.remoteConnection=void 0!==o?o.connection:void 0}withRemote(e){const t=new c(this.traversalStrategies);return t.addStrategy(new a.RemoteStrategy(e)),new this.graphTraversalSourceClass(this.graph,t,new s(this.bytecode),this.graphTraversalSourceClass,this.graphTraversalClass)}tx(){if(this.remoteConnection&&this.remoteConnection.isSessionBound)throw new Error("This TraversalSource is already bound to a transaction - child transactions are not supported");return new o(this)}withComputer(e,t,r,n,i,o,a){const s={};return void 0!==e&&(s.graphComputer=e),void 0!==t&&(s.workers=t),void 0!==r&&(s.result=r),void 0!==n&&(s.graphComputer=n),void 0!==i&&(s.vertices=i),void 0!==o&&(s.edges=o),void 0!==a&&(s.configuration=a),this.withStrategies(new l(s))}with_(e,t=void 0){const r=void 0===t||t;let n=this.bytecode.sourceInstructions.find(e=>"withStrategies"===e[0]&&e[1]instanceof u);return void 0===n?(n=new u({[e]:r}),this.withStrategies(n)):(n[1].configuration[e]=r,new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),this.bytecode,this.graphTraversalSourceClass,this.graphTraversalClass))}toString(){return"graphtraversalsource["+this.graph.toString()+"]"}withBulk(...e){const t=new s(this.bytecode).addSource("withBulk",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withPath(...e){const t=new s(this.bytecode).addSource("withPath",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withSack(...e){const t=new s(this.bytecode).addSource("withSack",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withSideEffect(...e){const t=new s(this.bytecode).addSource("withSideEffect",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withStrategies(...e){const t=new s(this.bytecode).addSource("withStrategies",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withoutStrategies(...e){const t=new s(this.bytecode).addSource("withoutStrategies",e);return new this.graphTraversalSourceClass(this.graph,new c(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}E(...e){const t=new s(this.bytecode).addStep("E",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}V(...e){const t=new s(this.bytecode).addStep("V",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}addE(...e){const t=new s(this.bytecode).addStep("addE",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}mergeE(...e){const t=new s(this.bytecode).addStep("mergeE",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}addV(...e){const t=new s(this.bytecode).addStep("addV",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}mergeV(...e){const t=new s(this.bytecode).addStep("mergeV",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}inject(...e){const t=new s(this.bytecode).addStep("inject",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}io(...e){const t=new s(this.bytecode).addStep("io",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}call(...e){const t=new s(this.bytecode).addStep("call",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}union(...e){const t=new s(this.bytecode).addStep("union",e);return new this.graphTraversalClass(this.graph,new c(this.traversalStrategies),t)}}class f extends n{constructor(e,t,r){super(e,t,r)}clone(){return new f(this.graph,this.traversalStrategies,this.getBytecode())}V(...e){return this.bytecode.addStep("V",e),this}E(...e){return this.bytecode.addStep("E",e),this}addE(...e){return this.bytecode.addStep("addE",e),this}addV(...e){return this.bytecode.addStep("addV",e),this}aggregate(...e){return this.bytecode.addStep("aggregate",e),this}all(...e){return this.bytecode.addStep("all",e),this}and(...e){return this.bytecode.addStep("and",e),this}any(...e){return this.bytecode.addStep("any",e),this}as(...e){return this.bytecode.addStep("as",e),this}asDate(...e){return this.bytecode.addStep("asDate",e),this}asString(...e){return this.bytecode.addStep("asString",e),this}barrier(...e){return this.bytecode.addStep("barrier",e),this}both(...e){return this.bytecode.addStep("both",e),this}bothE(...e){return this.bytecode.addStep("bothE",e),this}bothV(...e){return this.bytecode.addStep("bothV",e),this}branch(...e){return this.bytecode.addStep("branch",e),this}by(...e){return this.bytecode.addStep("by",e),this}call(...e){return this.bytecode.addStep("call",e),this}cap(...e){return this.bytecode.addStep("cap",e),this}choose(...e){return this.bytecode.addStep("choose",e),this}coalesce(...e){return this.bytecode.addStep("coalesce",e),this}coin(...e){return this.bytecode.addStep("coin",e),this}combine(...e){return this.bytecode.addStep("combine",e),this}concat(...e){return this.bytecode.addStep("concat",e),this}conjoin(...e){return this.bytecode.addStep("conjoin",e),this}connectedComponent(...e){return this.bytecode.addStep("connectedComponent",e),this}constant(...e){return this.bytecode.addStep("constant",e),this}count(...e){return this.bytecode.addStep("count",e),this}cyclicPath(...e){return this.bytecode.addStep("cyclicPath",e),this}dateAdd(...e){return this.bytecode.addStep("dateAdd",e),this}dateDiff(...e){return this.bytecode.addStep("dateDiff",e),this}dedup(...e){return this.bytecode.addStep("dedup",e),this}difference(...e){return this.bytecode.addStep("difference",e),this}disjunct(...e){return this.bytecode.addStep("disjunct",e),this}drop(...e){return this.bytecode.addStep("drop",e),this}element(...e){return this.bytecode.addStep("element",e),this}elementMap(...e){return this.bytecode.addStep("elementMap",e),this}emit(...e){return this.bytecode.addStep("emit",e),this}fail(...e){return this.bytecode.addStep("fail",e),this}filter(...e){return this.bytecode.addStep("filter",e),this}flatMap(...e){return this.bytecode.addStep("flatMap",e),this}fold(...e){return this.bytecode.addStep("fold",e),this}format(...e){return this.bytecode.addStep("format",e),this}from_(...e){return this.bytecode.addStep("from",e),this}group(...e){return this.bytecode.addStep("group",e),this}groupCount(...e){return this.bytecode.addStep("groupCount",e),this}has(...e){return this.bytecode.addStep("has",e),this}hasId(...e){return this.bytecode.addStep("hasId",e),this}hasKey(...e){return this.bytecode.addStep("hasKey",e),this}hasLabel(...e){return this.bytecode.addStep("hasLabel",e),this}hasNot(...e){return this.bytecode.addStep("hasNot",e),this}hasValue(...e){return this.bytecode.addStep("hasValue",e),this}id(...e){return this.bytecode.addStep("id",e),this}identity(...e){return this.bytecode.addStep("identity",e),this}in_(...e){return this.bytecode.addStep("in",e),this}inE(...e){return this.bytecode.addStep("inE",e),this}inV(...e){return this.bytecode.addStep("inV",e),this}index(...e){return this.bytecode.addStep("index",e),this}inject(...e){return this.bytecode.addStep("inject",e),this}intersect(...e){return this.bytecode.addStep("intersect",e),this}is(...e){return this.bytecode.addStep("is",e),this}key(...e){return this.bytecode.addStep("key",e),this}label(...e){return this.bytecode.addStep("label",e),this}length(...e){return this.bytecode.addStep("length",e),this}limit(...e){return this.bytecode.addStep("limit",e),this}local(...e){return this.bytecode.addStep("local",e),this}loops(...e){return this.bytecode.addStep("loops",e),this}lTrim(...e){return this.bytecode.addStep("lTrim",e),this}map(...e){return this.bytecode.addStep("map",e),this}match(...e){return this.bytecode.addStep("match",e),this}math(...e){return this.bytecode.addStep("math",e),this}max(...e){return this.bytecode.addStep("max",e),this}mean(...e){return this.bytecode.addStep("mean",e),this}merge(...e){return this.bytecode.addStep("merge",e),this}mergeE(...e){return this.bytecode.addStep("mergeE",e),this}mergeV(...e){return this.bytecode.addStep("mergeV",e),this}min(...e){return this.bytecode.addStep("min",e),this}none(...e){return this.bytecode.addStep("none",e),this}not(...e){return this.bytecode.addStep("not",e),this}option(...e){return this.bytecode.addStep("option",e),this}optional(...e){return this.bytecode.addStep("optional",e),this}or(...e){return this.bytecode.addStep("or",e),this}order(...e){return this.bytecode.addStep("order",e),this}otherV(...e){return this.bytecode.addStep("otherV",e),this}out(...e){return this.bytecode.addStep("out",e),this}outE(...e){return this.bytecode.addStep("outE",e),this}outV(...e){return this.bytecode.addStep("outV",e),this}pageRank(...e){return this.bytecode.addStep("pageRank",e),this}path(...e){return this.bytecode.addStep("path",e),this}peerPressure(...e){return this.bytecode.addStep("peerPressure",e),this}product(...e){return this.bytecode.addStep("product",e),this}profile(...e){return this.bytecode.addStep("profile",e),this}program(...e){return this.bytecode.addStep("program",e),this}project(...e){return this.bytecode.addStep("project",e),this}properties(...e){return this.bytecode.addStep("properties",e),this}property(...e){return this.bytecode.addStep("property",e),this}propertyMap(...e){return this.bytecode.addStep("propertyMap",e),this}range(...e){return this.bytecode.addStep("range",e),this}read(...e){return this.bytecode.addStep("read",e),this}repeat(...e){return this.bytecode.addStep("repeat",e),this}replace(...e){return this.bytecode.addStep("replace",e),this}reverse(...e){return this.bytecode.addStep("reverse",e),this}rTrim(...e){return this.bytecode.addStep("rTrim",e),this}sack(...e){return this.bytecode.addStep("sack",e),this}sample(...e){return this.bytecode.addStep("sample",e),this}select(...e){return this.bytecode.addStep("select",e),this}shortestPath(...e){return this.bytecode.addStep("shortestPath",e),this}sideEffect(...e){return this.bytecode.addStep("sideEffect",e),this}simplePath(...e){return this.bytecode.addStep("simplePath",e),this}skip(...e){return this.bytecode.addStep("skip",e),this}split(...e){return this.bytecode.addStep("split",e),this}store(...e){return this.bytecode.addStep("store",e),this}subgraph(...e){return this.bytecode.addStep("subgraph",e),this}substring(...e){return this.bytecode.addStep("substring",e),this}sum(...e){return this.bytecode.addStep("sum",e),this}tail(...e){return this.bytecode.addStep("tail",e),this}timeLimit(...e){return this.bytecode.addStep("timeLimit",e),this}times(...e){return this.bytecode.addStep("times",e),this}to(...e){return this.bytecode.addStep("to",e),this}toE(...e){return this.bytecode.addStep("toE",e),this}toLower(...e){return this.bytecode.addStep("toLower",e),this}toUpper(...e){return this.bytecode.addStep("toUpper",e),this}toV(...e){return this.bytecode.addStep("toV",e),this}tree(...e){return this.bytecode.addStep("tree",e),this}trim(...e){return this.bytecode.addStep("trim",e),this}unfold(...e){return this.bytecode.addStep("unfold",e),this}union(...e){return this.bytecode.addStep("union",e),this}until(...e){return this.bytecode.addStep("until",e),this}value(...e){return this.bytecode.addStep("value",e),this}valueMap(...e){return this.bytecode.addStep("valueMap",e),this}values(...e){return this.bytecode.addStep("values",e),this}where(...e){return this.bytecode.addStep("where",e),this}with_(...e){return this.bytecode.addStep("with",e),this}write(...e){return this.bytecode.addStep("write",e),this}}class h extends s{constructor(e,t){super(),this.addSource("CardinalityValueTraversal",[e,t])}static single(e){return new h(i.single,e)}static list(e){return new h(i.list,e)}static set(e){return new h(i.set,e)}}function p(e,t){const r=new f(null,null,new s);return r[e].apply(r,t)}const y={E:(...e)=>p("E",e),V:(...e)=>p("V",e),addE:(...e)=>p("addE",e),addV:(...e)=>p("addV",e),aggregate:(...e)=>p("aggregate",e),all:(...e)=>p("all",e),and:(...e)=>p("and",e),any:(...e)=>p("any",e),as:(...e)=>p("as",e),asDate:(...e)=>p("asDate",e),asString:(...e)=>p("asString",e),barrier:(...e)=>p("barrier",e),both:(...e)=>p("both",e),bothE:(...e)=>p("bothE",e),bothV:(...e)=>p("bothV",e),branch:(...e)=>p("branch",e),call:(...e)=>p("call",e),cap:(...e)=>p("cap",e),choose:(...e)=>p("choose",e),coalesce:(...e)=>p("coalesce",e),coin:(...e)=>p("coin",e),concat:(...e)=>p("concat",e),constant:(...e)=>p("constant",e),count:(...e)=>p("count",e),cyclicPath:(...e)=>p("cyclicPath",e),dateAdd:(...e)=>p("dateAdd",e),dateDiff:(...e)=>p("dateDiff",e),dedup:(...e)=>p("dedup",e),disjunct:(...e)=>p("disjunct",e),drop:(...e)=>p("drop",e),element:(...e)=>p("element",e),elementMap:(...e)=>p("elementMap",e),emit:(...e)=>p("emit",e),fail:(...e)=>p("fail",e),filter:(...e)=>p("filter",e),flatMap:(...e)=>p("flatMap",e),fold:(...e)=>p("fold",e),format:(...e)=>p("format",e),group:(...e)=>p("group",e),groupCount:(...e)=>p("groupCount",e),has:(...e)=>p("has",e),hasId:(...e)=>p("hasId",e),hasKey:(...e)=>p("hasKey",e),hasLabel:(...e)=>p("hasLabel",e),hasNot:(...e)=>p("hasNot",e),hasValue:(...e)=>p("hasValue",e),id:(...e)=>p("id",e),identity:(...e)=>p("identity",e),in_:(...e)=>p("in_",e),inE:(...e)=>p("inE",e),inV:(...e)=>p("inV",e),index:(...e)=>p("index",e),inject:(...e)=>p("inject",e),is:(...e)=>p("is",e),key:(...e)=>p("key",e),label:(...e)=>p("label",e),length:(...e)=>p("length",e),limit:(...e)=>p("limit",e),local:(...e)=>p("local",e),loops:(...e)=>p("loops",e),lTrim:(...e)=>p("lTrim",e),map:(...e)=>p("map",e),match:(...e)=>p("match",e),math:(...e)=>p("math",e),max:(...e)=>p("max",e),mean:(...e)=>p("mean",e),mergeE:(...e)=>p("mergeE",e),mergeV:(...e)=>p("mergeV",e),min:(...e)=>p("min",e),none:(...e)=>p("none",e),not:(...e)=>p("not",e),optional:(...e)=>p("optional",e),or:(...e)=>p("or",e),order:(...e)=>p("order",e),otherV:(...e)=>p("otherV",e),out:(...e)=>p("out",e),outE:(...e)=>p("outE",e),outV:(...e)=>p("outV",e),path:(...e)=>p("path",e),project:(...e)=>p("project",e),properties:(...e)=>p("properties",e),property:(...e)=>p("property",e),propertyMap:(...e)=>p("propertyMap",e),range:(...e)=>p("range",e),repeat:(...e)=>p("repeat",e),replace:(...e)=>p("replace",e),reverse:(...e)=>p("reverse",e),rTrim:(...e)=>p("rTrim",e),sack:(...e)=>p("sack",e),sample:(...e)=>p("sample",e),select:(...e)=>p("select",e),sideEffect:(...e)=>p("sideEffect",e),simplePath:(...e)=>p("simplePath",e),skip:(...e)=>p("skip",e),split:(...e)=>p("split",e),store:(...e)=>p("store",e),subgraph:(...e)=>p("subgraph",e),substring:(...e)=>p("substring",e),sum:(...e)=>p("sum",e),tail:(...e)=>p("tail",e),timeLimit:(...e)=>p("timeLimit",e),times:(...e)=>p("times",e),to:(...e)=>p("to",e),toE:(...e)=>p("toE",e),toLower:(...e)=>p("toLower",e),toUpper:(...e)=>p("toUpper",e),toV:(...e)=>p("toV",e),tree:(...e)=>p("tree",e),trim:(...e)=>p("trim",e),unfold:(...e)=>p("unfold",e),union:(...e)=>p("union",e),until:(...e)=>p("until",e),value:(...e)=>p("value",e),valueMap:(...e)=>p("valueMap",e),values:(...e)=>p("values",e),where:(...e)=>p("where",e)};e.exports={GraphTraversal:f,GraphTraversalSource:d,CardinalityValue:h,statics:y}},5506:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:a}=r(4134),{promisify:{custom:s}}=r(7760),{streamReturningOperators:c,promiseReturningOperators:l}=r(823),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=r(6371),d=r(7830),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:h}=r(5291),{pipeline:p}=r(7758),{destroyer:y}=r(5896),g=r(6238),m=r(3095),b=r(6115),v=e.exports=r(4259).Stream;v.isDestroyed=b.isDestroyed,v.isDisturbed=b.isDisturbed,v.isErrored=b.isErrored,v.isReadable=b.isReadable,v.isWritable=b.isWritable,v.Readable=r(7576);for(const E of o(c)){const S=c[E];function _(...e){if(new.target)throw u();return v.Readable.from(a(S,this,e))}i(_,"name",{__proto__:null,value:S.name}),i(_,"length",{__proto__:null,value:S.length}),i(v.Readable.prototype,E,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(const T of o(l)){const A=l[T];function I(...e){if(new.target)throw u();return a(A,this,e)}i(I,"name",{__proto__:null,value:A.name}),i(I,"length",{__proto__:null,value:A.length}),i(v.Readable.prototype,T,{__proto__:null,value:I,enumerable:!1,configurable:!0,writable:!0})}v.Writable=r(8584),v.Duplex=r(3370),v.Transform=r(7382),v.PassThrough=r(6524),v.pipeline=p;const{addAbortSignal:w}=r(4147);v.addAbortSignal=w,v.finished=g,v.destroy=y,v.compose=d,v.setDefaultHighWaterMark=f,v.getDefaultHighWaterMark=h,i(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>m}),i(p,s,{__proto__:null,enumerable:!0,get:()=>m.pipeline}),i(g,s,{__proto__:null,enumerable:!0,get:()=>m.finished}),v.Stream=v,v._isUint8Array=function(e){return e instanceof Uint8Array},v._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},5568:e=>{"use strict";const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},5606:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,u=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&f())}function f(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},5737:(e,t,r)=>{"use strict";const n=r(1545),i=r(3335).TraversalStrategy;class o extends n.Traversal{constructor(e,t){super(null,null,null),this.traversers=e,this.sideEffects=t}}e.exports={RemoteConnection:class{constructor(e,t={}){this.url=e,this.options=t}open(){throw new Error("open() must be implemented")}get isOpen(){throw new Error("isOpen() must be implemented")}get isSessionBound(){return!1}submit(e){throw new Error("submit() must be implemented")}createSession(){throw new Error("createSession() must be implemented")}commit(){throw new Error("commit() must be implemented")}rollback(){throw new Error("rollback() must be implemented")}close(){throw new Error("close() must be implemented")}},RemoteStrategy:class extends i{constructor(e){super("js:RemoteStrategy"),this.connection=e}apply(e){return e.traversers?Promise.resolve():this.connection.submit(e.getBytecode()).then(function(t){e.sideEffects=t.sideEffects,e.traversers=t.traversers})}},RemoteTraversal:o}},5765:(e,t,r)=>{"use strict";var n={name:"AI Assistant",number:"1.6",buildDate:(new Date).toISOString()};window.APP_VERSION=n;var i=r(1982);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var a=n&&n.prototype instanceof l?n:l,u=Object.create(a.prototype);return s(u,"_invoke",function(r,n,i){var o,a,s,l=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,a=0,s=e,f.n=r,c}};function h(r,n){for(a=r,s=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],h=f.p,p=o[2];r>3?(i=p===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(a=0,f.v=n,f.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,a=0))}if(i||r>1)return c;throw d=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),a=u,s=p;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(f.n=-1),h(a,s)):f.n=s:f.v=s);try{if(l=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=f.n<0)?s:r.call(n,f))!==c)break}catch(t){o=e,a=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(s(t={},n,function(){return this}),t),h=d.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=d,s(h,"constructor",d),s(d,"constructor",u),u.displayName="GeneratorFunction",s(d,i,"GeneratorFunction"),s(h),s(h,i,"Generator"),s(h,n,function(){return this}),s(h,"toString",function(){return"[object Generator]"}),(a=function(){return{w:o,m:p}})()}function s(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}s=function(e,t,r,n){function o(t,r){s(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},s(e,t,r,n)}function c(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)})}}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var p=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.client=null,this.isInitialized=!1,this.subscribedTopics=new Set,this.messageHandlers=new Map,this.defaultQoS=1,this.errorHandler=window.ChatErrorHandler||null,this.errorCodes=window.ChatErrorCodes||null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.healthCheckInterval=null},t=[{key:"handleError",value:function(e,t){var r;if(this.errorHandler){var n={initialization:this.errorCodes.MQTT_ERROR,connection:this.errorCodes.NETWORK_ERROR,subscription:this.errorCodes.MQTT_ERROR,publish:this.errorCodes.SEND_FAILED}[t]||this.errorCodes.UNEXPECTED_ERROR;(r=this.errorHandler).showError.apply(r,u(n))}}},{key:"initialize",value:function(){var e=l(a().m(function e(){var t,r;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,this.config.hostname&&this.config.port){e.n=1;break}throw new Error("Invalid MQTT configuration");case 1:if(!this.client){e.n=2;break}return e.n=2,this.cleanup(!1);case 2:return t="".concat(this.config.protocol).concat(this.config.hostname),this.client=mqtt.connect(t,{username:this.config.username,password:this.config.password,port:this.config.port,keepalive:60,connectTimeout:3e4,reconnectPeriod:1e3}),e.n=3,this.waitForConnection();case 3:return this.setupEventHandlers(),this.isInitialized=!0,this.reconnectAttempts=0,this.startHealthCheck(),e.a(2,!0);case 4:throw e.p=4,r=e.v,this.handleError(r,"initialization"),this.isInitialized=!1,r;case 5:return e.a(2)}},e,this,[[0,4]])}));return function(){return e.apply(this,arguments)}}()},{key:"startHealthCheck",value:function(){var e=this;this.healthCheckInterval&&clearInterval(this.healthCheckInterval),this.healthCheckInterval=setInterval(function(){e.checkConnection().catch(function(e){})},12e4)}},{key:"checkConnection",value:(p=l(a().m(function e(){var t;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.client&&this.client.connected){e.n=6;break}return utils.debugLog("MQTT connection lost - attempting to reconnect"),this.isInitialized=!1,e.p=1,e.n=2,this.initialize();case 2:if(!(this.subscribedTopics.size>0)){e.n=4;break}return t=Array.from(this.subscribedTopics),utils.debugLog("Resubscribing to ".concat(t.length," topics")),e.n=3,this.resubscribeToTopics(t);case 3:utils.debugLog("Successfully resubscribed to all topics"),"function"==typeof showMessage&&showMessage("Connection restored successfully","success",3e3);case 4:return e.a(2,!0);case 5:return e.p=5,e.v,e.a(2,!1);case 6:return utils.debugLog("MQTT connection health check passed"),e.a(2,!0);case 7:return e.a(2)}},e,this,[[1,5]])})),function(){return p.apply(this,arguments)})},{key:"resubscribeToTopics",value:(h=l(a().m(function e(t){var r,n=this;return a().w(function(e){for(;;)if(0===e.n)return r=t.map(function(e){return new Promise(function(t,r){n.client.subscribe(e,{qos:n.defaultQoS},function(n){n?r(n):t(e)})})}),e.a(2,Promise.all(r))},e)})),function(e){return h.apply(this,arguments)})},{key:"setupEventHandlers",value:function(){var e=this;this.client.on("message",function(t,r){(e.messageHandlers.get(t)||[]).forEach(function(n){try{n(t,r)}catch(t){e.handleError(t,"message_handling")}})}),this.client.on("error",function(t){e.handleError(t,"connection"),e.isInitialized=!1}),this.client.on("reconnect",function(){utils.debugLog("MQTT client reconnecting...")}),this.client.on("disconnect",function(){utils.debugLog("MQTT client disconnected"),e.isInitialized=!1,setTimeout(function(){return e.checkConnection()},5e3)}),this.client.on("offline",function(){utils.debugLog("MQTT client offline"),e.isInitialized=!1,setTimeout(function(){return e.checkConnection()},5e3)}),this.client.on("connect",function(){if(utils.debugLog("MQTT client connected successfully"),e.isInitialized=!0,e.reconnectAttempts=0,e.subscribedTopics.size>0){var t=Array.from(e.subscribedTopics);utils.debugLog("Resubscribing to ".concat(t.length," topics after connect")),e.resubscribeToTopics(t).catch(function(e){})}})}},{key:"waitForConnection",value:(d=l(a().m(function e(){var t=this;return a().w(function(e){for(;;)if(0===e.n)return e.a(2,new Promise(function(e,r){var n=setTimeout(function(){r(new Error("MQTT connection timeout"))},3e4);t.client.once("connect",function(){clearTimeout(n),e(!0)}),t.client.once("error",function(e){clearTimeout(n),r(e)})}))},e)})),function(){return d.apply(this,arguments)})},{key:"subscribe",value:(c=l(a().m(function e(t,r){var n,i,o,s,c,l,u,d=this,f=arguments;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=f.length>2&&void 0!==f[2]?f[2]:{qos:this.defaultQoS},i=f.length>3&&void 0!==f[3]?f[3]:0,o=3,e.p=1,this.isInitialized&&this.client&&this.client.connected){e.n=2;break}return utils.debugLog("MQTT not connected before subscribe, reconnecting..."),e.n=2,this.initialize();case 2:return s=Array.isArray(t)?t:[t],c=s.map(function(e){return new Promise(function(t,i){d.client.subscribe(e,n,function(n){if(n)d.handleError(n,"subscription"),i(n);else{if(d.subscribedTopics.add(e),r){var o=d.messageHandlers.get(e)||[];o.push(r),d.messageHandlers.set(e,o)}t(e)}})})}),e.n=3,Promise.all(c);case 3:return e.a(2,e.v);case 4:if(e.p=4,u=e.v,!(i<o)){e.n=6;break}return l=Math.min(100*Math.pow(2,i),2e3),utils.debugLog("MQTT subscribe failed, retrying in ".concat(l,"ms (attempt ").concat(i+1,"/").concat(o,")")),e.n=5,new Promise(function(e){return setTimeout(e,l)});case 5:return this.isInitialized=!1,e.a(2,this.subscribe(t,r,n,i+1));case 6:throw utils.debugLog("MQTT subscribe failed after ".concat(o," retries")),u;case 7:return e.a(2)}},e,this,[[1,4]])})),function(e,t){return c.apply(this,arguments)})},{key:"unsubscribe",value:(s=l(a().m(function e(t){var r,n,i,o,s,c,l=this,u=arguments;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:0,n=3,this.client&&t&&(!Array.isArray(t)||0!==t.length)){e.n=1;break}return e.a(2,[]);case 1:if(e.p=1,this.isInitialized&&this.client.connected){e.n=2;break}return utils.debugLog("MQTT not connected before unsubscribe, reconnecting..."),e.n=2,this.initialize();case 2:return i=Array.isArray(t)?t:[t],o=i.map(function(e){return new Promise(function(t,r){l.client.unsubscribe(e,function(n){n?(l.handleError(n,"subscription"),r(n)):(l.subscribedTopics.delete(e),l.messageHandlers.delete(e),t(e))})})}),e.n=3,Promise.all(o);case 3:return e.a(2,e.v);case 4:if(e.p=4,c=e.v,!(r<n)){e.n=6;break}return s=Math.min(100*Math.pow(2,r),2e3),utils.debugLog("MQTT unsubscribe failed, retrying in ".concat(s,"ms (attempt ").concat(r+1,"/").concat(n,")")),e.n=5,new Promise(function(e){return setTimeout(e,s)});case 5:return this.isInitialized=!1,e.a(2,this.unsubscribe(t,r+1));case 6:throw utils.debugLog("MQTT unsubscribe failed after ".concat(n," retries")),c;case 7:return e.a(2)}},e,this,[[1,4]])})),function(e){return s.apply(this,arguments)})},{key:"publish",value:(o=l(a().m(function e(t,r){var n,i,o,s,c,l,u=this,d=arguments;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=d.length>2&&void 0!==d[2]?d[2]:{qos:this.defaultQoS},i=d.length>3&&void 0!==d[3]?d[3]:0,o=3,e.p=1,this.isInitialized&&this.client&&this.client.connected){e.n=2;break}return utils.debugLog("MQTT not connected before publish, reconnecting..."),e.n=2,this.initialize();case 2:return s="string"==typeof r?r:JSON.stringify(r),e.n=3,new Promise(function(e,r){u.client.publish(t,s,n,function(t){t?(u.handleError(t,"publish"),r(t)):e()})});case 3:return e.a(2,e.v);case 4:if(e.p=4,l=e.v,!(i<o)){e.n=6;break}return c=Math.min(100*Math.pow(2,i),2e3),utils.debugLog("MQTT publish failed, retrying in ".concat(c,"ms (attempt ").concat(i+1,"/").concat(o,")")),e.n=5,new Promise(function(e){return setTimeout(e,c)});case 5:return this.isInitialized=!1,e.a(2,this.publish(t,r,n,i+1));case 6:throw utils.debugLog("MQTT publish failed after ".concat(o," retries")),l;case 7:return e.a(2)}},e,this,[[1,4]])})),function(e,t){return o.apply(this,arguments)})},{key:"verifyConnection",value:(i=l(a().m(function e(t){var r,n,i,o,s,c=this,l=arguments;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:1e4,n="ping",e.p=1,this.isInitialized&&this.client.connected){e.n=2;break}return e.n=2,this.initialize();case 2:return e.n=3,this.subscribe(t);case 3:return i=new Promise(function(e,r){c.messageHandlers.set(t,[function(r,i){r===t&&i.toString()===n&&e(!0)}])}),o=new Promise(function(e,t){setTimeout(function(){return t(new Error("Verification timeout"))},r)}),e.n=4,this.publish(t,n);case 4:return e.n=5,Promise.race([i,o]);case 5:return e.n=6,this.unsubscribe(t);case 6:return e.a(2,!0);case 7:return e.p=7,s=e.v,this.handleError(s,"connection"),e.a(2,!1)}},e,this,[[1,7]])})),function(e){return i.apply(this,arguments)})},{key:"cleanup",value:(n=l(a().m(function e(){var t,r,n=arguments;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=!(n.length>0&&void 0!==n[0])||n[0],this.client){e.n=1;break}return e.a(2);case 1:if(e.p=1,this.healthCheckInterval&&(clearInterval(this.healthCheckInterval),this.healthCheckInterval=null),!(this.subscribedTopics.size>0)){e.n=2;break}return e.n=2,this.unsubscribe(Array.from(this.subscribedTopics));case 2:t&&this.messageHandlers.clear(),this.client.end(),this.client=null,this.isInitialized=!1,e.n=4;break;case 3:throw e.p=3,r=e.v,this.handleError(r,"cleanup"),r;case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return n.apply(this,arguments)})},{key:"isConnected",value:function(){var e;return(null===(e=this.client)||void 0===e?void 0:e.connected)||!1}}],t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,i,o,s,c,d,h,p}();window.MQTTConnectionManager=p;var y={EXPORT_CONVERSATION:{neo4j:"\n                MATCH (c:Artifact {type: 'Conversation', id: $conversationId})-[:HAS_ENTRY]->(start:Entry)\n                MATCH path = (start)-[:NEXT*0..]->(e:Entry)\n                RETURN e.user_query as query,\n                    e.reply as response,\n                    e.timestamp as timestamp\n                ORDER BY e.timestamp ASC\n        ",gremlin:""},FETCH_CONVERSATIONS:{neo4j:"\n                MATCH (c:Artifact {type: 'Conversation'})\n                WHERE (coalesce(c.active, true) OR $includeArchived = true)\n                  AND ($currentUser = '' OR toLower(coalesce(c.author, '')) = toLower($currentUser))\n                  AND (\n                      $searchTerm = '' OR \n                      toString(c.id) CONTAINS $searchTerm OR\n                      toLower(coalesce(c.title, '')) CONTAINS toLower($searchTerm)\n                  )\n                MATCH (c)<-[:PARTICIPATED_IN]-(agent:AgentInstance {agent_id: $agent_id})\n                OPTIONAL MATCH (c)-[:HAS_ENTRY]->(start:Entry)\n                OPTIONAL MATCH path = (start)-[:NEXT*0..]->(e:Entry)\n                WITH c, COUNT(e) as messageCount, COALESCE(MAX(e.timestamp), toInteger(coalesce(c.created_at, 0))) as lastUpdated\n                RETURN c.id as id, \n                    coalesce(c.title, 'Conversation ' + left(toString(c.id), 8) + '...') as title, \n                    c.created_at as createdAt,\n                    toInteger(lastUpdated) as lastUpdated,\n                    messageCount\n                ORDER BY lastUpdated DESC\n                SKIP toInteger($skip)\n                LIMIT toInteger($limit)\n        ",gremlin:""},GET_CONVERSATION_CONTENT:{neo4j:"\n            MATCH (c:Artifact {type: 'Conversation', id: $conversationId})-[:HAS_ENTRY]->(start:Entry)\n            MATCH path = (start)-[:NEXT*0..]->(e:Entry)\n            WHERE e.reply IS NOT NULL\n            RETURN e.reply as response,\n                e.timestamp as timestamp,\n                e.response_time as response_time,\n                COALESCE(e.input_token_usage, 0) + COALESCE(e.output_token_usage, 0) as token_usage,\n                e.rag_query_time as rag_query_time      \n            ORDER BY e.timestamp DESC\n            LIMIT 1\n        ",gremlin:""},GET_CONVERSATION_DATA:{neo4j:"\n                MATCH (c:Artifact {type: 'Conversation', id: $conversationId})\n                RETURN c.id as id, c.title as title, c.created_at as createdAt, coalesce(c.active, true) as active\n        ",gremlin:""},GET_CONVERSATION_HISTORY:{neo4j:"\n                MATCH (c:Artifact {type: 'Conversation', id: $conversationId})-[:HAS_ENTRY]->(start:Entry)\n                MATCH path = (start)-[:NEXT*0..]->(e:Entry)\n                OPTIONAL MATCH (e)-[:USED_TOOL]->(t)\n                OPTIONAL MATCH (t)-[:HAS_ENTRY]->(te:Entry)\n                WITH e, COLLECT(CASE WHEN t IS NOT NULL THEN {name: t.name, success: t.success, dataProcessed: COALESCE(te.data_processed, t.data_processed, 0)} END) as tools\n                RETURN e.user_query as query,\n                    e.reply as response,\n                    e.timestamp as timestamp,\n                    e.response_time as response_time,\n                    COALESCE(e.input_token_usage, 0) + COALESCE(e.output_token_usage, 0) as token_usage,\n                    e.rag_query_time as rag_query_time,\n                    [tool in tools WHERE tool IS NOT NULL] as tools\n                ORDER BY e.timestamp ASC\n        ",cosmosdb:""},GET_LATEST_CONVERSATION:{neo4j:"\n                MATCH (agent:AgentInstance {agent_id: $agent_id})-[:PARTICIPATED_IN]-(c:Artifact {type: 'Conversation'})\n                WHERE (coalesce(c.active, true) OR $includeArchived = true)\n                  AND ($currentUser = '' OR toLower(coalesce(c.author, '')) = toLower($currentUser))\n                  AND EXISTS { MATCH (c)-[:HAS_ENTRY]->(:Entry) }\n                OPTIONAL MATCH (c)-[:HAS_ENTRY]->(start:Entry)\n                OPTIONAL MATCH p = (start)-[:NEXT*0..]->(e:Entry)\n                WITH c, COUNT(e) AS messageCount, COALESCE(MAX(e.timestamp), 0) AS lastUpdated\n                WHERE messageCount > 0\n                RETURN c.id AS id, coalesce(c.title, 'Conversation ' + left(toString(c.id), 8) + '...') AS title, toInteger(lastUpdated) AS lastUpdated\n                ORDER BY lastUpdated DESC\n                LIMIT 1\n        ",gremlin:""},UPDATE_CONVERSATION_TITLE:{neo4j:"\n                MATCH (c:Artifact {type: 'Conversation', id: $conversationId})\n                SET c.title = $newTitle\n                RETURN c.id as id\n        ",gremlin:""},UPDATE_CONVERSATION_ACTIVE:{neo4j:"\n                MATCH (c:Artifact {type: 'Conversation', id: $conversationId})\n                SET c.active = $active\n                RETURN c.id as id, coalesce(c.active, true) as active\n        ",gremlin:""}},g=r(3469);function m(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(E(e)+" is not iterable")}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){w(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function S(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return _(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,s=0,c=e,f.n=r,a}};function h(r,n){for(s=r,c=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],h=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(s=0,f.v=n,f.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,c=p;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?c:r.call(n,f))!==a)break}catch(t){o=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(_(t={},n,function(){return this}),t),d=l.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,_(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,_(d,"constructor",l),_(l,"constructor",c),c.displayName="GeneratorFunction",_(l,i,"GeneratorFunction"),_(d),_(d,i,"Generator"),_(d,n,function(){return this}),_(d,"toString",function(){return"[object Generator]"}),(S=function(){return{w:o,m:f}})()}function _(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}_=function(e,t,r,n){function o(t,r){_(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},_(e,t,r,n)}function T(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function O(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){I(o,n,i,a,s,"next",e)}function s(e){I(o,n,i,a,s,"throw",e)}a(void 0)})}}var x,R,k={DEBUG:!1,SHOW_CONVERSATIONVIEW_ONLOAD:!1,CURRENT_USER:"",TEAM_ID:"",AGENT_ID:"",AGENT_FRIENDLY_NAME:"",CONVERSATION_ID:"",THEME:"light",HAS_EXPLICIT_THEME:!1,LAYOUT:"standard",LANGUAGE:"en-US",ENABLE_NEW:!0,ENABLE_ALLCONVERSATIONS:!0,ENABLE_EXPORT:!0,ENABLE_LAYOUT:!0,ENABLE_ARCHIVE:!0,NEO4J_CONFIG:{uri:"",username:"",password:"",database:"",neo4j_serverauth:""},MQTT_CONFIG:{hostname:"",port:1883,protocol:"",username:"",password:""}},N={conversationId:null,conversationTitle:"",isProcessing:!1,isNewConversation:!1,isInitializingConversation:!1,subscribedTopics:new Set,totalStats:{messages:0,tokens:0,totalTime:0,totalQueryTime:0},layout:"",theme:"",lastRenderedTimestamp:0},C={isLoading:!1,currentPage:0,hasMoreConversations:!0,conversationsPerPage:15,searchTerm:"",displayedConversations:[]},L=100,P=null,z=null,j={CHAT_PROGRESS:function(e,t,r){return"XMAGS/".concat(e,"/EVT/chat/progress/").concat(t,"/").concat(r)},CHAT_RESPONSE:function(e,t,r){return"XMAGS/".concat(e,"/EVT/chat/response/").concat(t,"/").concat(r)},ERROR:function(e,t){return"XMAGS/".concat(e,"/EVT/error/").concat(t)}},D={CHAT_DATA:function(e,t,r){return"XMAGS/".concat(e,"/DATA/chat/").concat(t,"/").concat(r)},CHAT_NEW:function(e,t){return"XMAGS/".concat(e,"/CMD/chat/new/").concat(t)},CHAT_TEST:function(e,t){return"XMAGS/".concat(e,"/CMD/chat/test/").concat(t)}},M=!1,B=null,U=null;function F(){return(F=O(S().m(function e(t){var r,n;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!M){e.n=1;break}return e.a(2);case 1:if(M=!0,e.p=2,x=window.ChatErrorHandler,R=window.ChatErrorCodes,x&&R){e.n=3;break}throw new Error("Error handlers not properly initialized");case 3:return Et(t),e.n=4,Tt();case 4:utils.debugLog("Application initialized"),e.n=6;break;case 5:e.p=5,e.v,x&&R?(r=x).showError.apply(r,T(R.INIT_FAILED)):(n=x).showError.apply(n,T(R.INIT_FAILED)),dt();case 6:return e.a(2)}},e,null,[[2,5]])}))).apply(this,arguments)}var G=!1;function V(){if(!G){G=!0;var e=document.getElementById("messageInput"),t=document.getElementById("sendButton"),r=document.querySelector(".chat-stats-label"),n=document.querySelector(".chat-stats-tooltip");if(e&&t){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||document.getElementById("messageInput");if(!t)return;function r(){t.style.height="auto";var e=Math.min(t.scrollHeight,240);t.style.height="".concat(e,"px")}t.addEventListener("input",r),t.addEventListener("change",r),window.addEventListener("resize",r)}(e),utils.debugLog("Initialized text area"),r&&n&&(r.addEventListener("click",function(e){e.stopPropagation();var t="none"!==n.style.display;n.style.display=t?"none":"block",r.setAttribute("aria-expanded",(!t).toString());var i=r.querySelector("i");i&&(i.style.transform=t?"rotate(0deg)":"rotate(180deg)")}),document.addEventListener("click",function(){if(n){n.style.display="none";var e=r.querySelector("i");e&&(e.style.transform="rotate(0deg)")}}),r&&r.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r.click())})),t&&(t.onclick=te),e&&e.addEventListener("keypress",function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ne())}),window.addEventListener("beforeunload",O(S().m(function e(){return S().w(function(e){for(;;)switch(e.p=e.n){case 0:e.p=0,e.n=1;break;case 1:e.n=3;break;case 2:e.p=2,e.v;case 3:if(e.p=3,!U||"function"!=typeof U.cleanup){e.n=4;break}return e.n=4,U.cleanup();case 4:e.n=6;break;case 5:e.p=5,e.v;case 6:return e.a(2)}},e,null,[[3,5],[0,2]])})));var i=function(){var e=O(S().m(function e(){return S().w(function(e){for(;;)switch(e.p=e.n){case 0:e.p=0,e.n=1;break;case 1:e.n=3;break;case 2:e.p=2,e.v;case 3:if(e.p=3,!U||"function"!=typeof U.cleanup){e.n=4;break}return e.n=4,U.cleanup();case 4:e.n=6;break;case 5:e.p=5,e.v;case 6:try{P&&(clearInterval(P),P=null)}catch(e){}try{z&&(clearInterval(z),z=null)}catch(e){}case 7:return e.a(2)}},e,null,[[3,5],[0,2]])}));return function(){return e.apply(this,arguments)}}();window.addEventListener("pagehide",i),window.addEventListener("beforeunload",i),window.addEventListener("unload",i)}else{var o;(o=x).showError.apply(o,T(R.UI_INIT_FAILED))}}}function H(e){return $.apply(this,arguments)}function $(){return($=O(S().m(function e(t){var r,n,i;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(U){e.n=1;break}return e.n=1,St();case 1:return r=[j.CHAT_PROGRESS(k.TEAM_ID,k.AGENT_ID,t),j.CHAT_RESPONSE(k.TEAM_ID,k.AGENT_ID,t),j.ERROR(k.TEAM_ID,k.AGENT_ID)],e.p=2,e.n=3,q();case 3:return e.n=4,U.subscribe(r,Y);case 4:return r.forEach(function(e){return N.subscribedTopics.add(e)}),e.a(2,!0);case 5:throw e.p=5,i=e.v,(n=x).showError.apply(n,T(R.MQTT_ERROR)),i;case 6:return e.a(2)}},e,null,[[2,5]])}))).apply(this,arguments)}function q(){return W.apply(this,arguments)}function W(){return(W=O(S().m(function e(){return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(U&&U.isConnected()){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,U.unsubscribe(Array.from(N.subscribedTopics));case 2:N.subscribedTopics.clear(),e.n=4;break;case 3:throw e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])}))).apply(this,arguments)}function Y(e,t){try{var r=JSON.parse(t.toString()),n=e.split("/")[3],i=e.split("/")[4];switch(n){case"chat":"progress"===i?function(e){var t=e.status,r=e.message,n=e.current_operation,i=e.progress_percentage;"exists"===t.toLowerCase()?Ie(N.conversationId):"initialized"===t.toLowerCase()?(dt(),N.isInitializingConversation=!1,ee()):De({status:t,message:r,current_operation:n,progress_percentage:i})}(r):"response"===i&&function(e){Q.apply(this,arguments)}(r);break;case"error":!function(e){var t,r={sequence_error:R.SEQUENCE_ERROR,initialization_error:R.INIT_FAILED,conversation_error:R.CONVERSATION_LOAD_ERROR,send_error:R.SEND_FAILED}[null==e?void 0:e.toLowerCase()];r&&(t=x).showError.apply(t,T(r));N.isProcessing=!1,ee()}(r.exception_type,r.message)}}catch(e){var o;(o=x).showError.apply(o,T(R.UNEXPECTED_ERROR))}}function Q(){return(Q=O(S().m(function e(t){var r,n,i,o,a,s;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!t.response||!t.timestamp){e.n=1;break}r=t.response,n=t.timestamp,i={response_time:t.response_time||0,token_usage:t.token_usage||0,rag_query_time:t.rag_query_time||0},e.n=4;break;case 1:return e.n=2,Te(t.conversation_id);case 2:if((o=e.v)&&o.response){e.n=3;break}throw new Error("No response found");case 3:r=o.response,n=o.timestamp,i={response_time:o.response_time||0,token_usage:o.token_usage||0,rag_query_time:o.rag_query_time||0};case 4:Be(r,n,i,[]),a=Number(n),Number.isFinite(a)&&(N.lastRenderedTimestamp=Math.max(N.lastRenderedTimestamp||0,a)),Ne(i),N.isProcessing=!1,ee(),"split"===N.layout&&ct(),setTimeout(function(){return st()},100),e.n=6;break;case 5:e.p=5,e.v,(s=x).showError.apply(s,T(R.UNEXPECTED_ERROR)),N.isProcessing=!1,ee();case 6:return e.a(2)}},e,null,[[0,5]])}))).apply(this,arguments)}function X(e){return J.apply(this,arguments)}function J(){return(J=O(S().m(function e(t){var r,n,i,o,a,s,c,l;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=t.trim()){e.n=1;break}return(n=x).showError.apply(n,T(R.MESSAGE_EMPTY)),e.a(2);case 1:if(!N.isInitializingConversation){e.n=2;break}return(i=x).showError.apply(i,T(R.OPERATION_IN_PROGRESS)),e.a(2);case 2:if(!N.isNewConversation){e.n=4;break}return e.n=3,K(r);case 3:return e.a(2);case 4:if(N.conversationId&&U.isConnected()){e.n=5;break}return(o=x).showError.apply(o,T(R.NETWORK_ERROR)),e.a(2);case 5:if(e.p=5,!N.isProcessing){e.n=6;break}return(a=x).showError.apply(a,T(R.SEQUENCE_ERROR)),e.a(2);case 6:if(N.isProcessing=!0,ee(),ze(r,!0),U.isConnected()){e.n=7;break}return utils.debugLog("MQTT not connected, attempting to reconnect before sending message"),e.n=7,U.checkConnection();case 7:s=D.CHAT_DATA(k.TEAM_ID,k.AGENT_ID,N.conversationId),c={agent_id:k.AGENT_ID,conversation_id:N.conversationId,content:r};try{utils.debugLog("[MQTT:PUBLISH] CHAT_DATA topic",s),utils.debugLog("[MQTT:PUBLISH] CHAT_DATA payload (stringified)",JSON.stringify(c))}catch(e){utils.debugLog("[MQTT:PUBLISH] CHAT_DATA payload (raw)",c)}return e.n=8,U.publish(s,c);case 8:e.n=10;break;case 9:e.p=9,e.v,(l=x).showError.apply(l,T(R.SEND_FAILED)),N.isProcessing=!1,ee();case 10:return e.a(2)}},e,null,[[5,9]])}))).apply(this,arguments)}function K(e){return Z.apply(this,arguments)}function Z(){return(Z=O(S().m(function e(t){var r,n;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,N.isInitializingConversation=!0,N.isProcessing=!1,ee(),e.n=1,q();case 1:return N.conversationId=utils.generateUUID(),e.n=2,H(N.conversationId);case 2:return r=new Promise(function(e,t){var r=j.CHAT_PROGRESS(k.TEAM_ID,k.AGENT_ID,N.conversationId),n=function(i,o){try{if("initialized"===JSON.parse(o.toString()).status.toLowerCase()){var a,s,c=(null===(a=U.messageHandlers)||void 0===a?void 0:a.get(r))||[];null===(s=U.messageHandlers)||void 0===s||s.set(r,c.filter(function(e){return e!==n})),e()}}catch(e){t(new Error("Error parsing initialization message"))}};U.subscribe(r,n)}),e.n=3,ge(N.conversationId,N.conversationTitle);case 3:return e.n=4,Promise.race([r,new Promise(function(e,t){return setTimeout(function(){return t(new Error("Initialization timeout"))},3e4)})]);case 4:if(N.isNewConversation=!1,N.isInitializingConversation=!1,ee(),!t){e.n=5;break}return e.n=5,X(t);case 5:e.n=7;break;case 6:e.p=6,e.v,(n=x).showError.apply(n,T(R.CONVERSATION_CREATE_ERROR)),N.isNewConversation=!1,N.isProcessing=!1,N.isInitializingConversation=!1,dt(),ee();case 7:return e.a(2)}},e,null,[[0,6]])}))).apply(this,arguments)}function ee(){var e=document.getElementById("messageInput"),t=document.getElementById("sendButton"),r=document.getElementById("layoutToggleItem"),n=document.getElementById("layoutToggle");if(e&&(e.disabled=N.isProcessing||N.isInitializingConversation,e.setAttribute("aria-busy",N.isProcessing.toString())),t)if(N.isInitializingConversation){var i=i18n.translate("initializing")||"Initializing...";t.innerHTML='<i class="fas fa-circle-notch fa-spin" aria-hidden="true"></i>',t.title=i,t.setAttribute("aria-label",i),t.disabled=!0,t.onclick=null,r.classList.add("disabled"),n.disabled=!0}else if(N.isProcessing){var o=i18n.translate("stopGeneration");t.innerHTML='<i class="fas fa-stop" aria-hidden="true"></i>',t.onclick=ie,t.classList.add("stop-button"),t.title=o,t.setAttribute("aria-label",o),r.classList.add("disabled"),n.disabled=!0}else{var a=i18n.translate("sendMessage");t.innerHTML='<i class="fas fa-paper-plane" aria-hidden="true"></i>',t.onclick=te,t.classList.remove("stop-button"),t.title=a,t.setAttribute("aria-label",a),t.disabled=!1,r.classList.remove("disabled"),n.disabled=!1}}function te(){try{var e=document.getElementById("messageInput"),t=document.getElementById("sendButton");if(!e||!t)return;if(!e.value.trim())return t.disabled=!0,function(e,t){re();try{var r=e.getBoundingClientRect(),n=document.createElement("div");n.className="send-tooltip",n.textContent=t,n.style.position="absolute",n.style.zIndex=1e4,n.style.background="rgba(0,0,0,0.85)",n.style.color="#fff",n.style.padding="6px 8px",n.style.borderRadius="4px",n.style.fontSize="12px",n.style.pointerEvents="none",n.style.maxWidth="280px",n.style.wordBreak="break-word",n.style.boxShadow="0 2px 8px rgba(0,0,0,0.25)",document.body.appendChild(n),requestAnimationFrame(function(){var e=n.offsetWidth,t=n.offsetHeight,i=window.scrollX+r.left+r.width/2-e/2,o=window.scrollY+r.top-t-8,a=8;i<a&&(i=a),i+e>window.scrollX+window.innerWidth-a&&(i=window.scrollX+window.innerWidth-e-a),o<window.scrollY+a&&(o=window.scrollY+r.bottom+8),n.style.left="".concat(i,"px"),n.style.top="".concat(o,"px")}),window._sendTooltipEl=n}catch(r){try{e.setAttribute("title",t)}catch(e){}}}(t,i18n.translate("pleaseEnterMessage")||"Please enter a message before sending."),void setTimeout(function(){t.disabled=!1,re()},1500);ne()}catch(e){}}function re(){try{window._sendTooltipEl&&(window._sendTooltipEl.remove(),window._sendTooltipEl=null)}catch(e){}}function ne(){try{var e=document.getElementById("messageInput");if(!e)return;var t,r=e.value.trim();if(!r)return void(t=x).showError.apply(t,T(R.MESSAGE_EMPTY));e.value="",e.style.height="auto",X(r)}catch(e){var n;(n=x).showError.apply(n,T(R.SEND_FAILED))}}function ie(){return oe.apply(this,arguments)}function oe(){return(oe=O(S().m(function e(){var t,r,n;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(N.isProcessing){e.n=1;break}return e.a(2);case 1:if(e.p=1,U.isConnected()){e.n=2;break}return utils.debugLog("MQTT not connected, attempting to reconnect before sending cancel command"),e.n=2,U.checkConnection();case 2:t=D.CHAT_DATA(k.TEAM_ID,k.AGENT_ID,N.conversationId),r={agent_id:k.AGENT_ID,command:"cancel",content:" ",conversation_id:N.conversationId};try{utils.debugLog("[MQTT:PUBLISH] CHAT_DATA (cancel) topic",t),utils.debugLog("[MQTT:PUBLISH] CHAT_DATA (cancel) payload (stringified)",JSON.stringify(r))}catch(e){utils.debugLog("[MQTT:PUBLISH] CHAT_DATA (cancel) payload (raw)",r)}return e.n=3,U.publish(t,r);case 3:De({status:"canceling",message:i18n.translate("canceling")}),e.n=5;break;case 4:e.p=4,e.v,(n=x).showError.apply(n,T(R.SEND_FAILED));case 5:return e.a(2)}},e,null,[[1,4]])}))).apply(this,arguments)}function ae(){return se.apply(this,arguments)}function se(){return se=O(S().m(function e(){var t,r,n,i,o,a,s,c,l,u,d,f,h=arguments;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:0,r=h.length>1&&void 0!==h[1]?h[1]:15,n=h.length>2&&void 0!==h[2]?h[2]:"",e.p=1,a=Number(C.conversationsPerPage),s=Number.isFinite(a)&&a>0?Math.min(a,L):15,c=Math.min(r||s,L),l={currentUser:(k.CURRENT_USER||"").trim(),searchTerm:(n||"").trim(),agent_id:(k.AGENT_ID||(null===(i=window)||void 0===i||null===(i=i.testConfig)||void 0===i?void 0:i.agent_id)||"").toString().trim(),skip:t,limit:c,includeArchived:Boolean(null===(o=document.getElementById("includeArchivedToggle"))||void 0===o?void 0:o.checked),showConversationViewOnLoad:k.SHOW_CONVERSATIONVIEW_ONLOAD||!0},u=B.getQuery("FETCH_CONVERSATIONS"),e.n=2,B.executeRead(u,l,null,!1,t,c);case 2:if((d=e.v)&&0!==d.length){e.n=3;break}return e.a(2,[]);case 3:return f=d.map(function(e){var t=e.lastUpdated,r=0;if(t)try{r=Number(t)}catch(e){}return{id:e.id,title:e.title||"Conversation ".concat(e.id.substring(0,8),"..."),createdAt:e.createdAt?Number(e.createdAt):0,lastUpdated:r,messageCount:Number(e.messageCount||0),active:void 0===e.active||Boolean(e.active)}}),e.a(2,f);case 4:return e.p=4,e.v,e.a(2,[])}},e,null,[[1,4]])})),se.apply(this,arguments)}function ce(){return le.apply(this,arguments)}function le(){return le=O(S().m(function e(){var t,r,n,i,o,a,s,c,l,u,d,f,h,p=arguments;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:"",!C.isLoading){e.n=1;break}return e.a(2,[]);case 1:r=C.currentPage>0?"load-more":"initial",e.p=2,C.isLoading=!0,lt("conversationList",r),o=Number(C.conversationsPerPage),a=Number.isFinite(o)&&o>0?Math.min(o,L):15,s=a,c=C.currentPage*a,l={currentUser:(k.CURRENT_USER||"").trim(),searchTerm:(t||"").trim(),agent_id:(k.AGENT_ID||(null===(n=window)||void 0===n||null===(n=n.testConfig)||void 0===n?void 0:n.agent_id)||"").toString().trim(),skip:c,limit:s,includeArchived:Boolean(null===(i=document.getElementById("includeArchivedToggle"))||void 0===i?void 0:i.checked),showConversationViewOnLoad:k.SHOW_CONVERSATIONVIEW_ONLOAD||!0};try{utils.debugLog("[Conversations] CONFIG snapshot",{AGENT_ID:k.AGENT_ID,CURRENT_USER:k.CURRENT_USER,ENABLE_ALLCONVERSATIONS:k.ENABLE_ALLCONVERSATIONS}),utils.debugLog("[Conversations] params (stringified)",JSON.stringify(l))}catch(e){utils.debugLog("[Conversations] params (raw)",l)}return u=B.getQuery("FETCH_CONVERSATIONS"),k.DEBUG&&(d=k.NEO4J_CONFIG||{},utils.debugLog("[Conversations] Fetch start",{params:l,page:C.currentPage}),utils.debugLog("[Conversations] DB Target",{uri:d.uri,database:d.database,dbtype:k.DATABASETYPE}),utils.debugLog("[Conversations] Query Preview",(u||"").slice(0,200))),e.n=3,B.executeRead(u,l,null,!1,c,s);case 3:if((f=e.v)&&0!==f.length){e.n=4;break}return C.hasMoreConversations=!1,e.a(2,[]);case 4:if(k.DEBUG&&utils.debugLog("[Conversations] Raw result length",f?f.length:0,f&&f.slice?f.slice(0,3):f),f&&0!==f.length){e.n=5;break}return C.hasMoreConversations=!1,e.a(2,[]);case 5:return h=f.map(function(e){var t=e.lastUpdated,r=0;if(t)try{r=Number(t)}catch(e){}return{id:e.id,title:e.title||"Conversation ".concat(e.id.substring(0,8),"..."),createdAt:e.createdAt?Number(e.createdAt):0,lastUpdated:r,messageCount:Number(e.messageCount||0),active:void 0===e.active||Boolean(e.active)}}),C.hasMoreConversations=h.length===s,k.DEBUG&&utils.debugLog("[Conversations] Mapped for UI",{count:h.length,pageSize:s,sample:h.slice(0,3)}),e.a(2,h);case 6:throw e.p=6,e.v;case 7:return e.p=7,ut("conversationList",r),C.isLoading=!1,e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])})),le.apply(this,arguments)}function ue(){return de.apply(this,arguments)}function de(){return(de=O(S().m(function e(){var t,r,n;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(C.hasMoreConversations&&!C.isLoading){e.n=1;break}return k.DEBUG&&utils.debugLog("[Conversations] Skipped loadMore (hasMore:",C.hasMoreConversations,"isLoading:",C.isLoading,")"),e.a(2);case 1:return e.p=1,e.n=2,ce(C.searchTerm);case 2:if(0!==(t=e.v).length){e.n=3;break}return 0===C.currentPage&&(r=document.getElementById("conversationList"))&&(r.innerHTML='\n                        <div class="empty-state">\n                            <p data-i18n="noConversations">'.concat(i18n.translate("noConversations")||"No conversations found","</p>\n                        </div>\n                    ")),e.a(2);case 3:C.displayedConversations=[].concat(T(C.displayedConversations),T(t)),C.currentPage++,Je(C.displayedConversations),e.n=5;break;case 4:e.p=4,e.v,(n=x).showError.apply(n,T(R.CONVERSATION_LOAD_ERROR));case 5:return e.a(2)}},e,null,[[1,4]])}))).apply(this,arguments)}function fe(e){return he.apply(this,arguments)}function he(){return(he=O(S().m(function e(t){var r,n;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=B.getQuery("GET_CONVERSATION_DATA"),e.n=1,B.executeRead(r,{conversationId:t},null,!0);case 1:if(n=e.v){e.n=2;break}return e.a(2,null);case 2:return e.a(2,{id:n.id,title:n.title,createdAt:n.createdAt,active:void 0===n.active||Boolean(n.active)});case 3:throw e.p=3,e.v;case 4:return e.a(2)}},e,null,[[0,3]])}))).apply(this,arguments)}function pe(){return ye.apply(this,arguments)}function ye(){return(ye=O(S().m(function e(){var t,r,n;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=B.getQuery("GET_LATEST_CONVERSATION"),e.n=1,B.executeRead(r,{currentUser:k.CURRENT_USER,agent_id:k.AGENT_ID,includeArchived:Boolean(null===(t=document.getElementById("includeArchivedToggle"))||void 0===t?void 0:t.checked)},null,!0);case 1:if(n=e.v){e.n=2;break}return e.a(2,null);case 2:return e.a(2,{id:n.id,title:n.title||"Conversation ".concat(n.id.substring(0,8),"..."),lastUpdated:n.lastUpdated});case 3:throw e.p=3,e.v;case 4:return e.a(2)}},e,null,[[0,3]])}))).apply(this,arguments)}function ge(e,t){return me.apply(this,arguments)}function me(){return(me=O(S().m(function e(t,r){var n,i;return S().w(function(e){for(;;)switch(e.n){case 0:n=D.CHAT_NEW(k.TEAM_ID,k.AGENT_ID),i={agent_id:k.AGENT_ID,conversation_id:t,conversation_type:"assistant",content:"",title:r||"Conversation at "+i18n.culturalConfig.formatDateTime(Date.now()),author:k.CURRENT_USER};try{utils.debugLog("[MQTT:PUBLISH] CHAT_NEW topic",n),utils.debugLog("[MQTT:PUBLISH] CHAT_NEW payload (stringified)",JSON.stringify(i))}catch(e){utils.debugLog("[MQTT:PUBLISH] CHAT_NEW payload (raw)",i)}return e.n=1,U.publish(n,i);case 1:utils.debugLog("Created new conversation with ID: ".concat(t));case 2:return e.a(2)}},e)}))).apply(this,arguments)}function be(e,t){return ve.apply(this,arguments)}function ve(){return(ve=O(S().m(function e(t,r){var n,i,o,a,s;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n=B.getQuery("UPDATE_CONVERSATION_TITLE"),e.n=1,B.executeWrite(n,{conversationId:t,newTitle:r});case 1:if(e.v){e.n=2;break}return(i=x).showError.apply(i,T(R.CONVERSATION_EDIT_ERROR)),e.a(2,!1);case 2:return N.conversationTitle=r,(o=document.querySelector('.conversation-item[data-conversation-id="'.concat(t,'"]')))&&(a=o.querySelector(".conversation-title"))&&(a.textContent=r),e.a(2,!0);case 3:return e.p=3,e.v,(s=x).showError.apply(s,T(R.CONVERSATION_EDIT_ERROR)),e.a(2,!1)}},e,null,[[0,3]])}))).apply(this,arguments)}function we(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=O(S().m(function e(t){var r,n,i,o;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=B.getQuery("UPDATE_CONVERSATION_ACTIVE"),e.n=1,B.executeWrite(r,{conversationId:t,active:!1});case 1:if(e.v){e.n=2;break}return(n=x).showError.apply(n,T(R.CONVERSATION_EDIT_ERROR)),e.a(2,!1);case 2:return(i=document.querySelector('.conversation-item[data-conversation-id="'.concat(t,'"]')))&&i.remove(),N.conversationId===t&&(Pe(),N.conversationId=null,N.conversationTitle=""),C.currentPage=0,C.displayedConversations=[],e.n=3,$e();case 3:return e.a(2,!0);case 4:return e.p=4,e.v,(o=x).showError.apply(o,T(R.CONVERSATION_EDIT_ERROR)),e.a(2,!1)}},e,null,[[0,4]])}))).apply(this,arguments)}function Se(e){return _e.apply(this,arguments)}function _e(){return(_e=O(S().m(function e(t){var r,n,i,o,a;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=B.getQuery("UPDATE_CONVERSATION_ACTIVE"),e.n=1,B.executeWrite(r,{conversationId:t,active:!0});case 1:if(e.v){e.n=2;break}return(n=x).showError.apply(n,T(R.CONVERSATION_EDIT_ERROR)),e.a(2,!1);case 2:return(i=document.querySelector('.conversation-item[data-conversation-id="'.concat(t,'"]')))&&(i.classList.remove("archived"),i.removeAttribute("aria-disabled"),(o=i.querySelector(".conversation-title"))&&(o.style.opacity="")),N.conversationId===t&&(N.conversationActive=!0,It()),C.currentPage=0,C.displayedConversations=[],e.n=3,$e();case 3:return e.a(2,!0);case 4:return e.p=4,e.v,(a=x).showError.apply(a,T(R.CONVERSATION_EDIT_ERROR)),e.a(2,!1)}},e,null,[[0,4]])}))).apply(this,arguments)}function Te(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=O(S().m(function e(t){var r,n,i;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,r=B.getQuery("GET_CONVERSATION_CONTENT"),e.n=1,B.executeRead(r,{conversationId:t},null,!0);case 1:if(n=e.v){e.n=2;break}return e.a(2,null);case 2:return e.a(2,{response:n.response,timestamp:n.timestamp,response_time:n.response_time,token_usage:n.token_usage,rag_query_time:n.rag_query_time});case 3:return e.p=3,e.v,(i=x).showError.apply(i,T(R.RESPONSE_ERROR)),e.a(2,null)}},e,null,[[0,3]])}))).apply(this,arguments)}function Ie(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=O(S().m(function e(t){var r,n,i,o,a,s,c;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,N.isProcessing=!0,ee(),"split"==k.layout?(lt("userMessages","initial"),lt("responses","initial")):lt("chatMessages","initial"),r=B.getQuery("GET_CONVERSATION_HISTORY"),e.n=1,B.executeRead(r,{conversationId:t});case 1:if((n=e.v)&&0!==n.length){e.n=2;break}return N.conversationTitle&&(ze(N.conversationTitle,!0),st()),N.isProcessing=!1,ee(),dt(),e.a(2,!1);case 2:"split"==k.layout?(ut("userMessages","initial"),ut("responses","initial")):ut("chatMessages","initial"),n.forEach(function(e){e.tools&&e.tools.length>0?(e.tools.forEach(function(e){utils.debugLog("Tool Used: ".concat(e.name,", Success: ").concat(e.success,", Data Processed: ").concat(e.dataProcessed))}),utils.debugLog("Response:",e)):(e.toolName||e.toolSuccess||e.dataProcessed)&&(utils.debugLog("Tool Used: ".concat(e.toolName,", Success: ").concat(e.toolSuccess,", Data Processed: ").concat(e.dataProcessed)),utils.debugLog("Response:",e));var t=e.query,r=e.response,n=e.timestamp,i={response_time:e.response_time||0,token_usage:e.token_usage||0,rag_query_time:e.rag_query_time||0};if(r&&(N.totalStats.messages++,N.totalStats.tokens+=i.token_usage,N.totalStats.totalTime+=i.response_time,N.totalStats.totalQueryTime+=i.rag_query_time),t&&ze(t,!0),r){var o=[];e.tools&&Array.isArray(e.tools)&&e.tools.length>0?o=e.tools.map(function(e){return{name:e.name||"",success:e.success,dataProcessed:ke(e.dataProcessed)}}):(e.toolName||e.toolSuccess||e.dataProcessed)&&o.push({name:e.toolName||"",success:e.toolSuccess,dataProcessed:ke(e.dataProcessed)}),Be(r,n,i,o)}}),Ce(),"split"===N.layout&&ct(),st();try{Array.isArray(n)&&n.length>0?(i=n[n.length-1],o=Number((null==i?void 0:i.timestamp)||0),N.lastRenderedTimestamp=Number.isFinite(o)?o:0):N.lastRenderedTimestamp=0}catch(e){}if(e.p=3,!(a="split"===N.layout?document.getElementById("responses"):document.getElementById("chatMessages"))){e.n=4;break}return e.n=4,bt(a);case 4:e.n=6;break;case 5:e.p=5,e.v;case 6:return N.isProcessing=!1,ee(),e.a(2,!0);case 7:throw e.p=7,c=e.v,(s=x).showError.apply(s,T(R.CONVERSATION_LOAD_ERROR)),c;case 8:return e.p=8,N.isProcessing=!1,ee(),ut("chatMessages","initial"),"split"==k.layout&&(ut("userMessages","initial"),ut("responses","initial")),e.f(8);case 9:return e.a(2)}},e,null,[[3,5],[0,7,8,9]])}))).apply(this,arguments)}function xe(){return Re.apply(this,arguments)}function Re(){return(Re=O(S().m(function e(){var t,r,n,i,o,a,s,c,l;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=B.getQuery("EXPORT_CONVERSATION"),e.n=1,B.executeRead(t,{conversationId:N.conversationId});case 1:if((r=e.v)&&0!==r.length){e.n=2;break}return(n=x).showError.apply(n,T(R.NO_MESSAGES_TO_EXPORT)),e.a(2);case 2:i=r.map(function(e){var t=Number(e.timestamp),r=i18n.culturalConfig.formatDateTime(1e3*t,"medium"),n="",i=e.query,o=e.response,a=e.tools||[];if(i&&(n+="User (".concat(r,"):\n").concat(i,"\n\n")),o&&(n+="Assistant (".concat(r,"):\n").concat(o,"\n\n"),a.length>0)){var s=a.map(function(e){var t=e.success?"✓":"✗";return"".concat(e.name," (").concat(t,", Data: ").concat(e.dataProcessed,")")}).join(" → ");n+="Tools Used: ".concat(s,"\n\n")}return n}).join("---\n\n"),o=["Conversation Export","Date: ".concat(i18n.culturalConfig.formatDateTime(Date.now(),"long")),"Messages: ".concat(r.length),"\n---\n"].join("\n"),a=new Blob([o+i],{type:"text/plain"}),s=window.URL.createObjectURL(a),(c=document.createElement("a")).href=s,c.download="conversation-".concat(N.conversationId,"-").concat(Date.now(),".txt"),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(s),e.n=4;break;case 3:e.p=3,e.v,(l=x).showError.apply(l,T(R.EXPORT_FAILED));case 4:return e.a(2)}},e,null,[[0,3]])}))).apply(this,arguments)}function ke(e){if(null==e)return 0;if("number"==typeof e||"string"==typeof e)return e;if("object"===E(e)){if(e.hasOwnProperty("low")&&e.hasOwnProperty("high"))return Number(e.low)+4294967296*Number(e.high);if(e.hasOwnProperty("value"))return ke(e.value);if(e.hasOwnProperty("count"))return ke(e.count);if(e.hasOwnProperty("amount"))return ke(e.amount);var t=String(e),r=Number(t);return isNaN(r)?t:r}var n=Number(e);return isNaN(n)?String(e):n}function Ne(e){N.totalStats.messages++,N.totalStats.tokens+=e.token_usage||0,N.totalStats.totalTime+=e.response_time||0,N.totalStats.totalQueryTime+=e.rag_query_time||0,Ce()}function Ce(){document.getElementById("total-messages").textContent=i18n.formatNumber(N.totalStats.messages,0),document.getElementById("total-tokens").textContent=i18n.formatNumber(N.totalStats.tokens,0),document.getElementById("avg-response-time").textContent="".concat(Le(N.totalStats.totalTime,N.totalStats.messages),"ms"),document.getElementById("avg-query-time").textContent="".concat(Le(N.totalStats.totalQueryTime,N.totalStats.messages),"ms")}function Le(e,t){return e<=0||t<=0?"0.0000":i18n.formatNumber(e/t,4)}function Pe(){var e=document.getElementById("chatMessages");e&&(e.innerHTML="");var t=document.getElementById("userMessages");t&&(t.innerHTML="");var r=document.getElementById("responses");r&&(r.innerHTML=""),N.totalStats={messages:0,tokens:0,totalTime:0,totalQueryTime:0},Ce();var n=document.getElementById("messageInput");n&&(n.value="",n.style.height="auto"),N.isProcessing=!1,ee()}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.getElementById("chatMessages"),n="split"===N.layout;if(r){var i=document.createElement("div");if(i.className=t?"user-message":"message agent-message",i.setAttribute("role","article"),i.setAttribute("aria-label",t?"User message":"Assistant message"),t){var o="msg-".concat(Date.now(),"-").concat(Math.floor(1e3*Math.random()));i.setAttribute("data-message-id",o),i.setAttribute("tabindex","0");var a=document.createElement("div");a.className="user-message-wrapper";var s=document.createElement("div");s.className="avatar",s.setAttribute("aria-hidden","true"),s.innerHTML='<i class="fas fa-user"></i>',a.appendChild(s);var c=document.createElement("div");c.className="markdown-content",c.setAttribute("role","textbox"),c.setAttribute("aria-readonly","true"),c.innerHTML=Ve(e),a.appendChild(c),i.appendChild(a);var l=document.createElement("button");l.className="icon-button",l.setAttribute("aria-label","Toggle message expansion"),l.setAttribute("role","button"),l.setAttribute("tabIndex","-1"),l.setAttribute("aria-expanded",!1),l.innerHTML='<i class="fa-solid fa-chevron-right" aria-hidden="true"></i>',i.appendChild(l),i.addEventListener("keydown",function(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),je(i))}),n||i.addEventListener("click",function(e){e.stopPropagation(),je(i)})}else{var u=document.createElement("div");u.className="markdown-content",u.setAttribute("role","textbox"),u.setAttribute("aria-readonly","true"),u.innerHTML=Ve(e),i.appendChild(u)}if(r.appendChild(i),n){i.getAttribute("data-message-id");if(t){var d=document.getElementById("userMessages");if(d){var f=i.cloneNode(!0);f.classList.remove("expanded"),f.classList.add("selected"),f.addEventListener("click",ot),d.querySelectorAll(".user-message").forEach(function(e){e.classList.remove("selected")}),d.appendChild(f),d.scrollTop=d.scrollHeight}}}return i}}function je(e){var t=e.classList.contains("expanded");e.classList.toggle("expanded");var r=e.querySelector(".icon-button");r&&r.setAttribute("aria-expanded",(!t).toString());var n=e.nextElementSibling;n&&n.classList.contains("response-wrapper")&&Ue(n,!t),e.querySelectorAll(".action-button").forEach(function(e){e.tabIndex=t?"-1":"0"});var i=document.createElement("div");i.setAttribute("role","status"),i.setAttribute("aria-live","polite"),i.className="sr-only",i.textContent=i18n.translate(t?"messageCollapsed":"messageExpanded"),e.appendChild(i),setTimeout(function(){return i.remove()},1e3)}function De(e){var t=document.getElementById("chatMessages");if(t){var r=t.querySelector(".progress-messages:last-child");if(!r||r.nextElementSibling&&r.nextElementSibling.classList.contains("message")){(r=document.createElement("div")).className="progress-messages",r.setAttribute("role","log"),r.setAttribute("aria-label","Progress updates");var n=t.querySelector(".user-message:last-child"),i=n?n.getAttribute("data-message-id"):null;i&&r.setAttribute("data-for-message",i);var o=Me();r.appendChild(o),t.appendChild(r)}var a=document.createElement("div");a.className="progress-message",a.setAttribute("role","status"),a.setAttribute("aria-live","polite");var s=document.createElement("span");s.className="dot",s.setAttribute("aria-hidden","true"),a.appendChild(s);var c=document.createElement("span"),l="".concat(e.message);if(e.progress_percentage&&(l+=" (".concat(e.progress_percentage,"%)")),c.textContent=l,a.appendChild(c),r.appendChild(a),"split"===N.layout){var u,d=document.getElementById("responses");if(!d)return;if(!(u=d.querySelector(".progress-messages:last-child"))||u.nextElementSibling&&(u.nextElementSibling.classList.contains("response-wrapper")||u.nextElementSibling.classList.contains("agent-message"))){(u=document.createElement("div")).className="progress-messages",u.setAttribute("role","log"),u.setAttribute("aria-label","Progress updates");var f=r.getAttribute("data-for-message");f&&u.setAttribute("data-for-message",f);var h=Me();u.appendChild(h),d.appendChild(u)}var p=a.cloneNode(!0);u.appendChild(p),d.scrollTop=d.scrollHeight}t.scrollTop=t.scrollHeight}}function Me(){var e=document.createElement("button");return e.className="progress-toggle",e.setAttribute("aria-expanded","false"),e.innerHTML='\n        <svg class="svg-icon" style="width: 1.5rem; height: 1.5rem;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <path d="M533.333333 605.866667L341.333333 413.866667l29.866667-29.866667 162.133333 162.133333L695.466667 384l29.866666 29.866667-192 192z" fill="currentColor" />\n        </svg>',e.onclick=function(e){e&&(e.stopPropagation(),e.preventDefault());var t=this.closest(".progress-messages");if(t){var r=t.classList.contains("expanded");if(t.classList.toggle("expanded"),this.setAttribute("aria-expanded",(!r).toString()),"split"===N.layout){var n=t.getAttribute("data-for-message");if(!n)return;var i,o=null!==t.closest("#responses"),a=null!==t.closest("#chatMessages");if(o?i=document.querySelector('#chatMessages .progress-messages[data-for-message="'.concat(n,'"]')):a&&(i=document.querySelector('#responses .progress-messages[data-for-message="'.concat(n,'"]'))),i){i.classList.toggle("expanded",!r);var s=i.querySelector(".progress-toggle");s&&s.setAttribute("aria-expanded",(!r).toString())}}return!1}},e}function Be(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=e||"";o&&o.includes("```mermaid")&&(n=/```mermaid\n([\s\S]*?)```/g,o=o.replace(n,function(e,t){var r=t.trim(),n="mermaid-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9));return'<div class="mermaid" id="'.concat(n,'" data-mermaid-content="').concat(r,'">').concat(r,"</div>")})),o&&o.includes("```chart")&&(o=function(e){var t=/```chart\n([\s\S]*?)```/g,r=0;return e.replace(t,function(e,t){var n="chart-".concat(Date.now(),"-").concat(r++);return'<div class="chart-container"><canvas id="'.concat(n,"\" data-chart='").concat(t.trim(),"'></canvas></div>")})}(o)),o&&o.includes("```")&&(o=function(e){var t=/```(\w*)\n([\s\S]*?)```/g,r=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};return e.replace(t,function(e,t,n){if("mermaid"===t)return e;var i=t||"none",o=r(n.trim());return'<pre><code class="language-'.concat(i,'" data-prismjs-copy="Copy">').concat(o,"</code></pre>")})}(o));var a=document.createElement("div");a.className="message agent-message";var s,c,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=document.createElement("div");r.className="message-header";var n=document.createElement("div");n.className="message-agent";var i=(k.AGENT_FRIENDLY_NAME||"").toString().trim();i||(i=(k.AGENT_NAME||"").toString().trim());if(!i)try{var o=i18n.translate("assistant");i=o&&"assistant"!==o?o:"Assistant"}catch(e){i="Assistant"}n.style.display="flex",n.style.alignItems="center",n.innerHTML='<i class="fas fa-robot" aria-hidden="true" style="margin-right: 6px; position: relative; top: -2px;"></i><span style="position: relative; top: 1px;">'.concat(DOMPurify.sanitize(i),"</span>");var a=document.createElement("div");if(a.className="message-tools",a.style.flex="1",a.style.textAlign="center",t&&t.length>0){var s=t.filter(function(e){return e&&e.name});if(1===s.length?a.textContent="Tools Used: ".concat(s[0].name):s.length>1&&(a.textContent="Tools Used: ".concat(s.length)),s.length>0){var c=document.createElement("button");c.className="tool-dropdown-btn",c.innerHTML='<i class="fas fa-chevron-down"></i>',c.style.marginLeft="6px",c.setAttribute("aria-expanded",!1);var l=document.createElement("div");l.className="tool-dropdown",l.style.display="none",l.style.position="absolute",l.style.background="#fff",l.style.border="1px solid #ccc",l.style.padding="6px",l.style.zIndex=1e3,l.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",l.style.top="100%",l.style.left="50%",l.style.transform="translateX(-50%)",l.style.whiteSpace="nowrap",l.style.marginTop="4px",a.style.position="relative",a.appendChild(l);var u=document.createElement("table");u.style.borderCollapse="collapse",u.style.width="100%",u.innerHTML='<tr style="border-bottom:1px solid #ccc;"><th style="padding:6px 12px; border-right:1px solid #ccc; text-align:center;">Name</th><th style="padding:6px 12px; border-right:1px solid #ccc; text-align:center;">Success</th><th style="padding:6px 12px; text-align:center;">Data Processed</th></tr>',t.forEach(function(e,t){var r=document.createElement("tr");r.style.borderBottom="1px solid #ccc";var n=e.success?'<td style="text-align:center; vertical-align:middle; font-size: 16px; color: green; padding:6px 12px; border-right:1px solid #ccc;">&#10003;</td>':'<td style="text-align:center; vertical-align:middle; font-size: 16px; color: red; padding:6px 12px; border-right:1px solid #ccc;">&#10007;</td>',i="number"==typeof e.dataProcessed?e.dataProcessed.toLocaleString():parseInt(e.dataProcessed)?parseInt(e.dataProcessed).toLocaleString():e.dataProcessed;r.innerHTML='<td style="padding:6px 12px; border-right:1px solid #ccc; text-align:center;">'.concat(DOMPurify.sanitize(e.name),"</td>").concat(n,'<td style="padding:6px 12px; text-align:center;">').concat(i,"</td>"),u.appendChild(r)}),l.appendChild(u),c.addEventListener("click",function(e){e.stopPropagation();var t="none"!==l.style.display;l.style.display=t?"none":"block",c.setAttribute("aria-expanded",(!t).toString())}),document.addEventListener("click",function(e){l.contains(e.target)||e.target===c||(l.style.display="none",c.setAttribute("aria-expanded","false"))}),a.appendChild(c),a.appendChild(l)}}var d=document.createElement("div");return d.className="message-timestamp",d.setAttribute("data-timestamp",1e3*Number(e)),d.innerHTML='\n        <i class="far fa-clock"></i> \n        '.concat(i18n.culturalConfig.formatDateTime(1e3*Number(e),"medium"),"\n    "),r.appendChild(n),r.appendChild(a),r.appendChild(d),r}(t,i),u=(s=o,(c=document.createElement("div")).className="markdown-content",c.innerHTML=Ve(s),c),d=function(e,t){var r=document.createElement("div");r.className="action-buttons";var n=function(e){var t=document.createElement("button");t.className="action-button",t.innerHTML='<i class="fas fa-copy" aria-hidden="true"></i>';var r=i18n.translate("copyResponse");return t.title=r,t.tabIndex="-1",t.setAttribute("aria-label",r),t.addEventListener("click",function(){var r=O(S().m(function r(n){var i;return S().w(function(r){for(;;)switch(r.n){case 0:return n.stopPropagation(),r.n=1,Fe(e);case 1:i=r.v,t.innerHTML=i?'<i class="fas fa-check"></i>':'<i class="fas fa-times"></i>',setTimeout(function(){t.innerHTML='<i class="fas fa-copy"></i>'},2e3);case 2:return r.a(2)}},r)}));return function(e){return r.apply(this,arguments)}}()),t.addEventListener("keydown",function(){var e=O(S().m(function e(r){return S().w(function(e){for(;;)switch(e.n){case 0:"Enter"!==r.key&&" "!==r.key||(r.preventDefault(),t.click());case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),t}(e);if(r.appendChild(n),t.response_time||t.token_usage||t.rag_query_time){var i=function(e){var t=document.createElement("button");t.className="action-button stats-icon",t.innerHTML='<i class="fas fa-chart-simple" aria-hidden="true"></i>';var r=i18n.translate("statistics");t.title=r,t.setAttribute("aria-expanded",!1),t.tabIndex="-1";var n=i18n.formatNumber(e.response_time,4),i=i18n.formatNumber(e.token_usage,0),o=i18n.formatNumber(e.rag_query_time,4);return t.insertAdjacentHTML("beforeend",'\n        <div class="stats-tooltip" style="display: none;">\n            <table>\n                <tr>\n                    <td data-i18n="responseTime">Response Time:</td>\n                    <td>'.concat(n,'ms</td>\n                </tr>\n                <tr>                                        \n                    <td data-i18n="tokenUsage">Token Usage:</td>\n                    <td>').concat(i,'</td>\n                </tr>\n                <tr>\n                    <td data-i18n="queryTime">Query Time:</td>\n                    <td>').concat(o,"ms</td>\n                </tr>\n            </table>\n        </div>\n    ")),t.addEventListener("click",function(e){e.stopPropagation();var r=t.querySelector(".stats-tooltip");if(r){var n="none"!==r.style.display;r.style.display=n?"none":"block",t.setAttribute("aria-expanded",(!n).toString())}}),t.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t.click());var r=t.querySelector(".stats-tooltip");"Escape"===e.key&&"none"!==r.style.display&&(r.style.display="none",t.setAttribute("aria-expanded","false"))}),document.addEventListener("click",function(){var e=t.querySelector(".stats-tooltip");e&&(e.style.display="none",t.setAttribute("aria-expanded","false"))}),t}(t);r.appendChild(i)}return r}(e||"",r);if(a.append(l,u,d),function(e){var t=document.getElementById("chatMessages"),r=t.querySelector(".progress-messages:last-child"),n=document.createElement("div");n.className="response-wrapper";var i=t.querySelector(".user-message:last-child"),o=i?i.getAttribute("data-message-id"):null;o&&n.setAttribute("data-for-message",o);r&&(r.classList.remove("expanded"),n.appendChild(r));if(n.appendChild(e),t.appendChild(n),"split"===N.layout){var a=document.getElementById("responses");if(a){var s=a.querySelector(".progress-messages:last-child");s&&!s.closest(".response-wrapper")&&s.remove();var c=n.cloneNode(!0);c.style.opacity="1",c.style.maxHeight="unset",a.appendChild(c)}ct()}st({targetMessageId:o})}(a),pt(a),bt(a),window.Prism&&"function"==typeof Prism.highlightAllUnder)try{Prism.highlightAllUnder(a)}catch(e){}return a}function Ue(e,t){var r=e.querySelector(".agent-message");r&&r.querySelectorAll(".action-button").forEach(function(e){e.tabIndex=t?0:-1,e.setAttribute("aria-hidden",(!t).toString())})}function Fe(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=O(S().m(function e(t){return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.clipboard.writeText(t);case 1:return e.a(2,!0);case 2:return e.p=2,e.v,e.a(2,!1)}},e,null,[[0,2]])}))).apply(this,arguments)}function Ve(e){return DOMPurify.sanitize(marked.parse(e))}function He(){if("function"!=typeof Chart.getChart){var e=Chart.instances||[];Array.isArray(e)&&e.forEach(function(e){if(e&&"function"==typeof e.destroy)try{e.destroy()}catch(e){}})}else document.querySelectorAll("canvas[data-chart]").forEach(function(e){var t=Chart.getChart(e);t&&t.destroy()})}function $e(){return qe.apply(this,arguments)}function qe(){return(qe=O(S().m(function e(){var t,r;return S().w(function(e){for(;;)switch(e.n){case 0:if(t=document.getElementById("conversationList")){e.n=1;break}return e.a(2);case 1:return C.currentPage=0,C.hasMoreConversations=!0,C.displayedConversations=[],C.searchTerm="",(r=document.getElementById("conversationSearch"))&&(r.value=""),t.innerHTML="",e.n=2,ue();case 2:Ze();case 3:return e.a(2)}},e)}))).apply(this,arguments)}function We(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=O(S().m(function e(t){var r,n,i;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!N.isProcessing){e.n=1;break}return(r=x).showError.apply(r,T(R.OPERATION_IN_PROGRESS)),e.a(2);case 1:if(t!==N.conversationId){e.n=2;break}return Qe(),e.a(2);case 2:return e.p=2,Pe(),"split"==N.layout?(lt("userMessages","initial"),lt("responses","initial")):lt("chatMessages","initial"),N.conversationId=t,N.isNewConversation=!1,N.lastRenderedTimestamp=0,e.n=3,fe(t);case 3:return(n=e.v)&&n.title&&(N.conversationTitle=n.title),N.conversationActive=void 0===(null==n?void 0:n.active)||Boolean(n.active),It(),window.innerWidth<=640&&Qe(),e.n=4,H(t);case 4:return e.n=5,Ie(t);case 5:e.n=7;break;case 6:e.p=6,e.v,(i=x).showError.apply(i,T(R.CONVERSATION_LOAD_ERROR));case 7:return e.p=7,"split"==N.layout?(ut("userMessages","initial"),ut("responses","initial")):ut("chatMessages","initial"),e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}))).apply(this,arguments)}function Qe(e){var t=document.getElementById("conversationListSidebar"),r=document.querySelector(".chat-container");if(t){var n=t.classList.contains("open"),i=t.classList.contains("collapsed");if("open"===e)return t.classList.add("open"),t.classList.remove("collapsed"),r.classList.add("sidebar-open"),void $e();if(n)return t.classList.remove("open"),t.classList.add("collapsed"),void r.classList.remove("sidebar-open");if(i)return t.classList.add("open"),t.classList.remove("collapsed"),r.classList.add("sidebar-open"),void $e();t.classList.add("open"),t.classList.remove("collapsed"),r.classList.add("sidebar-open"),$e()}}function Xe(e){C.searchTerm=e,C.currentPage=0,C.hasMoreConversations=!0,C.displayedConversations=[];var t=document.getElementById("conversationList");t&&(t.innerHTML=""),ue()}function Je(e){var t=document.getElementById("conversationList");if(t){k.DEBUG&&utils.debugLog("[Conversations] Rendering list",{total:e.length});var r=new Set(Array.from(t.querySelectorAll(".conversation-item")).map(function(e){return e.getAttribute("data-conversation-id")}));e.forEach(function(e){var n;if(r.has(e.id)){var i=t.querySelector('.conversation-item[data-conversation-id="'.concat(e.id,'"]'));if(i){var o=i.querySelector(".conversation-title");o&&o.textContent!==e.title&&(o.textContent=DOMPurify.sanitize(e.title))}}else{var a=document.createElement("div");a.className="conversation-item",e.id===N.conversationId&&a.classList.add("active"),a.setAttribute("data-conversation-id",e.id),a.setAttribute("role","button"),a.setAttribute("tabindex","0"),a.setAttribute("aria-label","Load conversation: ".concat(e.title));var s=i18n.culturalConfig.formatDateTime(1e3*e.lastUpdated,"short"),c=e.messageCount&&Number(e.messageCount)>0?" · ".concat(e.messageCount," ").concat(i18n.translate("messages")||"messages"):"";a.innerHTML='\n            <div class="conversation-title">'.concat(DOMPurify.sanitize(e.title),'</div>\n            <div class="conversation-date"><i class="fa-solid fa-pen-to-square"></i>').concat(s).concat(c,"</div>\n        ");var l=Boolean(null===(n=document.getElementById("includeArchivedToggle"))||void 0===n?void 0:n.checked);if(!1===e.active){a.classList.add("archived");var u=a.querySelector(".conversation-title");u&&(u.style.opacity="0.6"),l?a.removeAttribute("aria-disabled"):a.setAttribute("aria-disabled","true")}else a.removeAttribute("aria-disabled");a.addEventListener("click",function(){var t;!1!==e.active||l?(Ke(e.id),We(e.id)):(t=x).showError.apply(t,T(R.CONVERSATION_LOAD_ERROR))}),a.addEventListener("keydown",function(t){if("Enter"===t.key||" "===t.key){var r;if(t.preventDefault(),!1===e.active&&!l)return void(r=x).showError.apply(r,T(R.CONVERSATION_LOAD_ERROR));Ke(e.id),We(e.id)}}),t.appendChild(a),r.add(e.id)}})}}function Ke(e){document.querySelectorAll(".conversation-item").forEach(function(t){t.classList.remove("active"),t.getAttribute("data-conversation-id")===e&&t.classList.add("active")})}function Ze(){var e=document.getElementById("conversationList");e&&(window.handleConversationScroll&&e.removeEventListener("scroll",window.handleConversationScroll),window.handleConversationScroll=function(e){var t=e.target;t.scrollTop+t.clientHeight>=t.scrollHeight-100&&!C.isLoading&&C.hasMoreConversations&&ue()},e.addEventListener("scroll",window.handleConversationScroll))}function et(){P&&(clearInterval(P),P=null),k.ENABLE_ALLCONVERSATIONS&&(P=setInterval(function(){document.hidden||(C.isLoading||document.getElementById("conversationList")&&function(){return tt.apply(this,arguments)}().catch(function(e){}))},Number(k.conversation_refresh_interval_ms)||3e4),window.addEventListener("unload",function(){P&&(clearInterval(P),P=null)}))}function tt(){return(tt=O(S().m(function e(){var t,r,n,i,o,a,s,c,l,u,d,f,h,p,y;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,t=document.getElementById("conversationList")){e.n=1;break}return e.a(2);case 1:return r=Number(C.conversationsPerPage),n=Number.isFinite(r)&&r>0?Math.min(r,L):15,e.n=2,ae(0,n,C.searchTerm);case 2:if((i=e.v)&&0!==i.length){e.n=3;break}return e.a(2);case 3:o=new Map(Array.from(t.querySelectorAll(".conversation-item")).map(function(e){return[e.getAttribute("data-conversation-id"),e]})),a=t.scrollTop,s=t.scrollHeight,c=t.querySelector(".conversation-item.active"),l=c?c.getAttribute("data-conversation-id"):null,u=0,d=S().m(function e(){var r,n,a,s,c,l,d,h,p,y,g,m,b,v,w;return S().w(function(e){for(;;)switch(e.n){case 0:n=i[f],a=o.get(n.id),s=Boolean(null===(r=document.getElementById("includeArchivedToggle"))||void 0===r?void 0:r.checked),a?((c=a.querySelector(".conversation-title"))&&c.textContent!==n.title&&(c.textContent=DOMPurify.sanitize(n.title)),(l=a.querySelector(".conversation-date"))&&(d=n.messageCount&&Number(n.messageCount)>0?" · ".concat(n.messageCount," ").concat(i18n.translate("messages")||"messages"):"",h=i18n.culturalConfig.formatDateTime(1e3*n.lastUpdated,"short"),l.innerHTML='<i class="fa-solid fa-pen-to-square"></i>'.concat(h).concat(d)),!1===n.active?(a.classList.add("archived"),(p=a.querySelector(".conversation-title"))&&(p.style.opacity="0.6"),s?a.removeAttribute("aria-disabled"):a.setAttribute("aria-disabled","true")):(a.classList.remove("archived"),(y=a.querySelector(".conversation-title"))&&(y.style.opacity=""),a.removeAttribute("aria-disabled"))):((g=document.createElement("div")).className="conversation-item",g.setAttribute("data-conversation-id",n.id),g.setAttribute("role","button"),g.setAttribute("tabindex","0"),g.setAttribute("aria-label","Load conversation: ".concat(n.title)),m=i18n.culturalConfig.formatDateTime(1e3*n.lastUpdated,"short"),b=n.messageCount&&Number(n.messageCount)>0?" · ".concat(n.messageCount," ").concat(i18n.translate("messages")||"messages"):"",g.innerHTML='\n                    <div class="conversation-title">'.concat(DOMPurify.sanitize(n.title),'</div>\n                    <div class="conversation-date"><i class="fa-solid fa-pen-to-square"></i>').concat(m).concat(b,"</div>\n                "),!1===n.active&&(g.classList.add("archived"),(v=g.querySelector(".conversation-title"))&&(v.style.opacity="0.6"),s||g.setAttribute("aria-disabled","true")),g.addEventListener("click",function(){var e;!1!==n.active||s?(Ke(n.id),We(n.id)):(e=x).showError.apply(e,T(R.CONVERSATION_LOAD_ERROR))}),g.addEventListener("keydown",function(e){if("Enter"===e.key||" "===e.key){var t;if(e.preventDefault(),!1===n.active&&!s)return void(t=x).showError.apply(t,T(R.CONVERSATION_LOAD_ERROR));Ke(n.id),We(n.id)}}),(w=t.firstChild)?t.insertBefore(g,w):t.appendChild(g),u++);case 1:return e.a(2)}},e)}),f=i.length-1;case 4:if(!(f>=0)){e.n=6;break}return e.d(m(d()),5);case 5:f--,e.n=4;break;case 6:l&&Ke(l),u>0&&(h=t.scrollHeight,p=h-s,t.scrollTop=a>0&&p>0?a+p:a),y=new Map(C.displayedConversations.map(function(e){return[e.id,e]})),i.forEach(function(e){if(y.has(e.id)){var t=y.get(e.id);t.title=e.title,t.lastUpdated=e.lastUpdated,t.messageCount=e.messageCount,t.active=e.active}else C.displayedConversations.unshift(e),y.set(e.id,e)}),e.n=8;break;case 7:e.p=7,e.v;case 8:return e.a(2)}},e,null,[[0,7]])}))).apply(this,arguments)}function rt(){!function(){try{z&&(clearInterval(z),z=null)}catch(e){}}(),z=setInterval(function(){document.hidden||N.isProcessing||N.isInitializingConversation||N.conversationId&&B&&function(){return nt.apply(this,arguments)}().catch(function(e){})},1e4)}function nt(){return(nt=O(S().m(function e(){var t,r,n,i,o,a,s,c,l,u,d;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,t=N.conversationId){e.n=1;break}return e.a(2);case 1:if(r=document.getElementById("chatMessages")){e.n=2;break}return e.a(2);case 2:return n=r.scrollTop,i=r.scrollHeight,o=i-(n+r.clientHeight)<=50,a=B.getQuery("GET_CONVERSATION_HISTORY"),e.n=3,B.executeRead(a,{conversationId:t});case 3:if(s=e.v,Array.isArray(s)&&0!==s.length){e.n=4;break}return e.a(2);case 4:if(c=Number(N.lastRenderedTimestamp||0),0!==(l=s.filter(function(e){return Number(e.timestamp)>c})).length){e.n=5;break}return e.a(2);case 5:l.forEach(function(e){var t=e.query,r=e.response,n=e.timestamp,i={response_time:e.response_time||0,token_usage:e.token_usage||0,rag_query_time:e.rag_query_time||0};if(t&&ze(t,!0),r){var o=[];e.tools&&Array.isArray(e.tools)&&e.tools.length>0&&(o=e.tools.map(function(e){return{name:e.name||"",success:e.success,dataProcessed:ke(e.dataProcessed)}})),Be(r,n,i,o),Ne(i)}var a=Number(n);Number.isFinite(a)&&(N.lastRenderedTimestamp=Math.max(N.lastRenderedTimestamp||0,a))}),u=r.scrollHeight,o?r.scrollTop=r.scrollHeight:(d=u-i,r.scrollTop=n+Math.max(0,d)),e.n=7;break;case 6:e.p=6,e.v;case 7:return e.a(2)}},e,null,[[0,6]])}))).apply(this,arguments)}function it(e){utils.debugLog("Layout in use is: ".concat(e)),N.layout=e;var t=document.querySelector(".chat-container"),r=document.getElementById("chatMessages"),n=document.getElementById("userMessages"),i=document.getElementById("responses"),o=document.querySelector(".chat-input");if(t&&r&&n&&i){var a=document.getElementById("layoutToggle");a&&(a.checked="split"===e),He(),"split"===e?ct():function(){var e=document.getElementById("chatMessages"),t=document.getElementById("userMessages"),r=document.getElementById("responses");if(!e||!t||!r)return;e.innerHTML="";var n=Array.from(t.querySelectorAll(".user-message")),i=0;n.forEach(function(e){var t=e.getAttribute("data-message-id");t&&(r.querySelector('.response-wrapper[data-for-message="'.concat(t,'"]'))&&i++)});var o=0;n.forEach(function(t){var n=t.getAttribute("data-message-id");if(n){var a=t.cloneNode(!0),s=r.querySelector('.response-wrapper[data-for-message="'.concat(n,'"]'));s&&o++;var c=o===i;a.classList.toggle("expanded",c);var l=a.querySelector(".icon-button");if(l&&(l.style.pointerEvents="",l.removeAttribute("tabindex"),l.removeAttribute("aria-hidden"),l.setAttribute("aria-expanded",c.toString()),l.addEventListener("click",function(e){e.stopPropagation(),je(a)})),a.addEventListener("click",function(e){e.stopPropagation(),je(a)}),a.addEventListener("keydown",function(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),je(a))}),e.appendChild(a),s){var u=s.cloneNode(!0);u.querySelectorAll(".progress-toggle").forEach(function(e){e.onclick=null,e.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault();var t=this.closest(".progress-messages");if(t){var r=t.classList.contains("expanded");return t.classList.toggle("expanded"),this.setAttribute("aria-expanded",(!r).toString()),!1}})}),u.querySelectorAll(".action-button").forEach(function(e){e.tabIndex=c?0:-1,e.querySelector(".fa-copy")?e.addEventListener("click",function(){var t=O(S().m(function t(r){var n,i;return S().w(function(t){for(;;)switch(t.n){case 0:return r.stopPropagation(),n=e.closest(".agent-message").querySelector(".markdown-content").textContent,t.n=1,Fe(n);case 1:i=t.v,e.innerHTML=i?'<i class="fas fa-check"></i>':'<i class="fas fa-times"></i>',setTimeout(function(){e.innerHTML='<i class="fas fa-copy"></i>'},2e3);case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()):e.classList.contains("stats-icon")&&e.addEventListener("click",function(t){t.stopPropagation();var r=e.querySelector(".stats-tooltip");if(r){var n="none"!==r.style.display;r.style.display=n?"none":"block",e.setAttribute("aria-expanded",(!n).toString())}})}),e.appendChild(u)}}}),pt(e),bt(e),setTimeout(function(){at()},100)}(),"split"===e?(t.classList.add("split-view"),r.classList.add("hide"),n.classList.remove("hide"),i.classList.remove("hide"),o&&n.parentNode.insertBefore(o,n.nextSibling),function(){var e=document.querySelectorAll("#userMessages .user-message");document.getElementById("responses");if(e.forEach(function(e){e.removeEventListener("click",ot),e.addEventListener("click",ot),e.classList.remove("selected")}),e.length>0){var t=e[e.length-1],r=t.getAttribute("data-message-id");r&&(t.classList.add("selected"),st({targetMessageId:r,container:"response"}))}}()):(t.classList.remove("split-view"),r.classList.remove("hide"),n.classList.add("hide"),i.classList.add("hide"),o&&t.appendChild(o)),setTimeout(function(){"split"===e?(pt(i),bt(i)):(pt(r),bt(r)),st()},300)}}function ot(e){e.preventDefault(),e.stopPropagation();var t=this.getAttribute("data-message-id");if(t){document.querySelectorAll("#userMessages .user-message").forEach(function(e){return e.classList.remove("selected")}),this.classList.add("selected");var r=document.getElementById("responses").querySelector('.response-wrapper[data-for-message="'.concat(t,'"]'));r&&((r.toolName||r.toolSuccess||r.dataProcessed)&&(utils.debugLog("Tool Used: ".concat(r.toolName,", Success: ").concat(r.toolSuccess,", Data Processed: ").concat(r.dataProcessed)),utils.debugLog("Response: ".concat(r))),utils.debugLog("Found matching response for message ID: ".concat(t)),setTimeout(function(){st({targetMessageId:t,immediate:!0,container:"response"})},50))}}function at(){st()}function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=v(v({},{immediate:!0,targetMessageId:null,container:"all"}),e),r=t.immediate?"auto":"smooth",n="split"===N.layout;window.pendingScrollTimeout&&clearTimeout(window.pendingScrollTimeout),window.pendingScrollTimeout=setTimeout(function(){if(!n&&("all"===t.container||"main"===t.container)){var e=document.getElementById("chatMessages");if(e){var i=e.querySelectorAll(".user-message");i.length>0&&(i.forEach(function(e,t){var r=t===i.length-1;e.classList.toggle("expanded",r);var n=e.querySelector(".icon-button");n&&n.setAttribute("aria-expanded",r.toString());var o=e.nextElementSibling;o&&o.classList.contains("response-wrapper")&&Ue(o,r)}),e.scrollTop=e.scrollHeight)}}if(n){if("all"===t.container||"user"===t.container){var o=document.getElementById("userMessages");if(o){var a=t.targetMessageId?o.querySelector('.user-message[data-message-id="'.concat(t.targetMessageId,'"]')):o.querySelector(".user-message:last-child");a&&(o.querySelectorAll(".user-message").forEach(function(e){e.classList.remove("selected")}),a.classList.add("selected"),a.scrollIntoView({behavior:r,block:"center"}))}}if("all"===t.container||"response"===t.container){var s=document.getElementById("responses");if(s){var c=t.targetMessageId;if(!c){var l=document.querySelector("#userMessages .user-message.selected");l&&(c=l.getAttribute("data-message-id"))}if(c){var u=s.querySelector('.response-wrapper[data-for-message="'.concat(c,'"]'));utils.debugLog("Attempting to scroll to response for message ".concat(c),u?"found":"not found"),u?u.scrollIntoView({behavior:r,block:"start"}):s.scrollTop=s.scrollHeight}else s.scrollTop=s.scrollHeight}}}},50)}function ct(){var e=document.getElementById("chatMessages"),t=document.getElementById("userMessages"),r=document.getElementById("responses");if(e&&t&&r){t.innerHTML="",r.innerHTML="";var n=e.querySelectorAll(".user-message"),i=0;n.forEach(function(e){e.hasAttribute("data-message-id")||e.setAttribute("data-message-id","msg-".concat(Date.now(),"-").concat(i++))});var o=null;Array.from(e.children).forEach(function(e){var n=e.cloneNode(!0);if(e.classList.contains("user-message")){o=e.getAttribute("data-message-id"),n.setAttribute("data-message-id",o),n.classList.remove("expanded"),n.addEventListener("click",ot);var i=n.querySelector(".icon-button");i&&(i.style.pointerEvents="none",i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true")),t.appendChild(n)}else if(e.classList.contains("response-wrapper"))o&&n.setAttribute("data-for-message",o),r.appendChild(n);else if(e.classList.contains("agent-message"))if(o){var a=document.createElement("div");a.className="response-wrapper",a.setAttribute("data-for-message",o),a.appendChild(n),r.appendChild(a)}else r.appendChild(n);else if(e.classList.contains("progress-messages")){var s=document.createElement("div");s.className=e.className,e.classList.contains("expanded")&&s.classList.add("expanded"),Array.from(e.attributes).forEach(function(e){"class"!==e.name&&s.setAttribute(e.name,e.value)});var c=e.getAttribute("data-for-message")||o;c&&s.setAttribute("data-for-message",c);var l=Me();l.setAttribute("aria-expanded",e.classList.contains("expanded").toString()),s.appendChild(l),e.querySelectorAll(".progress-message").forEach(function(e){s.appendChild(e.cloneNode(!0))}),r.appendChild(s)}}),t.querySelectorAll(".user-message").forEach(function(e){e.classList.remove("selected")}),at(),document.querySelectorAll("#responses .action-button").forEach(function(e){e.tabIndex=0,e.style.pointerEvents="auto",e.setAttribute("aria-hidden","false")}),document.querySelectorAll("#responses .action-button .fa-copy").forEach(function(e){var t=e.closest(".action-button");if(t){t.onclick;t.onclick=null,t.addEventListener("click",function(){var e=O(S().m(function e(r){var n,i;return S().w(function(e){for(;;)switch(e.n){case 0:return r.stopPropagation(),n=t.closest(".agent-message").querySelector(".markdown-content").textContent,e.n=1,Fe(n);case 1:i=e.v,t.innerHTML=i?'<i class="fas fa-check"></i>':'<i class="fas fa-times"></i>',setTimeout(function(){t.innerHTML='<i class="fas fa-copy"></i>'},2e3);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())}}),document.querySelectorAll("#responses .stats-icon").forEach(function(e){e.onclick=null,e.addEventListener("click",function(t){t.stopPropagation();var r=e.querySelector(".stats-tooltip");if(r){var n="none"!==r.style.display;r.style.display=n?"none":"block",e.setAttribute("aria-expanded",(!n).toString())}})}),document.querySelectorAll("#responses .progress-toggle").forEach(function(e){var t=Me();t.className=e.className,t.innerHTML=e.innerHTML,t.setAttribute("aria-expanded",e.getAttribute("aria-expanded")),e.parentNode&&e.parentNode.replaceChild(t,e)})}}function lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"initial",r=document.getElementById(e);if(r){var n="".concat(e,"-").concat(t,"-spinner");if(!document.getElementById(n)){var i=document.createElement("div");i.className="spinner-container ".concat(t),i.id=n;var o=document.createElement("div");o.className="spinner ".concat(t),i.appendChild(o),r.appendChild(i)}}}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"initial",r="".concat(e,"-").concat(t,"-spinner"),n=document.getElementById(r);n&&n.remove()}function dt(){ut("main","page"),document.querySelectorAll(".spinner.page").forEach(function(e){return e.remove()});var e=document.getElementById("container");e&&e.classList.remove("hide")}function ft(e){utils.debugLog("Theme in use is: ".concat(e)),document.documentElement.setAttribute("data-theme",e),N.theme=e;var t=document.getElementById("themeToggle");t&&(t.checked="dark"===e),gt().catch(function(e){}),document.querySelectorAll(".mermaid").forEach(function(){var e=O(S().m(function e(t){var r;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!t.hasAttribute("data-processed")){e.n=1;break}if(t.removeAttribute("data-processed"),!(r=t.getAttribute("data-mermaid-content"))){e.n=1;break}return t.textContent=r,e.n=1,mermaid.init(void 0,t);case 1:e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}());var r="split"===N.layout?document.getElementById("responses"):document.getElementById("chatMessages");r&&(He(),pt(r))}function ht(){var e=document.querySelectorAll(".dropdown"),t=document.getElementById("themeToggleItem"),r=document.getElementById("layoutToggleItem"),n=document.getElementById("newConversationBtn"),i=document.getElementById("editConversationBtn"),o=document.getElementById("showConversationsBtn"),a=document.getElementById("exportConversationBtn"),s=document.getElementById("newConversationDialogOverlay"),c=document.getElementById("newConversationDialogConfirmBtn"),l=document.getElementById("newConversationDialogCancelBtn"),u=document.getElementById("editConversationDialogOverlay"),d=document.getElementById("editConversationDialogConfirmBtn"),f=document.getElementById("editConversationDialogCancelBtn");!k.ENABLE_NEW&&n?n.style.display="none":n&&(n.addEventListener("click",function(e){var t;(e.stopPropagation(),N.isProcessing)?(t=x).showError.apply(t,T(R.OPERATION_IN_PROGRESS)):document.getElementById("newConversationDialogOverlay").classList.remove("hide")}),c&&c.addEventListener("click",function(){var e=c.querySelector(".spinner"),t=document.getElementById("newConversationDialogCancelBtn");c.disabled=t.disabled=!0,e.classList.remove("hide");var r=document.getElementById("conversationTitleInput"),n="";if(r&&r.value.trim())n=r.value.trim();else{var i=new Date;n="Conversation at ".concat(i.toLocaleString()),r&&(r.value="")}Pe(),N.isNewConversation=!0,N.conversationTitle=n,N.conversationId=null;var o=document.getElementById("messageInput");o&&o.focus(),c.disabled=t.disabled=!1,e.classList.add("hide"),s.classList.add("hide")}),l&&(l.addEventListener("click",function(){s.classList.add("hide")}),s&&s.addEventListener("click",function(e){e.target===s&&s.classList.add("hide")}))),!k.ENABLE_ALLCONVERSATIONS&&o?o.style.display="none":o&&o.addEventListener("click",function(e){e.stopPropagation(),Qe()}),!k.ENABLE_EXPORT&&a?a.style.display="none":a&&a.addEventListener("click",function(){var e=O(S().m(function e(t){var r;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.stopPropagation(),e.p=1,e.n=2,xe();case 2:e.n=4;break;case 3:e.p=3,e.v,(r=x).showError.apply(r,T(R.EXPORT_FAILED));case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}());var h=document.getElementById("archiveConversationBtn");if(!k.ENABLE_ARCHIVE&&h)h.style.display="none";else if(h){var p=document.getElementById("archiveLabel");try{if(window.i18n&&"function"==typeof i18n.translate){var y=i18n.translate("archiveConversation");y&&"archiveConversation"!==y?p&&(p.textContent=y):p&&(p.textContent="Archive")}else p&&(p.textContent="Archive")}catch(e){p&&(p.textContent="Archive")}h.addEventListener("click",function(){var e=O(S().m(function e(t){var r,n,i,o,a,s,c,l,u,d,f,p;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.stopPropagation(),N.conversationId){e.n=1;break}return(r=x).showError.apply(r,T(R.NO_ACTIVE_CONVERSATION)),e.a(2);case 1:if(!N.isProcessing){e.n=2;break}return(n=x).showError.apply(n,T(R.OPERATION_IN_PROGRESS)),e.a(2);case 2:i=void 0===N.conversationActive||Boolean(N.conversationActive),o=i?"confirmArchive":"confirmRestore",a=i?"conversationArchived":"conversationRestored",s=i?"Archive this conversation?":"Restore this conversation?",c=null;try{window.i18n&&"function"==typeof i18n.translate&&(l=i18n.translate(o))&&l!==o&&(c=l)}catch(e){}if(c||(c=s),confirm(c)){e.n=3;break}return e.a(2);case 3:if(e.p=3,(u=h.querySelector(".spinner"))&&u.classList.remove("hide"),d=!1,!i){e.n=5;break}return e.n=4,we(N.conversationId);case 4:d=e.v,e.n=7;break;case 5:return e.n=6,Se(N.conversationId);case 6:d=e.v;case 7:u&&u.classList.add("hide"),d&&window.ChatStatusHandler&&(window.i18n&&"function"==typeof i18n.translate&&(f=i18n.translate(a))&&f!==a?ChatStatusHandler.showSuccess(f):ChatStatusHandler.showSuccess(a)),It(),e.n=9;break;case 8:e.p=8,e.v,(p=x).showError.apply(p,T(R.CONVERSATION_EDIT_ERROR));case 9:return e.a(2)}},e,null,[[3,8]])}));return function(t){return e.apply(this,arguments)}}())}if(!k.ENABLE_LAYOUT&&r)r.style.display="none";else if(r){var g=document.getElementById("layoutToggle"),m=function(){window.innerWidth<=1024?(r.style.opacity="0.5",r.querySelector("label").style.pointerEvents="none",g.disabled=!0,"split"===N.layout&&(g.checked=!1,it("standard"))):(r.style.opacity="1",r.querySelector("label").style.pointerEvents="auto",g.disabled=!1)};g.checked="split"===N.layout,g.addEventListener("change",function(e){it(e.target.checked?"split":"standard")}),m(),window.addEventListener("resize",m)}if(t)k.HAS_EXPLICIT_THEME&&(t.style.display="none");else{var b=document.getElementById("themeToggle");b&&(b.checked="dark"===N.theme,b.addEventListener("change",function(e){ft(e.target.checked?"dark":"light")}))}t&&!k.ENABLE_LAYOUT&&(document.getElementById("chatSettings").style.display="none");e.forEach(function(t){var r=t.querySelector(".dropdown-toggle");r&&(r.addEventListener("click",function(n){n.stopPropagation();var i=t.classList.contains("open");t.classList.toggle("open"),r.setAttribute("aria-expanded",(!i).toString()),e.forEach(function(e){if(e!==t){e.classList.remove("open");var r=e.querySelector(".dropdown-toggle");r&&r.setAttribute("aria-expanded","false")}})}),r.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r.click())}))}),document.addEventListener("click",function(){e.forEach(function(e){e.classList.remove("open");var t=e.querySelector(".dropdown-toggle");t&&t.setAttribute("aria-expanded","false")})}),i&&i.addEventListener("click",function(){var e=O(S().m(function e(t){var r,n,i,o;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.stopPropagation(),N.conversationId){e.n=1;break}return(r=x).showError.apply(r,T(R.NO_ACTIVE_CONVERSATION)),e.a(2);case 1:if(!N.isProcessing){e.n=2;break}return(n=x).showError.apply(n,T(R.OPERATION_IN_PROGRESS)),e.a(2);case 2:if(!(i=document.getElementById("editConversationTitleInput"))){e.n=7;break}if(!N.conversationTitle){e.n=3;break}i.value=N.conversationTitle,e.n=6;break;case 3:return e.p=3,e.n=4,fe(N.conversationId);case 4:o=e.v,N.conversationTitle=(null==o?void 0:o.title)||"",i.value=N.conversationTitle,e.n=6;break;case 5:e.p=5,e.v,i.value="";case 6:document.getElementById("editConversationDialogOverlay").classList.remove("hide"),i.focus(),i.select();case 7:return e.a(2)}},e,null,[[3,5]])}));return function(t){return e.apply(this,arguments)}}()),d&&d.addEventListener("click",O(S().m(function e(){var t,r,n,i,o,a,s,c;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=d.querySelector(".spinner"),r=document.getElementById("editConversationDialogCancelBtn"),d.disabled=r.disabled=!0,t.classList.remove("hide"),n=document.getElementById("editConversationTitleInput"),i="",n&&n.value.trim()?i=n.value.trim():(o=new Date,i="Conversation at ".concat(o.toLocaleString()),n.value=""),e.p=1,e.n=2,be(N.conversationId,i);case 2:N.conversationTitle=i,(a=document.querySelector('.conversation-item[data-conversation-id="'.concat(N.conversationId,'"]')))&&(s=a.querySelector(".conversation-title"))&&(s.textContent=i),ChatStatusHandler.showSuccess("conversationTitleEditSuccess"),e.n=4;break;case 3:e.p=3,e.v,(c=x).showError.apply(c,T(R.CONVERSATION_EDIT_ERROR));case 4:return e.p=4,d.disabled=r.disabled=!1,t.classList.add("hide"),e.f(4);case 5:u.classList.add("hide");case 6:return e.a(2)}},e,null,[[1,3,4,5]])}))),f&&f.addEventListener("click",function(){u.classList.add("hide")}),u&&u.addEventListener("click",function(e){e.target===u&&u.classList.add("hide")}),document.querySelectorAll(".dropdown-item.stats-overview, #themeToggleItem, #layoutToggleItem").forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation()})})}function pt(e){var t=e.querySelectorAll("canvas[data-chart]"),r=function(e){return getComputedStyle(document.documentElement).getPropertyValue(e).trim()},n={primary:{blue:r("--blue"),lightBlue:r("--light-blue"),teal:r("--teal"),lightTeal:r("--light-teal"),yellow:r("--yellow"),green:r("--green"),red:r("--red")},theme:{text:r("--text-color"),grid:r("--border-color"),background:r("--white")}};t.forEach(function(e){try{var t=Chart.getChart(e);t&&t.destroy();var r=JSON.parse(e.dataset.chart),i=function(e,t,r,n){var i=n.primary,o=n.theme,a={responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!!r.title,text:r.title||"",color:o.text,font:{size:16,weight:"bold"},padding:20},legend:{display:!0,position:e.toLowerCase().includes("pie")||e.toLowerCase().includes("doughnut")?"right":"top",labels:{color:o.text,font:{size:12},padding:e.toLowerCase().includes("pie")||e.toLowerCase().includes("doughnut")?20:10}},tooltip:{backgroundColor:o.background,titleColor:o.text,bodyColor:o.text,borderColor:o.grid,borderWidth:1}}},s=e.toLowerCase().replace("chart",""),c=s.includes("pie")||s.includes("doughnut");return{type:s,data:{labels:c?t.map(function(e){return"".concat(e.name," (").concat(e.value.toFixed(2)).concat(r.yAxisUnit||"",")")}):t.map(function(e){return e[r.xAxis]}),datasets:[function(e){var n=e.includes("pie")||e.includes("doughnut"),a={label:r.yAxis||"Value",data:n?t.map(function(e){return e.value}):t.map(function(e){return e[r.yAxis]})},s={bar:{backgroundColor:i.blue,borderColor:i.blue,borderWidth:1},line:{backgroundColor:"transparent",borderColor:i.blue,borderWidth:2,pointBackgroundColor:i.blue,pointBorderColor:o.background,tension:.4},pie:{backgroundColor:[i.blue,i.teal,i.lightBlue,i.yellow,i.green,i.lightTeal],borderColor:o.background,borderWidth:2},doughnut:{backgroundColor:[i.blue,i.teal,i.lightBlue,i.yellow,i.green,i.lightTeal],borderColor:o.background,borderWidth:2,cutout:"70%"},scatter:{backgroundColor:i.blue,borderColor:i.blue,pointRadius:6,pointHoverRadius:8}};return v(v({},a),s[e]||s.bar)}(s)]},options:v(v({},a),{},{scales:function(e){return["pie","doughnut","polarArea","radar"].includes(e)?{}:{x:{grid:{color:o.grid},ticks:{color:o.text,font:{size:12},maxRotation:45,minRotation:45}},y:{beginAtZero:!0,grid:{color:o.grid},ticks:{color:o.text,font:{size:12}}}}}(s)})}}(r.type,r.data,r.config,n);!function(e,t){var r=t.data?t.data.length:0,n=r>100;(n||"line"===e.type)&&(e.options.animation=!1,"line"===e.type&&(e.options.parsing=!1));e.data.datasets&&e.data.datasets.forEach(function(e){Array.isArray(e.data)&&e.data.length>1&&(e.data.every(function(e,t,r){return 0===t||"object"!==E(e)||e.x>=r[t-1].x})&&(e.normalized=!0))});"line"===e.type&&r>1e3&&(e.options.plugins=e.options.plugins||{},e.options.plugins.decimation={enabled:!0,algorithm:"lttb",samples:Math.min(500,Math.floor(r/2))});e.options.scales&&Object.keys(e.options.scales).forEach(function(t){var r=e.options.scales[t];r.ticks&&n&&(r.ticks.maxTicksLimit=10,r.ticks.autoSkip=!0)})}(i,r),new Chart(e,i)}catch(t){var o=document.createElement("div");o.className="error-message error",o.textContent="Error creating chart: ".concat(t.message),e.parentElement&&(e.parentElement.innerHTML=o.outerHTML)}})}var yt={initialized:!1};function gt(){return mt.apply(this,arguments)}function mt(){return(mt=O(S().m(function e(){return S().w(function(e){for(;;)switch(e.p=e.n){case 0:if(window.mermaid){e.n=1;break}return e.a(2,!1);case 1:if(!yt.initialized){e.n=2;break}return e.a(2,!0);case 2:return e.p=2,mermaid.initialize({startOnLoad:!1,theme:"dark"===N.theme?"dark":"default",securityLevel:"loose",fontFamily:"Arial",flowchart:{htmlLabels:!0,curve:"linear"}}),yt.initialized=!0,utils.debugLog("Mermaid initialized successfully"),e.a(2,!0);case 3:return e.p=3,e.v,e.a(2,!1)}},e,null,[[2,3]])}))).apply(this,arguments)}function bt(e){return vt.apply(this,arguments)}function vt(){return(vt=O(S().m(function e(t){var r,n,i;return S().w(function(e){for(;;)switch(e.n){case 0:if(t&&window.mermaid){e.n=1;break}return e.a(2);case 1:return e.n=2,gt();case 2:if(0!==(r=Array.from(t.querySelectorAll(".mermaid"))).length){e.n=3;break}return e.a(2);case 3:n=function(e){try{var t=e.getAttribute("data-mermaid-content");if(t&&e.textContent.trim()!==t.trim()&&(e.textContent=t),e.hasAttribute("data-processed")&&e.querySelector("svg"))return!0;var r=e.getBoundingClientRect();return!!(r.width>0&&r.height>0&&"none"!==window.getComputedStyle(e).display&&"hidden"!==window.getComputedStyle(e).visibility)&&(mermaid.init(void 0,e),e.setAttribute("data-processed","true"),!0)}catch(t){return e.innerHTML='<div class="error-message">Error rendering diagram: '.concat(t.message,"</div>"),!1}},i="undefined"!=typeof IntersectionObserver,r.forEach(function(e){if(!n(e))if(i){new IntersectionObserver(function(t,r){t.forEach(function(t){t.isIntersecting&&(n(e),r.unobserve(t.target))})},{threshold:.01}).observe(e)}else{var t=new MutationObserver(function(t,r){n(e)&&r.disconnect()});t.observe(e,{attributes:!0,attributeFilter:["style","class"]}),e.parentElement&&t.observe(e.parentElement,{attributes:!0,attributeFilter:["style","class"]});var r=0,o=setInterval(function(){r++,(n(e)||r>=6)&&(clearInterval(o),t.disconnect())},200)}});case 4:return e.a(2)}},e)}))).apply(this,arguments)}function wt(){var e,t=document.getElementById("conversationSearch"),r=document.getElementById("closeSidebarBtn");t&&t.addEventListener("input",function(t){e&&clearTimeout(e),e=setTimeout(function(){Xe(t.target.value.trim())},300)});var n=document.getElementById("conversationFilterBtn"),i=document.getElementById("conversationFilterPopover");i&&i.addEventListener("click",function(e){e.stopPropagation()}),n&&i&&(n.addEventListener("click",function(e){e.stopPropagation(),i.classList.contains("hide")?(i.classList.remove("hide"),i.setAttribute("aria-hidden","false"),n.setAttribute("aria-expanded","true")):(i.classList.add("hide"),i.setAttribute("aria-hidden","true"),n.setAttribute("aria-expanded","false"))}),n.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n.click())}),document.addEventListener("click",function(e){i.classList.contains("hide")||i.contains(e.target)||e.target===n||(i.classList.add("hide"),i.setAttribute("aria-hidden","true"),n.setAttribute("aria-expanded","false"))}),document.addEventListener("keydown",function(e){"Escape"!==e.key||i.classList.contains("hide")||(i.classList.add("hide"),i.setAttribute("aria-hidden","true"),n.setAttribute("aria-expanded","false"))}));var o=document.getElementById("includeArchivedToggle");o&&(o.checked=!1,o.addEventListener("change",function(e){var t;C.currentPage=0,C.hasMoreConversations=!0,C.displayedConversations=[],Xe((null===(t=document.getElementById("conversationSearch"))||void 0===t?void 0:t.value.trim())||"")})),r&&r.addEventListener("click",Qe);var a=document.getElementById("newConversationSidebarBtn");a&&(k.ENABLE_NEW?a.addEventListener("click",function(e){if(e.stopPropagation(),N.isProcessing){var t;(t=x).showError.apply(t,T(R.OPERATION_IN_PROGRESS))}else{var r=document.getElementById("newConversationDialogOverlay");r&&r.classList.remove("hide"),window.innerWidth<=640&&Qe()}}):a.style.display="none");var s=document.querySelector(".chat-container"),c=document.querySelector(".conversations-toggle");!c&&s&&((c=document.createElement("button")).className="icon-button conversations-toggle",c.innerHTML='<i class="fas fa-comments"></i>',c.setAttribute("aria-label","Show conversations"),c.setAttribute("title",i18n.translate("showConversations")||"Show conversations"),c.addEventListener("click",function(){return Qe("open")}),s.appendChild(c));var l=document.getElementById("conversationListSidebar");if(l){var u=l.querySelector(".sidebar-expand-handle");u||((u=document.createElement("button")).className="sidebar-expand-handle",u.setAttribute("aria-label",i18n.translate("openConversations")||"Open conversations"),u.innerHTML='<svg class="sidebar-handle-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 5l8 7-8 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',u.addEventListener("click",function(e){e.stopPropagation(),Qe()}),l.appendChild(u));try{var d=document.querySelector(".chat-container");!1===k.SHOW_CONVERSATIONVIEW_ONLOAD?(l.classList.remove("open"),l.classList.add("collapsed"),d&&d.classList.remove("sidebar-open")):(l.classList.add("open"),l.classList.remove("collapsed"),d&&d.classList.add("sidebar-open"),$e())}catch(e){}}}function Et(e){try{e.entity_type;var t,r,n,i,o,a,s=e.theme,c=s||"light",l=!!s,u=(e.agent_id||e.Agent_Id||e.AGENT_ID||(null===(t=window)||void 0===t||null===(t=t.testConfig)||void 0===t?void 0:t.agent_id)||"").toString(),d=(e.team_id||e.Team_Id||e.TEAM_ID||(null===(r=window)||void 0===r||null===(r=r.testConfig)||void 0===r?void 0:r.team_id)||"").toString(),f=(e.agent_friendly_name||e.agentFriendlyName||e.agent_name||e.Agent_Name||e.AGENT_NAME||"").toString(),h={DEBUG:e.debug||!1,CURRENT_USER:e.current_user||"",TEAM_ID:d,AGENT_ID:u,AGENT_FRIENDLY_NAME:f,CONVERSATION_ID:e.conversation_id||"",THEME:c.toLowerCase(),HAS_EXPLICIT_THEME:l,LAYOUT:e.layout||"",ENABLE_ALLCONVERSATIONS:e.enable_allconversations,ENABLE_ARCHIVE:e.enable_archive,ENABLE_EXPORT:e.enable_export,ENABLE_LAYOUT:e.enable_layout,ENABLE_NEW:e.enable_new,SHOW_CONVERSATIONVIEW_ONLOAD:null===(n=null!==(i=null!==(o=e.show_conversationview_onload)&&void 0!==o?o:e.showConversationViewOnLoad)&&void 0!==i?i:null===(a=window)||void 0===a||null===(a=a.testConfig)||void 0===a?void 0:a.show_conversationview_onload)||void 0===n||n,DATABASETYPE:e.dbtype||"neo4j"},p=e.locale;p&&(h.LANGUAGE=p);var y=e.neo4j_uri||"";y.startsWith("neo4j://")||y.startsWith("neo4j+s://")||y.startsWith("https://")||(y="neo4j://".concat(y));var g=e.RefreshIntervalInSec,m=1e3*Number(g);(!Number.isFinite(m)||m<=0)&&(m=3e4),Object.assign(h,{NEO4J_CONFIG:{uri:y,username:e.neo4j_user||"",password:e.neo4j_password||"",database:e.neo4j_database||"neo4j",neo4j_serverauth:e.neo4j_serverauth||""},COSMOSDB_CONFIG:{endpoint:e.cosmosdb_endpoint||"",key:e.cosmosdb_key||"",db:e.cosmosdb_db||"",graph:e.cosmosdb_graph||"",partitionkeyproperty:e.cosmosdb_partitionkeyproperty||"",partitionkeyvalue:e.cosmosdb_partitionkeyvalue||""},MQTT_CONFIG:{hostname:e.mqtt_host||"",port:parseInt(e.mqtt_port)||1883,protocol:e.mqtt_protocol||"ws://",username:e.mqtt_username||"",password:e.mqtt_password||""},polling_interval:e.polling_interval||1e3,conversation_refresh_interval_ms:m,max_retries:e.max_retries||3}),Object.assign(k,h),utils.debugLog("[CONFIG] resolved AGENT_ID:",k.AGENT_ID),utils.debugLog("[CONFIG] resolved AGENT_FRIENDLY_NAME:",k.AGENT_FRIENDLY_NAME),utils.initialize(k),window.i18n&&!window.i18n.initialized&&k.LANGUAGE&&(utils.debugLog("Initializing i18n with language:",k.LANGUAGE),window.i18n.initialize(k.LANGUAGE)),window.localeUI&&!window.localeUI.initialized&&(utils.debugLog("Initializing LocaleUI service"),window.localeUI.initialize())}catch(e){throw e}}function St(){return _t.apply(this,arguments)}function _t(){return(_t=O(S().m(function e(){var t;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,B=i.M.classFactory(k,y,g),e.n=1,B.initialize();case 1:return utils.debugLog("Database service initialized successfully"),U=new p(k.MQTT_CONFIG),e.n=2,U.initialize();case 2:return utils.debugLog("MQTT connection manager initialized successfully"),e.a(2,!0);case 3:return e.p=3,e.v,(t=x).showError.apply(t,T(R.NETWORK_ERROR)),dt(),e.a(2,!1)}},e,null,[[0,3]])}))).apply(this,arguments)}function Tt(){return At.apply(this,arguments)}function At(){return(At=O(S().m(function e(){var t,r,n,i,o;return S().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,St();case 1:return k.AGENT_ID||(t=x).showError.apply(t,T(R.INIT_FAILED)),N.theme=k.THEME||"light",N.layout=k.LAYOUT||"standard","standard"!==N.layout&&it(N.layout),ft(N.theme),e.n=2,gt();case 2:if(!k.CONVERSATION_ID){e.n=7;break}return N.conversationId=k.CONVERSATION_ID,e.p=3,e.n=4,fe(N.conversationId);case 4:(r=e.v)&&r.title?N.conversationTitle=r.title:N.conversationTitle="Conversation ".concat((new Date).toLocaleString()),e.n=6;break;case 5:e.p=5,e.v,N.conversationTitle="Conversation ".concat((new Date).toLocaleString());case 6:e.n=10;break;case 7:return e.p=7,e.n=8,pe();case 8:(n=e.v)?(N.conversationId=n.id,N.conversationTitle=n.title):(N.conversationId=utils.generateUUID(),N.conversationTitle="Conversation ".concat((new Date).toLocaleString()),N.isNewConversation=!0),e.n=10;break;case 9:e.p=9,e.v,N.conversationId=utils.generateUUID(),N.conversationTitle="Conversation ".concat((new Date).toLocaleString()),N.isNewConversation=!0;case 10:if(!N.conversationId||N.isNewConversation){e.n=11;break}return e.n=11,Ie(N.conversationId);case 11:return e.n=12,H(N.conversationId);case 12:if(V(),ht(),k.ENABLE_ALLCONVERSATIONS&&(wt(),et()),dt(),e.p=13,!(i="split"===N.layout?document.getElementById("responses"):document.getElementById("chatMessages"))){e.n=14;break}return e.n=14,bt(i);case 14:e.n=16;break;case 15:e.p=15,e.v;case 16:return rt(),e.a(2,!0);case 17:return e.p=17,e.v,(o=x).showError.apply(o,T(R.INIT_FAILED)),dt(),e.a(2,!1)}},e,null,[[13,15],[7,9],[3,5],[0,17]])}))).apply(this,arguments)}function It(){var e=document.getElementById("archiveLabel"),t=document.getElementById("archiveConversationBtnAction");if(e)if(void 0===N.conversationActive||Boolean(N.conversationActive)){var r="Archive";try{if(window.i18n&&"function"==typeof i18n.translate){var n=i18n.translate("archiveConversation");n&&"archiveConversation"!==n&&(r=n)}}catch(e){}e.textContent=r,t&&(t.title=r)}else{var i="Restore conversation";try{if(window.i18n&&"function"==typeof i18n.translate){var o=i18n.translate("restoreConversation");o&&"restoreConversation"!==o&&(i=o)}}catch(e){}e.textContent=i,t&&(t.title=i)}}window.initialize=Tt,window.setLayout=it,window.sendMessage=X,window.clearChat=Pe,window.exportConversation=xe,window.handleSendButtonClick=ne,window.handleUserMessageClick=ot,window.toggleMessage=je,window.setTheme=ft,window.loadConfig=Et,window.onValueMappingLoaded=function(e){return F.apply(this,arguments)},window.showError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",r=document.getElementById("chatMessages");if(r){window._lastDisplayedErrors||(window._lastDisplayedErrors=new Map);var n=Date.now(),i=(e||"").toString().trim();if(r.querySelectorAll(".status-message, .error-message").forEach(function(e){try{var r=e.querySelector(".message-text"),n=r?r.textContent.trim():e.textContent.trim(),o=e.className.includes("critical")?"critical":e.className.includes("error")?"error":"";n!==i||o&&o!==t||e.remove()}catch(e){}}),!(n-(window._lastDisplayedErrors.get(i)||0)<2e3)){window._lastDisplayedErrors.set(i,n);var o=document.createElement("div");o.className="status-message ".concat(t),o.setAttribute("role","alert"),o.setAttribute("aria-live","critical"===t?"assertive":"polite");var a=document.createElement("div");a.className="message-text",a.textContent=e,o.appendChild(a);var s=document.createElement("button");s.className="close-button",s.setAttribute("aria-label","Close error message"),s.innerHTML='<i class="fas fa-times" aria-hidden="true"></i>',s.addEventListener("click",function(){o.remove()}),s.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),s.click())}),o.appendChild(s),r.appendChild(o),r.scrollTop=r.scrollHeight}}},window.showMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=document.querySelector(".profile-editor");if(n){var i=document.createElement("div");i.className="status-message ".concat(t),i.setAttribute("role","status"),i.textContent=e,n.insertBefore(i,n.firstChild),setTimeout(function(){i.parentNode&&i.remove()},r)}},window.CONFIG=k},5809:()=>{},5896:(e,t,r)=>{"use strict";const n=r(5606),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=r(6371),{Symbol:s}=r(4134),{kIsDestroyed:c,isDestroyed:l,isFinished:u,isServerRequest:d}=r(6115),f=s("kDestroy"),h=s("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function y(e,t,r){let i=!1;function o(t){if(i)return;i=!0;const o=e._readableState,a=e._writableState;p(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(g,e,t):n.nextTick(m,e)}try{e._destroy(t||null,o)}catch(t){o(t)}}function g(e,t){b(e,t),m(e)}function m(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function b(e,t){const r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function v(e,t,r){const i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(b,e,t):b(e,t))}function w(e){let t=!1;function r(r){if(t)return void v(e,null!=r?r:new o);t=!0;const i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(f,r):r?v(e,r,!0):n.nextTick(E,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function E(e){e.emit(h)}function S(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function _(e){e.emit("close")}function T(e,t){e.emit("error",t),n.nextTick(_,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(h,t),e.listenerCount(h)>1||n.nextTick(w,e)},destroyer:function(e,t){e&&!l(e)&&(t||u(e)||(t=new a),d(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(T,e,t):n.nextTick(_,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?y(this,e,t):this.once(f,function(r){y(this,i(r,e),t)}),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:v}},6078:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),{valueKey:i,LambdaSerializer:o}=r(474);e.exports=class{constructor(e){this.ioc=e,this.graphsonLambdaSerializer=new o}canBeUsedFor(e){return this.graphsonLambdaSerializer.canBeUsedFor(e)}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.LAMBDA,1]);const e=[0,0,0,0],r=[0,0,0,0],i=[0,0,0,0];return n.from([...e,...r,...i])}const r=[];t&&r.push(n.from([this.ioc.DataType.LAMBDA,0]));const o=this.graphsonLambdaSerializer.serialize(e),a=o[i].language,s=o[i].script,c=o[i].arguments;return r.push(this.ioc.stringSerializer.serialize(a,!1)),r.push(this.ioc.stringSerializer.serialize(s,!1)),r.push(this.ioc.intSerializer.serialize(c,!1)),n.concat(r)}}},6115:(e,t,r)=>{"use strict";const{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=r(4134),a=o("nodejs.stream.destroyed"),s=o("nodejs.stream.errored"),c=o("nodejs.stream.readable"),l=o("nodejs.stream.writable"),u=o("nodejs.stream.disturbed"),d=o("nodejs.webstream.isClosedPromise"),f=o("nodejs.webstream.controllerErrorFunction");function h(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function y(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function g(e){return!(!e||y(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function m(e){return!(!e||y(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function b(e){return!(!e||y(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function v(e){if(!y(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[a]||null!=n&&n.destroyed)}function w(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function E(e,t){if(!h(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function S(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!v(e)&&(h(e)&&e.readable&&!E(e))}function _(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!v(e)&&(p(e)&&e.writable&&!w(e))}function T(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function A(e){return"boolean"==typeof e._sent100&&T(e)}e.exports={isDestroyed:v,kIsDestroyed:a,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,r,n,i,o,a,c,l,u,d;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(a=e[s])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(l=e._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(d=e._writableState)||void 0===d?void 0:d.errored))},kIsErrored:s,isReadable:S,kIsReadable:c,kIsClosedPromise:d,kControllerErrorFunction:f,kIsWritable:l,isClosed:function(e){if(!y(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&T(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return y(e)?!!v(e)||(!1===(null==t?void 0:t.readable)||!S(e))&&(!1===(null==t?void 0:t.writable)||!_(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:h,isReadableStream:g,isReadableEnded:function(e){if(!h(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:E,isReadableErrored:function(e){var t,r;return y(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:y,isWebStream:function(e){return g(e)||m(e)||b(e)},isWritable:_,isWritableNodeStream:p,isWritableStream:m,isWritableEnded:w,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return y(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:A,willEmitClose:function(e){if(!y(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&A(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:b}},6140:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},6238:(e,t,r)=>{"use strict";const n=r(5606),{AbortError:i,codes:o}=r(6371),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:c,once:l}=r(7760),{validateAbortSignal:u,validateFunction:d,validateObject:f,validateBoolean:h}=r(277),{Promise:p,PromisePrototypeThen:y,SymbolDispose:g}=r(4134),{isClosed:m,isReadable:b,isReadableNodeStream:v,isReadableStream:w,isReadableFinished:E,isReadableErrored:S,isWritable:_,isWritableNodeStream:T,isWritableStream:A,isWritableFinished:I,isWritableErrored:O,isNodeStream:x,willEmitClose:R,kIsClosedPromise:k}=r(6115);let N;const C=()=>{};function L(e,t,o){var h,p;if(2===arguments.length?(o=t,t=c):null==t?t=c:f(t,"options"),d(o,"callback"),u(t.signal,"options.signal"),o=l(o),w(e)||A(e))return function(e,t,o){let a=!1,s=C;if(t.signal)if(s=()=>{a=!0,o.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(s);else{N=N||r(7760).addAbortListener;const n=N(t.signal,s),i=o;o=l((...t)=>{n[g](),i.apply(e,t)})}const c=(...t)=>{a||n.nextTick(()=>o.apply(e,t))};return y(e[k].promise,c,c),C}(e,t,o);if(!x(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const L=null!==(h=t.readable)&&void 0!==h?h:v(e),P=null!==(p=t.writable)&&void 0!==p?p:T(e),z=e._writableState,j=e._readableState,D=()=>{e.writable||U()};let M=R(e)&&v(e)===L&&T(e)===P,B=I(e,!1);const U=()=>{B=!0,e.destroyed&&(M=!1),(!M||e.readable&&!L)&&(L&&!F||o.call(e))};let F=E(e,!1);const G=()=>{F=!0,e.destroyed&&(M=!1),(!M||e.writable&&!P)&&(P&&!B||o.call(e))},V=t=>{o.call(e,t)};let H=m(e);const $=()=>{H=!0;const t=O(e)||S(e);return t&&"boolean"!=typeof t?o.call(e,t):L&&!F&&v(e,!0)&&!E(e,!1)?o.call(e,new s):!P||B||I(e,!1)?void o.call(e):o.call(e,new s)},q=()=>{H=!0;const t=O(e)||S(e);if(t&&"boolean"!=typeof t)return o.call(e,t);o.call(e)},W=()=>{e.req.on("finish",U)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?P&&!z&&(e.on("end",D),e.on("close",D)):(e.on("complete",U),M||e.on("abort",$),e.req?W():e.on("request",W)),M||"boolean"!=typeof e.aborted||e.on("aborted",$),e.on("end",G),e.on("finish",U),!1!==t.error&&e.on("error",V),e.on("close",$),H?n.nextTick($):null!=z&&z.errorEmitted||null!=j&&j.errorEmitted?M||n.nextTick(q):(L||M&&!b(e)||!B&&!1!==_(e))&&(P||M&&!_(e)||!F&&!1!==b(e))?j&&e.req&&e.aborted&&n.nextTick(q):n.nextTick(q);const Y=()=>{o=C,e.removeListener("aborted",$),e.removeListener("complete",U),e.removeListener("abort",$),e.removeListener("request",W),e.req&&e.req.removeListener("finish",U),e.removeListener("end",D),e.removeListener("close",D),e.removeListener("finish",U),e.removeListener("end",G),e.removeListener("error",V),e.removeListener("close",$)};if(t.signal&&!H){const a=()=>{const r=o;Y(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(a);else{N=N||r(7760).addAbortListener;const n=N(t.signal,a),i=o;o=l((...t)=>{n[g](),i.apply(e,t)})}}return Y}e.exports=L,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=c),null!==(r=t)&&void 0!==r&&r.cleanup&&(h(t.cleanup,"cleanup"),n=t.cleanup),new p((r,i)=>{const o=L(e,t,e=>{n&&o(),e?i(e):r()})})}},6284:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,r,n){return(r=function(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var o={_initialized:!1,_debugEnabled:!1,_config:null,initialize:function(e){var t;return this._initialized&&this._config?this._config=n(n({},this._config),e):this._config=e,this._debugEnabled=(null===(t=this._config)||void 0===t?void 0:t.DEBUG)||!1,this._initialized=!0,this.debugLog("Utils initialized with this locale:",this._config.LANGUAGE),this},debugLog:function(e){if(!this._initialized||this._debugEnabled){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i;if(r.length>0)(i=console).log.apply(i,["[DEBUG]",e].concat(r))}},getConfig:function(){return this._config},isInitialized:function(){return this._initialized},loadScript:function(e){return new Promise(function(t,r){var n=document.createElement("script");n.src=e,n.async=!0,n.onload=function(){return t()},n.onerror=function(){return r(new Error("Failed to load script: ".concat(e)))},document.head.appendChild(n)})},generateUUID:function(){if("undefined"!=typeof crypto&&crypto.randomUUID)return crypto.randomUUID();if("undefined"!=typeof crypto&&crypto.getRandomValues){var e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,Array.from(e).map(function(e){return e.toString(16).padStart(2,"0")}).join("").replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}for(var t=(new Date).getTime(),r="undefined"!=typeof performance&&performance.now?performance.now():0,n=function(){var e=1e4*Math.sin(t*r*Math.random());return Math.floor(256*(e-Math.floor(e)))},i=new Uint8Array(16),o=0;o<16;o++)i[o]=n();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,Array.from(i).map(function(e){return e.toString(16).padStart(2,"0")}).join("").replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}};e.exports&&(e.exports=o),window.utils=o},6348:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.TEXTP]=this}canBeUsedFor(e){return e instanceof i.TextP}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.TEXTP,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}const r=[];let i;return t&&r.push(n.from([this.ioc.DataType.TEXTP,0])),r.push(this.ioc.stringSerializer.serialize(e.operator,!1)),i=void 0===e.other||null===e.other?Array.isArray(e.value)?e.value:[e.value]:[e.value,e.other],r.push(this.ioc.listSerializer.serialize(i,!1)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.TEXTP)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u;try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{name}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.listSerializer.deserialize(o,!1)),r+=l}catch(e){throw e.message="{values}: "+e.message,e}if(o=o.slice(l),c.length<1)return{v:new i.TextP(""),len:r};const d=i.TextP[a];return u="function"==typeof d?d(...c):new i.TextP(a,...c),{v:u,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},6371:(e,t,r)=>{"use strict";const{format:n,inspect:i}=r(9231),{AggregateError:o}=r(4134),a=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u={};function d(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function h(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return d(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const i=(t.match(/%[dfijoOs]/g)||[]).length;return d(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,u[e]=i}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class y extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(e,t,r)=>{d("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],a=[],s=[];for(const e of t)d("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?o.push(e.toLowerCase()):l.test(e)?a.push(e):(d("object"!==e,'The value "object" should be written as "Object"'),s.push(e));if(a.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(n+=" or ")}if(a.length>0){switch(a.length){case 1:n+=`an instance of ${a[0]}`;break;case 2:n+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();n+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();n+=`one of ${s.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var u;if(null!==(u=r.constructor)&&void 0!==u&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{n+=`. Received ${i(r,{depth:-1})}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),h("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=i(t);n.length>128&&(n=n.slice(0,128)+"...");return`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`},TypeError),h("ERR_MISSING_ARGS",(...e)=>{let t;d(e.length>0,"At least one arg needs to be specified");const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;if(d(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32)n=f(String(r));else if("bigint"==typeof r){n=String(r);const e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=f(n)),n+="n"}else n=i(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:y,aggregateTwoErrors:p(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new a([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:p,codes:u}},6414:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(163);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.VERTEXPROPERTY]=this}canBeUsedFor(e){return e instanceof i.VertexProperty}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.VERTEXPROPERTY,1]):n.concat([this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.stringSerializer.serialize("",!1),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null)]);const r=[];return t&&r.push(n.from([this.ioc.DataType.VERTEXPROPERTY,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1)),r.push(this.ioc.anySerializer.serialize(e.value)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),r.push(this.ioc.anySerializer.serialize(e.properties)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=o.readUInt8();if(r++,e!==this.ioc.DataType.VERTEXPROPERTY)throw new Error("unexpected {type_code}");if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}let a,s,c,l,u,d,f,h,p;try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:c,len:l}=this.ioc.stringSerializer.deserialize(o,!1)),r+=l}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(l);try{({v:u,len:d}=this.ioc.anySerializer.deserialize(o)),r+=d}catch(e){throw e.message="{value}: "+e.message,e}o=o.slice(d);try{({len:f}=this.ioc.unspecifiedNullSerializer.deserialize(o)),r+=f}catch(e){throw e.message="{parent}: "+e.message,e}o=o.slice(f);try{({v:h,len:p}=this.ioc.anySerializer.deserialize(o)),r+=p}catch(e){throw e.message="{properties}: "+e.message,e}o=o.slice(p);const y=h||[];return{v:new i.VertexProperty(a,c,u,y),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},6524:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n}=r(4134);e.exports=o;const i=r(7382);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},6532:(e,t,r)=>{"use strict";const n=r(5606),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:a}=r(4134),{Buffer:s}=r(8287),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:l}=r(6371).codes;e.exports=function(e,t,r){let u,d;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])d=!0,u=t[o]();else{if(!t||!t[a])throw new c("iterable",["Iterable"],t);d=!1,u=t[a]()}const f=new e({objectMode:!0,highWaterMark:1,...r});let h=!1;return f._read=function(){h||(h=!0,async function(){for(;;){try{const{value:e,done:t}=d?await u.next():u.next();if(t)f.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw h=!1,new l;if(f.push(t))continue;h=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(e,t){i(async function(e){const t=null!=e,r="function"==typeof u.throw;if(t&&r){const{value:t,done:r}=await u.throw(e);if(await t,r)return}if("function"==typeof u.return){const{value:e}=await u.return();await e}}(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},f}},6579:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e}writeRequest({requestId:e,op:t,processor:r,args:i}){const o=[n.from([129]),this.ioc.uuidSerializer.serialize(e,!1),this.ioc.stringSerializer.serialize(t,!1),this.ioc.stringSerializer.serialize(r,!1),this.ioc.mapSerializer.serialize(i,!1)];return n.concat(o)}}},6580:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{get INT32_MIN(){return-2147483648}get INT32_MAX(){return 2147483647}constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.INT]=this}canBeUsedFor(e){return"number"==typeof e&&!(e<this.INT32_MIN||e>this.INT32_MAX)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.INT,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.INT,0]));const i=n.alloc(4);return i.writeInt32BE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.INT)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<4)throw new Error("unexpected {value} length");r+=4;return{v:i.readInt32BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},6653:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Neo4jHTTPSDatabaseService:()=>I});var n=r(1982);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,n,i,o){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return a(u,"_invoke",function(r,n,i){var o,a,s,l=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,a=0,s=e,f.n=r,c}};function h(r,n){for(a=r,s=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],h=f.p,p=o[2];r>3?(i=p===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(a=0,f.v=n,f.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,a=0))}if(i||r>1)return c;throw d=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),a=u,s=p;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(f.n=-1),h(a,s)):f.n=s:f.v=s);try{if(l=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=f.n<0)?s:r.call(n,f))!==c)break}catch(t){o=e,a=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),h=d.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=d,a(h,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(h),a(h,i,"Generator"),a(h,n,function(){return this}),a(h,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:p}})()}function a(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}a=function(e,t,r,n){function o(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},a(e,t,r,n)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)})}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var d=function(){return e=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t.uri)throw new Error("Invalid Neo4j configuration: URI is required");if(!(t.neo4j_serverauth||t.username&&t.password))throw new Error("Invalid Neo4j configuration: Either neo4j_serverauth OR both username and password must be provided");if(this.config=t,this.connectionRetryCount=0,this.maxRetries=3,this.baseUrl=this.config.uri,t.neo4j_serverauth)this.authHeader="Basic ".concat(t.neo4j_serverauth);else{var r="".concat(this.config.username,":").concat(this.config.password);this.authHeader="Basic ".concat(btoa(r))}},t=[{key:"executeQuery",value:(a=c(o().m(function e(t,r,n){var i,a,s,c,l,u,d;return o().w(function(e){for(;;)switch(e.n){case 0:return i={statement:t.replaceAll("\n"," "),parameters:r},a={Authorization:this.authHeader,"Content-Type":"application/json",Accept:"application/json"},n&&n.clusterAffinity&&(a["neo4j-cluster-affinity"]=n.clusterAffinity),s=n&&n.id?"".concat(this.baseUrl).concat(this.baseUrl.endsWith("/")?"":"/","tx/").concat(n.id):this.baseUrl,e.n=1,fetch(s,{method:"POST",headers:a,body:JSON.stringify(i)});case 1:if((c=e.v).ok){e.n=3;break}return e.n=2,c.text();case 2:throw l=e.v,new Error("Neo4j Query API Error: ".concat(c.status," ").concat(c.statusText," - ").concat(l));case 3:return e.n=4,c.json();case 4:if(!((u=e.v).errors&&Array.isArray(u.errors)&&u.errors.length>0)){e.n=5;break}throw d=u.errors[0],new Error("Neo4j Error [".concat(d.code,"]: ").concat(d.message));case 5:return e.a(2,u.data?u.data:null)}},e,this)})),function(e,t,r){return a.apply(this,arguments)})},{key:"startTransaction",value:(i=c(o().m(function e(){var t,r,n,i;return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fetch("".concat(this.baseUrl).concat(this.baseUrl.endsWith("/")?"":"/","tx"),{method:"POST",headers:{Authorization:this.authHeader,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});case 1:if((t=e.v).ok){e.n=3;break}return e.n=2,t.text();case 2:throw r=e.v,new Error("Neo4j Transaction Error: ".concat(t.status," ").concat(t.statusText," - ").concat(r));case 3:return e.n=4,t.json();case 4:return n=e.v,i=t.headers.get("neo4j-cluster-affinity"),e.a(2,{id:n.transaction.id,expires:n.transaction.expires,clusterAffinity:i,open:!0})}},e,this)})),function(){return i.apply(this,arguments)})},{key:"commitTransaction",value:(n=c(o().m(function e(t){var r,n;return o().w(function(e){for(;;)switch(e.n){case 0:if(t&&t.id){e.n=1;break}throw new Error("Invalid transaction information");case 1:if(t.open){e.n=2;break}return e.a(2);case 2:return e.n=3,fetch("".concat(this.baseUrl).concat(this.baseUrl.endsWith("/")?"":"/","tx/").concat(t.id,"/commit"),{method:"POST",headers:{Authorization:this.authHeader,"Content-Type":"application/json",Accept:"application/json","neo4j-cluster-affinity":t.clusterAffinity||""},body:JSON.stringify({})});case 3:if((r=e.v).ok){e.n=5;break}return e.n=4,r.text();case 4:throw n=e.v,new Error("Neo4j Commit Error: ".concat(r.status," ").concat(r.statusText," - ").concat(n));case 5:return e.n=6,r.json();case 6:e.v,t.open=!1;case 7:return e.a(2)}},e,this)})),function(e){return n.apply(this,arguments)})}],t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,i,a}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return m(l,"_invoke",function(r,n,i){var o,s,c,l=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,s=0,c=e,f.n=r,a}};function h(r,n){for(s=r,c=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],h=f.p,p=o[2];r>3?(i=p===n)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(s=0,f.v=n,f.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,s=0))}if(i||r>1)return a;throw d=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,c=p;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(f.n=-1),h(s,c)):f.n=c:f.v=c);try{if(l=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?c:r.call(n,f))!==a)break}catch(t){o=e,s=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(m(t={},n,function(){return this}),t),d=l.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,m(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,m(d,"constructor",l),m(l,"constructor",c),c.displayName="GeneratorFunction",m(l,i,"GeneratorFunction"),m(d),m(d,i,"Generator"),m(d,n,function(){return this}),m(d,"toString",function(){return"[object Generator]"}),(g=function(){return{w:o,m:f}})()}function m(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}m=function(e,t,r,n){function o(t,r){m(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},m(e,t,r,n)}function b(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function v(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){b(o,n,i,a,s,"next",e)}function s(e){b(o,n,i,a,s,"throw",e)}a(void 0)})}}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function E(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}function S(e,t,r){return t=T(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_()?Reflect.construct(t,r||[],T(e).constructor):t.apply(e,r))}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}var I=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=S(this,t,[e])).config=e,r.connectionManager=new d(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(t,e),r=t,n=[{key:"initialize",value:(h=v(g().m(function e(){return g().w(function(e){for(;;)switch(e.n){case 0:this.dbtype="neo4j";case 1:return e.a(2)}},e,this)})),function(){return h.apply(this,arguments)})},{key:"close",value:(f=v(g().m(function e(){return g().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)})),function(){return f.apply(this,arguments)})},{key:"startTransaction",value:(u=v(g().m(function e(){return g().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.connectionManager.startTransaction();case 1:return e.a(2,e.v)}},e,this)})),function(){return u.apply(this,arguments)})},{key:"endTransaction",value:(l=v(g().m(function e(){var t,r=arguments;return g().w(function(e){for(;;)switch(e.n){case 0:if(null==(t=r.length>0&&void 0!==r[0]?r[0]:null)){e.n=1;break}return e.n=1,this.connectionManager.commitTransaction(t);case 1:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})},{key:"executeInTransaction",value:(c=v(g().m(function e(t,r){var n;return g().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,r(t);case 1:return n=e.v,e.n=2,this.connectionManager.commitTransaction(t);case 2:return e.a(2,n);case 3:throw e.p=3,e.v;case 4:return e.a(2)}},e,this,[[0,3]])})),function(e,t){return c.apply(this,arguments)})},{key:"executeRead",value:(s=v(g().m(function e(t,r){var n,i,o,a,s=arguments;return g().w(function(e){for(;;)switch(e.n){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4&&void 0!==s[4]?s[4]:0,a=s.length>5&&void 0!==s[5]?s[5]:0,e.n=1,this.executeInternal(t,p(p({},r),{},{skip:o,limit:a}),n,i);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"executeWrite",value:(a=v(g().m(function e(t,r){var n,i=arguments;return g().w(function(e){for(;;)switch(e.n){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:null,e.n=1,this.executeInternal(t,r,n,!0);case 1:return e.a(2,e.v)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"executeInternal",value:(o=v(g().m(function e(t,r,n,i){var o,a;return g().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!n||n.id){e.n=1;break}throw new Error("Invalid transaction information");case 1:return e.p=1,utils.debugLog("Executing Neo4j query:\n".concat(t)),e.n=2,this.connectionManager.executeQuery(t,r,n);case 2:o=e.v,e.n=4;break;case 3:throw e.p=3,e.v;case 4:if(a=this.normaliseData(o),!i){e.n=6;break}if(!Array.isArray(a)){e.n=5;break}if(!(a.length>0)){e.n=5;break}return e.a(2,a[0]);case 5:return e.a(2,a);case 6:if(!Array.isArray(a)){e.n=7;break}return e.a(2,a);case 7:if(null==a){e.n=8;break}return e.a(2,[a]);case 8:return e.a(2,[]);case 9:return e.a(2)}},e,this,[[1,3]])})),function(e,t,r,n){return o.apply(this,arguments)})},{key:"normaliseData",value:function(e){var t,r,n=this;return e.fields&&e.fields.length>0?(r=e.fields.map(function(e){var t=e.lastIndexOf(".");return-1===t?e:e.substring(t+1)}),e.values&&(t=0===e.values.length?null:1===e.values.length?this.normaliseRecord(e.values[0],r):e.values.map(function(e){return n.normaliseRecord(e,r)})),t):null}},{key:"normaliseRecord",value:function(e,t){var r,n={};for(r=0;r<e.length;r++)null==e[r]?n[t[r]]=null:this.isDate(e[r])?n[t[r]]=new Date(e[r]):n[t[r]]=e[r];return n}},{key:"isDate",value:function(e){return"string"==typeof e&&/^\d{4}-\d{2}-\d{2}.*$/.test(e)}}],n&&w(r.prototype,n),i&&w(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,o,a,s,c,l,u,f,h}(n.M)},6665:(e,t,r)=>{"use strict";const n=r(5332),i=r(3335).TraversalStrategies,o=n.GraphTraversalSource,a=r(163).Graph;class s{constructor(e){this.traversalSourceClass=e}static traversal(e){return new s(e||o)}withRemote(e){return this.withGraph(new a).withRemote(e)}withGraph(e){return new this.traversalSourceClass(e,new i)}}e.exports=s},6706:(e,t,r)=>{const n=r(5606),i=r(8287),{isReadable:o,isWritable:a,isIterable:s,isNodeStream:c,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:d,isReadableStream:f,isWritableStream:h}=r(6115),p=r(6238),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:m}}=r(6371),{destroyer:b}=r(5896),v=r(3370),w=r(7576),E=r(8584),{createDeferredPromise:S}=r(7760),_=r(6532),T=globalThis.Blob||i.Blob,A=void 0!==T?function(e){return e instanceof T}:function(e){return!1},I=globalThis.AbortController||r(5568).AbortController,{FunctionPrototypeCall:O}=r(4134);class x extends v{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function R(e){const t=e.readable&&"function"!=typeof e.readable.read?w.wrap(e.readable):e.readable,r=e.writable;let n,i,s,c,l,u=!!o(t),d=!!a(r);function f(e){const t=c;c=null,t?t(e):e&&l.destroy(e)}return l=new x({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==r||!r.writableObjectMode),readable:u,writable:d}),d&&(p(r,e=>{d=!1,e&&b(t,e),f(e)}),l._write=function(e,t,i){r.write(e,t)?i():n=i},l._final=function(e){r.end(),i=e},r.on("drain",function(){if(n){const e=n;n=null,e()}}),r.on("finish",function(){if(i){const e=i;i=null,e()}})),u&&(p(t,e=>{u=!1,e&&b(t,e),f(e)}),t.on("readable",function(){if(s){const e=s;s=null,e()}}),t.on("end",function(){l.push(null)}),l._read=function(){for(;;){const e=t.read();if(null===e)return void(s=l._read);if(!l.push(e))return}}),l._destroy=function(e,o){e||null===c||(e=new y),s=null,n=null,i=null,null===c?o(e):(c=o,b(r,e),b(t,e))},l}e.exports=function e(t,r){if(d(t))return t;if(l(t))return R({readable:t});if(u(t))return R({writable:t});if(c(t))return R({writable:!1,readable:!1});if(f(t))return R({readable:w.fromWeb(t)});if(h(t))return R({writable:E.fromWeb(t)});if("function"==typeof t){const{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:r}=S();const i=new I,o=i.signal,a=e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:a,cb:s}=await e;if(n.nextTick(s),a)return;if(o.aborted)throw new y(void 0,{cause:o.reason});({promise:t,resolve:r}=S()),yield i}}(),{signal:o});return{value:a,write(e,t,n){const i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return _(x,e,{objectMode:!0,write:i,final:o,destroy:a});const c=null==e?void 0:e.then;if("function"==typeof c){let t;const r=O(c,e,e=>{if(null!=e)throw new m("nully","body",e)},e=>{b(t,e)});return t=new x({objectMode:!0,readable:!1,write:i,final(e){o(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:a})}throw new m("Iterable, AsyncIterable or AsyncFunction",r,e)}if(A(t))return e(t.arrayBuffer());if(s(t))return _(x,t,{objectMode:!0,writable:!1});if(f(null==t?void 0:t.readable)&&h(null==t?void 0:t.writable))return x.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable)){return R({readable:null!=t&&t.readable?l(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?u(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0})}const i=null==t?void 0:t.then;if("function"==typeof i){let e;return O(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{b(e,t)}),e=new x({objectMode:!0,writable:!1,read(){}})}throw new g(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},6792:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7037))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=o},6980:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports={des_error:({serializer:e,args:t,cursor:r,err:i})=>{void 0===r&&(r=t[0]);let o="";r instanceof n&&(r.length>32&&(o="..."),r=r.slice(0,32).toString("hex"));const a=t[1],s=t[2];let c=`${e.constructor.name}.deserialize(cursor=${r}${o}`;return void 0!==a&&(c+=`, fullyQualifiedFormat=${a}`),void 0!==s&&(c+=`, nullable=${s}`),c+=`): ${i.message.replace(/\.$/,"")}.`,i.message=c,i}}},7007:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,r)}(e,i,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,o,a;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,console&&console.warn}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var l=c.length,u=p(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7037:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7656))&&n.__esModule?n:{default:n};var o=function(e){return"string"==typeof e&&i.default.test(e)};t.default=o},7092:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e}canBeUsedFor(){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.LONG,1]):n.from([0,0,0,0,0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.LONG,0]));const i=n.alloc(8);return i.writeBigInt64BE(BigInt(e)),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.LONG)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw new Error("unexpected {value} length");r+=8;return{v:i.readBigInt64BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7100:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return Array.isArray(e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ID,0]));let i=e.length;if(i<0&&(i=0),i>this.ioc.intSerializer.INT32_MAX)throw new Error(`Array length=${i} is greater than supported max_length=${this.ioc.intSerializer.INT32_MAX}.`);r.push(this.ioc.intSerializer.serialize(i,!1));for(let t=0;t<i;t++)r.push(this.ioc.anySerializer.serialize(e[t]));return n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ID)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");i=i.slice(a);const s=[];for(let e=0;e<o;e++){let t,n;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}}: `+t.message,t}i=i.slice(n),s.push(t)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7135:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.UNSPECIFIED_NULL]=this}canBeUsedFor(e){return null==e}serialize(e){return n.from([this.ioc.DataType.UNSPECIFIED_NULL,1])}deserialize(e){let t=0,r=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");const i=r.readUInt8();if(t++,i!==this.ioc.DataType.UNSPECIFIED_NULL)throw new Error("unexpected {type_code}");if(r=r.slice(1),r.length<1)throw new Error("{value_flag} is missing");const o=r.readUInt8();if(t++,1!==o)throw new Error("unexpected {value_flag}");return r=r.slice(1),{v:null,len:t}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:r,err:e})}}}},7186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(9025)),i=o(r(9042));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v5",80,i.default);t.default=a},7240:(e,t,r)=>{"use strict";const n=r(5737),i=n.RemoteConnection,o=n.RemoteTraversal,a=r(1104),s=r(7545),c=r(9032),l=r(3335).OptionsStrategy;class u extends i{constructor(e,t={}){super(e,t),this._client=new s(e,t)}open(){return this._client.open()}get isOpen(){return this._client.isOpen}submit(e){const t=e.sourceInstructions.find(e=>"withStrategies"===e[0]&&e[1]instanceof l),r=["evaluationTimeout","scriptEvaluationTimeout","batchSize","requestId","userAgent","materializeProperties"];let n;if(void 0!==t){n={};const e=t[1].configuration;for(const t in e)e.hasOwnProperty(t)&&r.indexOf(t)>-1&&(n[t]=e[t])}return this._client.submit(e,null,n).then(e=>new o(e.toArray()))}createSession(){if(this.isSessionBound)throw new Error("Connection is already bound to a session - child sessions are not allowed");const e=Object.assign({},this.options);return e.session=a.getUuid(),new u(this.url,e)}get isSessionBound(){return this.options.session}commit(){return this._client.submit(c.GraphOp.commit,null)}rollback(){return this._client.submit(c.GraphOp.rollback,null)}close(){return this._client.close()}addListener(...e){return this._client.addListener(...e)}removeListener(...e){return this._client.removeListener(...e)}}e.exports=u},7286:e=>{"use strict";class t extends Error{constructor(e,t){super(e),this.name="ResponseError",this.statusCode=t.code,this.statusMessage=t.message,this.statusAttributes=t.attributes||{}}}e.exports=t},7382:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n,Symbol:i}=r(4134);e.exports=l;const{ERR_METHOD_NOT_IMPLEMENTED:o}=r(6371).codes,a=r(3370),{getHighWaterMark:s}=r(5291);n(l.prototype,a.prototype),n(l,a);const c=i("kCallback");function l(e){if(!(this instanceof l))return new l(e);const t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function u(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())})}function d(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(e,t,r){throw new o("_transform()")},l.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[c]=r)})},l.prototype._read=function(){if(this[c]){const e=this[c];this[c]=null,e()}}},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=s(e),a=o[0],c=o[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,c)),u=0,d=c>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function l(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(c(n));return i.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7545:(e,t,r)=>{"use strict";const n=r(1104),i=r(4074),o=r(9032);e.exports=class{constructor(e,t={}){this._options=t,"session"===this._options.processor&&(this._options.session=t.session||n.getUuid()),this._options.session&&(this._options.processor=t.processor||"session"),this._connection=new i(e,t)}open(){return this._connection.open()}get isOpen(){return this._connection.isOpen}submit(e,t,r){const n=r&&r.requestId;n&&delete r.requestId;const i=Object.assign({gremlin:e,aliases:{g:this._options.traversalSource||"g"}},r);if(this._options.session&&"session"===this._options.processor&&(i.session=this._options.session),e instanceof o)return this._options.session&&"session"===this._options.processor?this._connection.submit("session","bytecode",i,n):this._connection.submit("traversal","bytecode",i,n);if("string"==typeof e)return i.bindings=t,i.language="gremlin-groovy",i.accept=this._connection.mimeType,this._connection.submit(this._options.processor||"","eval",i,n);throw new TypeError("message must be of type Bytecode or string")}stream(e,t,r){const n=r&&r.requestId;n&&delete r.requestId;const i=Object.assign({gremlin:e,aliases:{g:this._options.traversalSource||"g"}},r);if(this._options.session&&"session"===this._options.processor&&(i.session=this._options.session),e instanceof o)return this._options.session&&"session"===this._options.processor?this._connection.stream("session","bytecode",i,n):this._connection.stream("traversal","bytecode",i,n);if("string"==typeof e)return i.bindings=t,i.language="gremlin-groovy",i.accept=this._connection.mimeType,this._connection.stream(this._options.processor||"","eval",i,n);throw new TypeError("message must be of type Bytecode or string")}close(){if(this._options.session&&"session"===this._options.processor){const e={session:this._options.session};return this._connection.submit(this._options.processor,"close",e,null).then(()=>this._connection.close())}return this._connection.close()}addListener(e,t){this._connection.on(e,t)}removeListener(e,t){this._connection.removeListener(e,t)}}},7576:(e,t,r)=>{"use strict";const n=r(5606),{ArrayPrototypeIndexOf:i,NumberIsInteger:o,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:c,ObjectKeys:l,ObjectSetPrototypeOf:u,Promise:d,SafeSet:f,SymbolAsyncDispose:h,SymbolAsyncIterator:p,Symbol:y}=r(4134);e.exports=W,W.ReadableState=q;const{EventEmitter:g}=r(7007),{Stream:m,prependListener:b}=r(4259),{Buffer:v}=r(8287),{addAbortSignal:w}=r(4147),E=r(6238);let S=r(7760).debuglog("stream",e=>{S=e});const _=r(345),T=r(5896),{getHighWaterMark:A,getDefaultHighWaterMark:I}=r(5291),{aggregateTwoErrors:O,codes:{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:k,ERR_STREAM_PUSH_AFTER_EOF:N,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:C},AbortError:L}=r(6371),{validateObject:P}=r(277),z=y("kPaused"),{StringDecoder:j}=r(3141),D=r(6532);u(W.prototype,m.prototype),u(W,m);const M=()=>{},{errorOrDestroy:B}=T,U=1,F=16,G=32,V=2048,H=4096;function $(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function q(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(3370)),this.state=V|H|F|G,e&&e.objectMode&&(this.state|=U),n&&e&&e.readableObjectMode&&(this.state|=U),this.highWaterMark=e?A(this,e,"readableHighWaterMark",n):I(!1),this.buffer=new _,this.length=0,this.pipes=[],this.flowing=null,this[z]=null,e&&!1===e.emitClose&&(this.state&=~V),e&&!1===e.autoDestroy&&(this.state&=~H),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new j(e.encoding),this.encoding=e.encoding)}function W(e){if(!(this instanceof W))return new W(e);const t=this instanceof r(3370);this._readableState=new q(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),m.call(this,e),T.construct(this,()=>{this._readableState.needReadable&&Z(this,this._readableState)})}function Y(e,t,r,n){S("readableAddChunk",t);const i=e._readableState;let o;if(0===(i.state&U)&&("string"==typeof t?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=v.from(t,r).toString(i.encoding):(t=v.from(t,r),r=""))):t instanceof v?r="":m._isUint8Array(t)?(t=m._uint8ArrayToBuffer(t),r=""):null!=t&&(o=new x("chunk",["string","Buffer","Uint8Array"],t))),o)B(e,o);else if(null===t)i.state&=-9,function(e,t){if(S("onEofChunk"),t.ended)return;if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?J(e):(t.needReadable=!1,t.emittedReadable=!0,K(e))}(e,i);else if(0!==(i.state&U)||t&&t.length>0)if(n)if(4&i.state)B(e,new C);else{if(i.destroyed||i.errored)return!1;Q(e,i,t,!0)}else if(i.ended)B(e,new N);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?Q(e,i,t,!1):Z(e,i)):Q(e,i,t,!1)}else n||(i.state&=-9,Z(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function Q(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(65536&t.state?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),64&t.state&&J(e)),Z(e,t)}c(q.prototype,{objectMode:$(U),ended:$(2),endEmitted:$(4),reading:$(8),constructed:$(F),sync:$(G),needReadable:$(64),emittedReadable:$(128),readableListening:$(256),resumeScheduled:$(512),errorEmitted:$(1024),emitClose:$(V),autoDestroy:$(H),destroyed:$(8192),closed:$(16384),closeEmitted:$(32768),multiAwaitDrain:$(65536),readingMore:$(1<<17),dataEmitted:$(1<<18)}),W.prototype.destroy=T.destroy,W.prototype._undestroy=T.undestroy,W.prototype._destroy=function(e,t){t(e)},W.prototype[g.captureRejectionSymbol]=function(e){this.destroy(e)},W.prototype[h]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new L,this.destroy(e)),new d((t,r)=>E(this,n=>n&&n!==e?r(n):t(null)))},W.prototype.push=function(e,t){return Y(this,e,t,!1)},W.prototype.unshift=function(e,t){return Y(this,e,t,!0)},W.prototype.isPaused=function(){const e=this._readableState;return!0===e[z]||!1===e.flowing},W.prototype.setEncoding=function(e){const t=new j(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};function X(e,t){return e<=0||0===t.length&&t.ended?0:0!==(t.state&U)?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function J(e){const t=e._readableState;S("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(S("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(K,e))}function K(e){const t=e._readableState;S("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ie(e)}function Z(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(S("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function te(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[z]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function re(e){S("readable nexttick read 0"),e.read(0)}function ne(e,t){S("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ie(e),t.flowing&&!t.reading&&e.read(0)}function ie(e){const t=e._readableState;for(S("flow",t.flowing);t.flowing&&null!==e.read(););}function oe(e,t){"function"!=typeof e.read&&(e=W.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=M;function i(t){this===e?(n(),n=M):n=t}e.on("readable",i);const o=E(e,{writable:!1},e=>{r=e?O(r,e):null,n(),n=M});try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new d(i)}}}catch(e){throw r=O(r,e),r}finally{!r&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",i),o()):T.destroyer(e,null)}}(e,t);return r.stream=e,r}function ae(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function se(e){const t=e._readableState;S("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(ce,t,e))}function ce(e,t){if(S("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(le,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function le(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let ue;function de(){return void 0===ue&&(ue={}),ue}W.prototype.read=function(e){S("read",e),void 0===e?e=NaN:o(e)||(e=s(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new k("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return S("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?se(this):J(this),null;if(0===(e=X(e,t))&&t.ended)return 0===t.length&&se(this),null;let n,i=!!(64&t.state);if(S("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,S("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,S("reading, ended or constructing",i);else if(i){S("do read"),t.state|=8|G,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(e){B(this,e)}t.state&=~G,t.reading||(e=X(r,t))}return n=e>0?ae(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&se(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},W.prototype._read=function(e){throw new R("_read()")},W.prototype.pipe=function(e,t){const r=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new f(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),S("pipe count=%d opts=%j",i.pipes.length,t);const o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?s:g;function a(t,n){S("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,function(){S("cleanup"),e.removeListener("close",p),e.removeListener("finish",y),c&&e.removeListener("drain",c);e.removeListener("error",h),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",g),r.removeListener("data",d),l=!0,c&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&c()}())}function s(){S("onend"),e.end()}let c;i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",a);let l=!1;function u(){l||(1===i.pipes.length&&i.pipes[0]===e?(S("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(S("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),r.pause()),c||(c=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(S("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(S("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",c))}function d(t){S("ondata");const r=e.write(t);S("dest.write",r),!1===r&&u()}function h(t){if(S("onerror",t),g(),e.removeListener("error",h),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?B(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",y),g()}function y(){S("onfinish"),e.removeListener("close",p),g()}function g(){S("unpipe"),r.unpipe(e)}return r.on("data",d),b(e,"error",h),e.once("close",p),e.once("finish",y),e.emit("pipe",r),!0===e.writableNeedDrain?u():i.flowing||(S("pipe resume"),r.resume()),e},W.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=i(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},W.prototype.on=function(e,t){const r=m.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,S("on readable",i.length,i.reading),i.length?J(this):i.reading||n.nextTick(re,this))),r},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(e,t){const r=m.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(te,this),r},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(e){const t=m.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(te,this),t},W.prototype.resume=function(){const e=this._readableState;return e.flowing||(S("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(ne,e,t))}(this,e)),e[z]=!1,this},W.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[z]=!0,this},W.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{B(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=l(e);for(let t=1;t<r.length;t++){const n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},W.prototype[p]=function(){return oe(this)},W.prototype.iterator=function(e){return void 0!==e&&P(e,"options"),oe(this,e)},c(W.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(q.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[z]},set(e){this[z]=!!e}}}),W._fromList=ae,W.from=function(e,t){return D(W,e,t)},W.fromWeb=function(e,t){return de().newStreamReadableFromReadableStream(e,t)},W.toWeb=function(e,t){return de().newReadableStreamFromStreamReadable(e,t)},W.wrap=function(e,t){var r,n;return new W({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){T.destroyer(e,t),r(t)}}).wrap(e)}},7656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},7758:(e,t,r)=>{const n=r(5606),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:a,SymbolDispose:s}=r(4134),c=r(6238),{once:l}=r(7760),u=r(5896),d=r(3370),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:y,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:b}=r(6371),{validateFunction:v,validateAbortSignal:w}=r(277),{isIterable:E,isReadable:S,isReadableNodeStream:_,isNodeStream:T,isTransformStream:A,isWebStream:I,isReadableStream:O,isReadableFinished:x}=r(6115),R=globalThis.AbortController||r(5568).AbortController;let k,N,C;function L(e,t,r){let n=!1;e.on("close",()=>{n=!0});return{destroy:t=>{n||(n=!0,u.destroyer(e,t||new g("pipe")))},cleanup:c(e,{readable:t,writable:r},e=>{n=!e})}}function P(e){if(E(e))return e;if(_(e))return async function*(e){N||(N=r(7576));yield*N.prototype[a].call(e)}(e);throw new h("val",["Readable","Iterable","AsyncIterable"],e)}async function z(e,t,r,{end:n}){let i,a=null;const s=e=>{if(e&&(i=e),a){const e=a;a=null,e()}},l=()=>new o((e,t)=>{i?t(i):a=()=>{i?t(i):e()}});t.on("drain",s);const u=c(t,{readable:!1},s);try{t.writableNeedDrain&&await l();for await(const r of e)t.write(r)||await l();n&&(t.end(),await l()),r()}catch(e){r(i!==e?f(i,e):e)}finally{u(),t.off("drain",s)}}async function j(e,t,r,{end:n}){A(t)&&(t=t.writable);const i=t.getWriter();try{for await(const t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function D(e,t,o){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new y("streams");const a=new R,c=a.signal,l=null==o?void 0:o.signal,u=[];function f(){U(new b)}let g,m,v;w(l,"options.signal"),C=C||r(7760).addAbortListener,l&&(g=C(l,f));const x=[];let N,D=0;function B(e){U(e,0===--D)}function U(e,r){var i;if(!e||m&&"ERR_STREAM_PREMATURE_CLOSE"!==m.code||(m=e),m||r){for(;x.length;)x.shift()(m);null===(i=g)||void 0===i||i[s](),a.abort(),r&&(m||u.forEach(e=>e()),n.nextTick(t,m,v))}}for(let H=0;H<e.length;H++){const $=e[H],q=H<e.length-1,W=H>0,Y=q||!1!==(null==o?void 0:o.end),Q=H===e.length-1;if(T($)){if(Y){const{destroy:X,cleanup:J}=L($,q,W);x.push(X),S($)&&Q&&u.push(J)}function F(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&B(e)}$.on("error",F),S($)&&Q&&u.push(()=>{$.removeListener("error",F)})}if(0===H)if("function"==typeof $){if(N=$({signal:c}),!E(N))throw new p("Iterable, AsyncIterable or Stream","source",N)}else N=E($)||_($)||A($)?$:d.from($);else if("function"==typeof $){var G;if(A(N))N=P(null===(G=N)||void 0===G?void 0:G.readable);else N=P(N);if(N=$(N,{signal:c}),q){if(!E(N,!0))throw new p("AsyncIterable",`transform[${H-1}]`,N)}else{var V;k||(k=r(6524));const K=new k({objectMode:!0}),Z=null===(V=N)||void 0===V?void 0:V.then;if("function"==typeof Z)D++,Z.call(N,e=>{v=e,null!=e&&K.write(e),Y&&K.end(),n.nextTick(B)},e=>{K.destroy(e),n.nextTick(B,e)});else if(E(N,!0))D++,z(N,K,B,{end:Y});else{if(!O(N)&&!A(N))throw new p("AsyncIterable or Promise","destination",N);{const re=N.readable||N;D++,z(re,K,B,{end:Y})}}N=K;const{destroy:ee,cleanup:te}=L(N,!1,!0);x.push(ee),Q&&u.push(te)}}else if(T($)){if(_(N)){D+=2;const ne=M(N,$,B,{end:Y});S($)&&Q&&u.push(ne)}else if(A(N)||O(N)){const ie=N.readable||N;D++,z(ie,$,B,{end:Y})}else{if(!E(N))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],N);D++,z(N,$,B,{end:Y})}N=$}else if(I($)){if(_(N))D++,j(P(N),$,B,{end:Y});else if(O(N)||E(N))D++,j(N,$,B,{end:Y});else{if(!A(N))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],N);D++,j(N.readable,$,B,{end:Y})}N=$}else N=d.from($)}return(null!=c&&c.aborted||null!=l&&l.aborted)&&n.nextTick(f),N}function M(e,t,r,{end:i}){let o=!1;if(t.on("close",()=>{o||r(new m)}),e.pipe(t,{end:!1}),i){function a(){o=!0,t.end()}x(e)?n.nextTick(a):e.once("end",a)}else r();return c(e,{readable:!0,writable:!1},t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),c(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:D,pipeline:function(...e){return D(e,l(function(e){return v(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},7760:(e,t,r)=>{"use strict";const n=r(8287),{format:i,inspect:o}=r(9231),{codes:{ERR_INVALID_ARG_TYPE:a}}=r(6371),{kResistStopPropagation:s,AggregateError:c,SymbolDispose:l}=r(4134),u=globalThis.AbortSignal||r(5568).AbortSignal,d=globalThis.AbortController||r(5568).AbortController,f=Object.getPrototypeOf(async function(){}).constructor,h=globalThis.Blob||n.Blob,p=void 0!==h?function(e){return e instanceof h}:function(e){return!1},y=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new a(t,"AbortSignal",e)};e.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:i,inspect:o,types:{isAsyncFunction:e=>e instanceof f,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:p,deprecate:(e,t)=>e,addAbortListener:r(7007).addAbortListener||function(e,t){if(void 0===e)throw new a("signal","AbortSignal",e);let r;return y(e,"signal"),((e,t)=>{if("function"!=typeof e)throw new a(t,"Function",e)})(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[l](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:u.any||function(e){if(1===e.length)return e[0];const t=new d,r=()=>t.abort();return e.forEach(e=>{y(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},7765:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BULKSET]=this}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BULKSET)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");i=i.slice(a);let s=new Array;for(let e=0;e<o;e++){let t,n,o,a;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}} value: `+t.message,t}i=i.slice(n);try{({v:o,len:a}=this.ioc.longSerializer.deserialize(i,!1)),r+=a}catch(t){throw t.message=`{item_${e}} bulk: `+t.message,t}if(o<0)throw new Error(`{item_${e}}: bulk is less than zero`);if(o>4294967295)throw new Error(`{item_${e}}: bulk is greater than 2^32-1`);i=i.slice(a),o=Number(o);const c=new Array(o).fill(t);s=s.concat(c)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7775:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7037))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},7777:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTEBUFFER]=this}canBeUsedFor(e){return e instanceof n}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BYTEBUFFER,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.BYTEBUFFER,0]));let i=e.length;if(i<0&&(i=0),i>this.ioc.intSerializer.INT32_MAX)throw new Error(`Buffer length=${i} is greater than supported max_length=${this.ioc.intSerializer.INT32_MAX}.`);return r.push(this.ioc.intSerializer.serialize(i,!1)),r.push(e),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.BYTEBUFFER)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");if(i=i.slice(a),o!==i.length)throw new Error(`{value}: unexpected actual {value} length=${i.length} when {length}=${o}`);const s=i.slice(0,o);return r+=o,{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},7830:(e,t,r)=>{"use strict";const{pipeline:n}=r(7758),i=r(3370),{destroyer:o}=r(5896),{isNodeStream:a,isReadable:s,isWritable:c,isWebStream:l,isTransformStream:u,isWritableStream:d,isReadableStream:f}=r(6115),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:y}}=r(6371),g=r(6238);e.exports=function(...e){if(0===e.length)throw new y("streams");if(1===e.length)return i.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=i.from(e[t])}for(let r=0;r<e.length;++r)if(a(e[r])||l(e[r])){if(r<e.length-1&&!(s(e[r])||f(e[r])||u(e[r])))throw new p(`streams[${r}]`,t[r],"must be readable");if(r>0&&!(c(e[r])||d(e[r])||u(e[r])))throw new p(`streams[${r}]`,t[r],"must be writable")}let r,m,b,v,w;const E=e[0],S=n(e,function(e){const t=v;v=null,t?t(e):e?w.destroy(e):T||_||w.destroy()}),_=!!(c(E)||d(E)||u(E)),T=!!(s(S)||f(S)||u(S));if(w=new i({writableObjectMode:!(null==E||!E.writableObjectMode),readableObjectMode:!(null==S||!S.readableObjectMode),writable:_,readable:T}),_){if(a(E))w._write=function(e,t,n){E.write(e,t)?n():r=n},w._final=function(e){E.end(),m=e},E.on("drain",function(){if(r){const e=r;r=null,e()}});else if(l(E)){const e=(u(E)?E.writable:E).getWriter();w._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},w._final=async function(t){try{await e.ready,e.close().catch(()=>{}),m=t}catch(e){t(e)}}}const e=u(S)?S.readable:S;g(e,()=>{if(m){const e=m;m=null,e()}})}if(T)if(a(S))S.on("readable",function(){if(b){const e=b;b=null,e()}}),S.on("end",function(){w.push(null)}),w._read=function(){for(;;){const e=S.read();if(null===e)return void(b=w._read);if(!w.push(e))return}};else if(l(S)){const e=(u(S)?S.readable:S).getReader();w._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!w.push(t))return;if(r)return void w.push(null)}catch{return}}}return w._destroy=function(e,t){e||null===v||(e=new h),b=null,r=null,m=null,null===v?t(e):(v=t,a(S)&&o(S,e))},w}},8095:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.MAP]=this}canBeUsedFor(e){return null!=e&&(e instanceof Map||!Array.isArray(e)&&"object"==typeof e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.MAP,1]):this.ioc.intSerializer.serialize(0,!1);const r=e instanceof Map,i=r?Array.from(e.keys()):Object.keys(e);let o=i.length;o<0?o=0:o>this.ioc.intSerializer.INT32_MAX&&(o=this.ioc.intSerializer.INT32_MAX);const a=[];t&&a.push(n.from([this.ioc.DataType.MAP,0])),a.push(this.ioc.intSerializer.serialize(o,!1));for(let t=0;t<o;t++){const n=i[t],o=r?e.get(n):e[n];a.push(this.ioc.anySerializer.serialize(n),this.ioc.anySerializer.serialize(o))}return n.concat(a)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.MAP)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}let o,a;try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw new Error("{length} is less than zero");i=i.slice(a);const s=new Map;for(let e=0;e<o;e++){let t,n,o,a;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}} key: `+t.message,t}i=i.slice(n);try{({v:o,len:a}=this.ioc.anySerializer.deserialize(i)),r+=a}catch(t){throw t.message=`{item_${e}} value: `+t.message,t}i=i.slice(a),s.set(t,o)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},8209:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,n,i,o){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return a(u,"_invoke",function(r,n,i){var o,a,s,l=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return o=t,a=0,s=e,f.n=r,c}};function h(r,n){for(a=r,s=n,t=0;!d&&l&&!i&&t<u.length;t++){var i,o=u[t],h=f.p,p=o[2];r>3?(i=p===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=h&&((i=r<2&&h<o[1])?(a=0,f.v=n,f.n=o[1]):h<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,f.n=p,a=0))}if(i||r>1)return c;throw d=!0,n}return function(i,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),a=u,s=p;(t=a<2?e:s)||!d;){o||(a?a<3?(a>1&&(f.n=-1),h(a,s)):f.n=s:f.v=s);try{if(l=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(d=f.n<0)?s:r.call(n,f))!==c)break}catch(t){o=e,a=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,i,o),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),h=d.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=d,a(h,"constructor",d),a(d,"constructor",u),u.displayName="GeneratorFunction",a(d,i,"GeneratorFunction"),a(h),a(h,i,"Generator"),a(h,n,function(){return this}),a(h,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:p}})()}function a(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}a=function(e,t,r,n){function o(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},a(e,t,r,n)}function s(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)})}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var d=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialized=!1,this.dynamicElements=new Set,this.translationQueue=new Set,this.translationScheduled=!1},n=[{key:"initializeEventListeners",value:function(){var e=this;i18n.on("localeChanged",function(t){e.updatePageLocalization(t)}),document.querySelectorAll(".locale-option").forEach(function(t){t.addEventListener("click",function(){var t=c(o().m(function t(r){var n;return o().w(function(t){for(;;)switch(t.n){case 0:return n=r.currentTarget.getAttribute("data-locale"),t.n=1,e.handleLocaleChange(n);case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}())})}},{key:"handleLocaleChange",value:(a=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!this.isChangingLocale){e.n=1;break}return e.a(2);case 1:return e.p=1,this.isChangingLocale=!0,document.body.classList.add("changing-locale"),e.n=2,i18n.setLocale(t);case 2:if(e.v){e.n=3;break}throw new Error("Failed to load locale: ".concat(t));case 3:e.n=5;break;case 4:e.p=4,e.v,showError("Failed to change language settings");case 5:return e.p=5,this.isChangingLocale=!1,document.body.classList.remove("changing-locale"),e.f(5);case 6:return e.a(2)}},e,this,[[1,4,5,6]])})),function(e){return a.apply(this,arguments)})},{key:"initializeDynamicElements",value:function(){var e=this;this.dynamicElements=new Set([].concat(r(document.querySelectorAll("[data-i18n]")),r(document.querySelectorAll("[data-i18n-placeholder]")),r(document.querySelectorAll("[data-i18n-aria-label]")),r(document.querySelectorAll("[data-i18n-title]")),r(document.querySelectorAll("[data-i18n-dynamic]")),r(document.querySelectorAll("[data-i18n-date]")),r(document.querySelectorAll("[data-i18n-params]")))),new MutationObserver(function(t){t.forEach(function(t){if("childList"===t.type)t.addedNodes.forEach(function(t){if(t.nodeType===Node.ELEMENT_NODE){var r=[];(t.hasAttribute("data-i18n")||t.hasAttribute("data-i18n-placeholder")||t.hasAttribute("data-i18n-aria-label")||t.hasAttribute("data-i18n-title")||t.hasAttribute("data-i18n-dynamic")||t.hasAttribute("data-i18n-date"))&&(e.dynamicElements.add(t),r.push(t)),t.querySelectorAll("[data-i18n], [data-i18n-placeholder], [data-i18n-aria-label], [data-i18n-title], [data-i18n-dynamic], [data-i18n-date]").forEach(function(t){e.dynamicElements.add(t),r.push(t)}),e.queueForTranslation(r)}});else if("attributes"===t.type){var r=t.target;r.nodeType===Node.ELEMENT_NODE&&(r.hasAttribute("data-i18n")||r.hasAttribute("data-i18n-placeholder")||r.hasAttribute("data-i18n-aria-label")||r.hasAttribute("data-i18n-title")||r.hasAttribute("data-i18n-dynamic")||r.hasAttribute("data-i18n-date")||r.hasAttribute("data-i18n-params"))&&(e.dynamicElements.add(r),e.queueForTranslation([r]))}})}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-i18n","data-i18n-placeholder","data-i18n-aria-label","data-i18n-title","data-i18n-dynamic","data-i18n-date","data-i18n-params"]})}},{key:"updateElementLocalization",value:function(e){try{if(e.hasAttribute("data-i18n")){var r=e.getAttribute("data-i18n"),n=i18n.translate(r);if(n)if("BUTTON"===e.tagName&&e.querySelector(".spinner")){var i=e.querySelector("span[data-i18n]");if(i)i.textContent=n;else{var o=e.querySelector(".spinner");e.innerHTML="",e.appendChild(o);var a=document.createElement("span");a.setAttribute("data-i18n",r),a.textContent=n,e.appendChild(a)}}else e.textContent=n}if(e.hasAttribute("data-i18n-title")){var s=e.getAttribute("data-i18n-title"),c=i18n.translate(s);c&&(e.title=c)}if(e.hasAttribute("data-i18n-placeholder")){var l=e.getAttribute("data-i18n-placeholder"),u=i18n.translate(l);u&&(e.placeholder=u)}if(e.hasAttribute("data-i18n-aria-label")){var d=e.getAttribute("data-i18n-aria-label"),f=i18n.translate(d);f&&e.setAttribute("aria-label",f)}if(e.hasAttribute("data-i18n-title")){var h=e.getAttribute("data-i18n-title"),p=i18n.translate(h);p&&(e.title=p)}if(e.hasAttribute("data-i18n-dynamic")){var y=e.getAttribute("data-i18n-dynamic"),g=e.getAttribute("data-i18n-params"),m=g?JSON.parse(g):{},b=i18n.translate(y,m);b&&(e.textContent=b)}if(e.hasAttribute("data-i18n-date")){var v=e.getAttribute("data-i18n-date"),w=e.getAttribute("data-date");if(w){var E,S="datetime",_="medium";if(v.includes("-")){var T=t(v.split("-"),2);S=T[0],_=T[1]}else _=v;switch(S){case"date":E=i18n.culturalConfig.formatDate(new Date(w),_);break;case"time":E=i18n.culturalConfig.formatTime(new Date(w),_);break;default:E=i18n.culturalConfig.formatDateTime(new Date(w),_)}var A=e.querySelector("i"),I=A?A.outerHTML:"";e.innerHTML=I+E}}}catch(e){}}},{key:"queueForTranslation",value:function(e){var t=this;e.forEach(function(e){return t.translationQueue.add(e)}),this.scheduleTranslation()}},{key:"scheduleTranslation",value:function(){var e=this;this.translationScheduled||(this.translationScheduled=!0,requestAnimationFrame(function(){e.processTranslationQueue(),e.translationScheduled=!1}))}},{key:"processTranslationQueue",value:function(){var e=this;this.translationQueue.forEach(function(t){document.body.contains(t)&&e.updateElementLocalization(t)}),this.translationQueue.clear()}},{key:"updatePageLocalization",value:function(e){var t=this;try{this.dynamicElements.forEach(function(e){document.body.contains(e)?t.updateElementLocalization(e):t.dynamicElements.delete(e)}),document.documentElement.setAttribute("dir",e.direction),document.documentElement.setAttribute("lang",e.locale.split("-")[0]),this.applyCulturalStyles(e.culturalPreferences),window.dispatchEvent(new CustomEvent("localizationUpdated",{detail:e}))}catch(e){}}},{key:"applyCulturalStyles",value:function(e){var t=document.documentElement;t.style.setProperty("--decimal-separator",e.numberFormat.decimal),t.style.setProperty("--grouping-separator",e.numberFormat.group),t.style.setProperty("--time-format",e.timeFormat.short),t.style.setProperty("--date-format",e.dateFormat.medium),t.style.setProperty("--date-time-format",e.dateTimeFormat.medium)}},{key:"initialize",value:function(){this.initialized||(this.initializeDynamicElements(),this.initializeEventListeners(),this.initialized=!0);var e={locale:i18n.currentLocale,direction:i18n.culturalConfig.isRTL()?"rtl":"ltr",culturalPreferences:i18n.culturalConfig.getCulturalPreferences()};this.updatePageLocalization(e)}}],n&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,i,a}();window.localeUI=new d},8287:(e,t,r)=>{"use strict";const n=r(7526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||X(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(i)return n?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(l(e,o+n)!==l(t,n)){r=!1;break}if(r)return o}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(X(n))return a;e[r+a]=n}return a}function E(e,t,r,n){return Y(q(t,e.length-r),e,r,n)}function S(e,t,r,n){return Y(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return Y(W(t),e,r,n)}function T(e,t,r,n){return Y(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!c.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Q(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),l=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<s;++e)if(l[e]!==u[e]){o=l[e],a=u[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function x(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=J[e[n]];return i}function N(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function C(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n,i){G(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function z(e,t,r,n,i){G(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=K(function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))}),c.prototype.readBigUInt64BE=K(function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=K(function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=K(function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){L(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){L(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=K(function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=K(function(e,t=0){return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);L(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);L(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=K(function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=K(function(e,t=0){return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const B={};function U(e,t,r){B[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function G(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new B.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||H(t,e.length-(r+1))}(n,i,o)}function V(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,r){if(Math.floor(e)!==e)throw V(e,r),new B.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),U("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);const $=/[^+/0-9A-Za-z-_]/g;function q(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function W(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function K(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},8372:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(1545);e.exports=class{constructor(e){this.ioc=e;const t=e=>{const t={};return Object.values(e).forEach(e=>t[e.elementName]=e),t},r=e.DataType;this.types=[{name:"Barrier",code:r.BARRIER,enum:t(i.barrier)},{name:"Cardinality",code:r.CARDINALITY,enum:t(i.cardinality)},{name:"Column",code:r.COLUMN,enum:t(i.column)},{name:"Direction",code:r.DIRECTION,enum:t(i.direction)},{name:"DT",code:r.DT,enum:t(i.dt)},{name:"Merge",code:r.MERGE,enum:t(i.merge)},{name:"Operator",code:r.OPERATOR,enum:t(i.operator)},{name:"Order",code:r.ORDER,enum:t(i.order)},{name:"Pick",code:r.PICK,enum:t(i.pick)},{name:"Pop",code:r.POP,enum:t(i.pop)},{name:"Scope",code:r.SCOPE,enum:t(i.scope)},{name:"T",code:r.T,enum:t(i.t)}],this.byname={},this.bycode={};for(const e of this.types)this.ioc.serializers[e.code]=this,this.byname[e.name]=e,this.bycode[e.code]=e}canBeUsedFor(e){if(!(e instanceof i.EnumValue))return!1;if(!this.byname[e.typeName])throw new Error(`EnumSerializer.serialize: typeName=${e.typeName} is not supported.`);return!0}serialize(e,t=!0){const r=this.byname[e.typeName];if(void 0===e.elementName||null===e.elementName)return t?n.from([r.code,1]):n.from([this.ioc.DataType.STRING,0,0,0,0,0]);const i=[];return t&&i.push(n.from([r.code,0])),i.push(this.ioc.stringSerializer.serialize(e.elementName,!0)),n.concat(i)}deserialize(e,t=!0){let r=0,o=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");let a,s,c,l;if(t){const e=o.readUInt8();if(r++,a=this.bycode[e],!a)throw new Error(`unexpected {type_code}=${e}`);if(o=o.slice(1),o.length<1)throw new Error("{value_flag} is missing");const t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");o=o.slice(1)}try{({v:s,len:c}=this.ioc.stringSerializer.deserialize(o,!0)),r+=c}catch(e){throw e.message="elementName: "+e.message,e}return o=o.slice(c),l=a?a.enum[s]:new i.EnumValue(void 0,s),{v:l,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},8402:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(9253);e.exports=class extends i{constructor(e){if(super(e),void 0===this._options.username||null===this._options.username||0===this._options.username.length||void 0===this._options.password||null===this._options.password||0===this._options.password.length)throw new Error("Missing credentials for SASL PLAIN mechanism")}get name(){return"PLAIN"}evaluateChallenge(e){return this._hasInitialResponse(e)?Promise.resolve({saslMechanism:this.name,sasl:this._saslArgument(this._options.authzid,this._options.username,this._options.password)}):Promise.resolve({sasl:this._saslArgument(this._options.authzid,this._options.username,this._options.password)})}_saslArgument(e,t,r){return null==e&&(e=""),null==t&&(t=""),void 0!==r&&null!==r.length||(r=""),n.from(`${e}\0${t}\0${r}`).toString("base64")}_hasInitialResponse(e){return null!=e}}},8584:(e,t,r)=>{"use strict";const n=r(5606),{ArrayPrototypeSlice:i,Error:o,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:c,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:d,SymbolHasInstance:f}=r(4134);e.exports=P,P.WritableState=C;const{EventEmitter:h}=r(7007),p=r(4259).Stream,{Buffer:y}=r(8287),g=r(5896),{addAbortSignal:m}=r(4147),{getHighWaterMark:b,getDefaultHighWaterMark:v}=r(5291),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:_,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:I,ERR_STREAM_WRITE_AFTER_END:O,ERR_UNKNOWN_ENCODING:x}=r(6371).codes,{errorOrDestroy:R}=g;function k(){}l(P.prototype,p.prototype),l(P,p);const N=d("kOnFinished");function C(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(3370)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?b(this,e,"writableHighWaterMark",n):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=M.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,L(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[N]=[]}function L(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function P(e){const t=this instanceof r(3370);if(!t&&!a(P,this))return new P(e);this._writableState=new C(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&m(e.signal,this)),p.call(this,e),g.construct(this,()=>{const e=this._writableState;e.writing||G(this,e),$(this,e)})}function z(e,t,r,i){const o=e._writableState;if("function"==typeof r)i=r,r=o.defaultEncoding;else{if(r){if("buffer"!==r&&!y.isEncoding(r))throw new x(r)}else r=o.defaultEncoding;"function"!=typeof i&&(i=k)}if(null===t)throw new I;if(!o.objectMode)if("string"==typeof t)!1!==o.decodeStrings&&(t=y.from(t,r),r="buffer");else if(t instanceof y)r="buffer";else{if(!p._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),r="buffer"}let a;return o.ending?a=new O:o.destroyed&&(a=new T("write")),a?(n.nextTick(i,a),R(e,a,!0),a):(o.pendingcb++,function(e,t,r,n,i){const o=t.objectMode?1:r.length;t.length+=o;const a=t.length<t.highWaterMark;a||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==k&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1);return a&&!t.errored&&!t.destroyed}(e,o,t,r,i))}function j(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new T("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function D(e,t,r,n){--t.pendingcb,n(r),F(t),R(e,r)}function M(e,t){const r=e._writableState,i=r.sync,o=r.writecb;"function"==typeof o?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?n.nextTick(D,e,r,t,o):D(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&G(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},n.nextTick(B,r.afterWriteTickInfo)):U(e,r,1,o))):R(e,new S)}function B({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,U(e,t,r,n)}function U(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&F(t),$(e,t)}function F(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;const{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new T("write"))}const r=e[N].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new T("end"))}L(e)}function G(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:o}=t,a=r.length-n;if(!a)return;let s=n;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const n=t.allNoop?k:e=>{for(let t=s;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===s?r:i(r,s);o.allBuffers=t.allBuffers,j(e,t,!0,t.length,o,"",n),L(t)}else{do{const{chunk:n,encoding:i,callback:a}=r[s];r[s++]=null;j(e,t,!1,o?1:n.length,n,i,a)}while(s<r.length&&!t.writing);s===r.length?L(t):s>256?(r.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function V(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function H(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function i(i){if(r)R(e,null!=i?i:S());else if(r=!0,t.pendingcb--,i){const r=t[N].splice(0);for(let e=0;e<r.length;e++)r[e](i);R(e,i,t.sync)}else V(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(q,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}function $(e,t,r){V(t)&&(H(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick((e,t)=>{V(t)?q(e,t):t.pendingcb--},e,t)):V(t)&&(t.pendingcb++,q(e,t))))}function q(e,t){t.pendingcb--,t.finished=!0;const r=t[N].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}C.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(C.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(P,f,{__proto__:null,value:function(e){return!!a(this,e)||this===P&&(e&&e._writableState instanceof C)}}),P.prototype.pipe=function(){R(this,new _)},P.prototype.write=function(e,t,r){return!0===z(this,e,t,r)},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||G(this,e))},P.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=u(e)),!y.isEncoding(e))throw new x(e);return this._writableState.defaultEncoding=e,this},P.prototype._write=function(e,t,r){if(!this._writev)throw new E("_write()");this._writev([{chunk:e,encoding:t}],r)},P.prototype._writev=null,P.prototype.end=function(e,t,r){const i=this._writableState;let a;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){const r=z(this,e,t);r instanceof o&&(a=r)}return i.corked&&(i.corked=1,this.uncork()),a||(i.errored||i.ending?i.finished?a=new A("end"):i.destroyed&&(a=new T("end")):(i.ending=!0,$(this,i,!0),i.ended=!0)),"function"==typeof r&&(a||i.finished?n.nextTick(r,a):i[N].push(r)),this},c(P.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const W=g.destroy;let Y;function Q(){return void 0===Y&&(Y={}),Y}P.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[N].length)&&n.nextTick(F,r),W.call(this,e,t),this},P.prototype._undestroy=g.undestroy,P.prototype._destroy=function(e,t){t(e)},P.prototype[h.captureRejectionSymbol]=function(e){this.destroy(e)},P.fromWeb=function(e,t){return Q().newStreamWritableFromWritableStream(e,t)},P.toWeb=function(e){return Q().newWritableStreamFromStreamWritable(e)}},8653:e=>{"use strict";e.exports={INT:1,LONG:2,STRING:3,DATE:4,TIMESTAMP:5,CLASS:6,DOUBLE:7,FLOAT:8,LIST:9,MAP:10,SET:11,UUID:12,EDGE:13,PATH:14,PROPERTY:15,GRAPH:16,VERTEX:17,VERTEXPROPERTY:18,BARRIER:19,BINDING:20,BYTECODE:21,CARDINALITY:22,COLUMN:23,DIRECTION:24,OPERATOR:25,ORDER:26,PICK:27,POP:28,LAMBDA:29,P:30,SCOPE:31,T:32,TRAVERSER:33,BIGDECIMAL:34,BIGINTEGER:35,BYTE:36,BYTEBUFFER:37,SHORT:38,BOOLEAN:39,TEXTP:40,TRAVERSALSTRATEGY:41,BULKSET:42,TREE:43,METRICS:44,TRAVERSALMETRICS:45,MERGE:46,DT:47,CHAR:128,DURATION:129,INETADDRESS:130,INSTANT:131,LOCALDATE:132,LOCALDATETIME:133,LOCALTIME:134,MONTHDAY:135,OFFSETDATETIME:136,OFFSETTIME:137,PERIOD:138,YEAR:139,YEARMONTH:140,ZONEDATETIME:141,ZONEOFFSET:142,CUSTOM:0,UNSPECIFIED_NULL:254}},9025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,a,s){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,o.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(n),l.set(e,n.length),l=r(l),l[6]=15&l[6]|t,l[8]=63&l[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=l[e];return a}return(0,i.unsafeStringify)(l)}try{n.name=e}catch(e){}return n.DNS=a,n.URL=s,n};var n,i=r(9910),o=(n=r(6792))&&n.__esModule?n:{default:n};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},9032:(e,t,r)=>{"use strict";const{Traversal:n}=r(1545);class i{constructor(e){e?(this.sourceInstructions=[...e.sourceInstructions],this.stepInstructions=[...e.stepInstructions]):(this.sourceInstructions=[],this.stepInstructions=[])}addSource(e,t){if(void 0===e)throw new Error("Name is not defined");const r=new Array(t.length+1);r[0]=e;for(let e=0;e<t.length;++e)r[e+1]=t[e];return this.sourceInstructions.push(i._generateInstruction(e,t)),this}addStep(e,t){if(void 0===e)throw new Error("Name is not defined");return this.stepInstructions.push(i._generateInstruction(e,t)),this}static _generateInstruction(e,t){const r=(t?t.length:0)+1,i=new Array(r);i[0]=e;for(let e=1;e<r;e++){const r=t[e-1];if(r instanceof n&&null!=r.graph)throw new Error(`The child traversal of ${r} was not spawned anonymously - use the __ class rather than a TraversalSource to construct the child traversal`);i[e]=r}return i}toString(){return JSON.stringify([this.sourceInstructions,this.stepInstructions])}static _createGraphOp(e,t){const r=new i;return r.addSource(e,t),r}static get GraphOp(){return{commit:i._createGraphOp("tx",["commit"]),rollback:i._createGraphOp("tx",["rollback"])}}}e.exports=i},9042:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a);for(let t=0;t<a;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];s[t]=r}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=s[e][t];for(let e=16;e<80;++e)o[e]=n(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let a=i[0],c=i[1],l=i[2],u=i[3],d=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),s=n(a,5)+r(i,c,l,u)+d+t[i]+o[e]>>>0;d=u,u=l,l=n(c,30)>>>0,c=a,a=s}i[0]=i[0]+a>>>0,i[1]=i[1]+c>>>0,i[2]=i[2]+l>>>0,i[3]=i[3]+u>>>0,i[4]=i[4]+d>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i},9198:(e,t,r)=>{"use strict";const n=r(5506),i=r(3095),o=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=o,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=n.Stream,e.exports.default=e.exports},9231:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){const n=t.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"===r&&"object"==typeof n){return`${n.constructor!==Object?n.constructor.name:""} {}`.trim()}return n.toString()}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},9253:e=>{"use strict";e.exports=class{constructor(e){this.setopts(e)}get name(){return null}setopts(e){this._options=e}evaluateChallenge(e){throw new Error("evaluateChallenge should be implemented")}}},9386:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),{TraversalStrategySerializer:i}=r(474);e.exports=class{constructor(e){this.ioc=e,this.graphsonTraversalStrategySerializer=new i}canBeUsedFor(e){return this.graphsonTraversalStrategySerializer.canBeUsedFor(e)}serialize(e,t=!0){if(null==e){if(t)return n.from([this.ioc.DataType.TRAVERSALSTRATEGY,1]);const e=[0,0,0,0],r=[0,0,0,0];return n.from([...e,...r])}const r=[];t&&r.push(n.from([this.ioc.DataType.TRAVERSALSTRATEGY,0]));const i=e.fqcn,o={};for(const t in e.configuration)e.configuration.hasOwnProperty(t)&&(o[t]=e.configuration[t]);return r.push(this.ioc.classSerializer.serialize(i,!1)),r.push(this.ioc.mapSerializer.serialize(o,!1)),n.concat(r)}}},9449:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),i=r(474),o=r(9032);class a{constructor(e){this._options=e||{},this._serializers=this.getDefaultSerializers().map(e=>{const t=new e;return t.writer=this,t});const t=this._options.serializers||{};Object.keys(t).forEach(e=>{const r=t[e];r.serialize&&(r.writer=this,this._serializers.unshift(r))})}getDefaultSerializers(){return f}adaptObject(e){let t;for(let r=0;r<this._serializers.length;r++){const n=this._serializers[r];if(n.canBeUsedFor&&n.canBeUsedFor(e)){t=n;break}}return t?t.serialize(e):Array.isArray(e)?e.map(e=>this.adaptObject(e)):e}write(e){return JSON.stringify(this.adaptObject(e))}writeRequest({requestId:e,op:t,processor:r,args:i}){const a={requestId:{"@type":"g:UUID","@value":e},op:t,processor:r,args:this._adaptArgs(i,!0)};return a.args.gremlin instanceof o&&(a.args.gremlin=this.adaptObject(a.args.gremlin)),n.from(JSON.stringify(a))}_adaptArgs(e,t){if(e instanceof Object){const r={};return Object.keys(e).forEach(n=>{r[n]=t&&"bindings"===n?this._adaptArgs(e[n],!1):this.adaptObject(e[n])}),r}return e}}class s extends a{getDefaultSerializers(){return h}}class c{constructor(e){this._options=e||{},this._deserializers={};const t=this.getDefaultDeserializers();if(Object.keys(t).forEach(e=>{const r=new(0,t[e]);r.reader=this,this._deserializers[e]=r}),this._options.serializers){const e=this._options.serializers||{};Object.keys(e).forEach(t=>{const r=e[t];r.deserialize&&(r.reader=this,this._deserializers[t]=r)})}}getDefaultDeserializers(){return u}read(e){if(void 0===e)return;if(null===e)return null;if(Array.isArray(e))return e.map(e=>this.read(e));const t=e[i.typeKey];if(t){const r=this._deserializers[t];return r?r.deserialize(e):e[i.valueKey]}return e&&"object"==typeof e&&e.constructor===Object?this._deserializeObject(e):e}readResponse(e){return this.read(JSON.parse(e.toString()))}_deserializeObject(e){const t=Object.keys(e),r={};for(let n=0;n<t.length;n++)r[t[n]]=this.read(e[t[n]]);return r}}class l extends c{getDefaultDeserializers(){return d}}const u={"g:Traverser":i.TraverserSerializer,"g:TraversalStrategy":i.TraversalStrategySerializer,"g:Int32":i.NumberSerializer,"g:Int64":i.NumberSerializer,"g:Float":i.NumberSerializer,"g:Double":i.NumberSerializer,"g:Date":i.DateSerializer,"g:Direction":i.DirectionSerializer,"g:Vertex":i.VertexSerializer,"g:Edge":i.EdgeSerializer,"g:VertexProperty":i.VertexPropertySerializer,"g:Property":i.PropertySerializer,"g:Path":i.Path3Serializer,"g:TextP":i.TextPSerializer,"g:T":i.TSerializer,"g:BulkSet":i.BulkSetSerializer},d=Object.assign({},u,{"g:List":i.ListSerializer,"g:Set":i.SetSerializer,"g:Map":i.MapSerializer}),f=[i.NumberSerializer,i.DateSerializer,i.BytecodeSerializer,i.TraverserSerializer,i.TraversalStrategySerializer,i.PSerializer,i.TextPSerializer,i.LambdaSerializer,i.EnumSerializer,i.VertexSerializer,i.EdgeSerializer,i.LongSerializer],h=f.concat([i.ListSerializer,i.SetSerializer,i.MapSerializer]);e.exports={GraphSON3Writer:s,GraphSON3Reader:l,GraphSON2Writer:a,GraphSON2Reader:c,GraphSONWriter:s,GraphSONReader:l}},9728:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function r(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var n=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},r=null,n=[{key:"showMessage",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.duration,n=void 0===r?5e3:r,i=t.type,o=void 0===i?"success":i,a=t.params,s=void 0===a?{}:a,c=i18n.translate(e,s);showMessage(c,o,n)})},{key:"showSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;this.showMessage(e,{type:"success",duration:r,params:t})}},{key:"showInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;this.showMessage(e,{type:"info",duration:r,params:t})}},{key:"showWarning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7e3;this.showMessage(e,{type:"warning",duration:r,params:t})}}],r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();window.ChatStatusHandler=n},9899:(e,t,r)=>{"use strict";const n=r(5737),i=r(9032),{TraversalStrategies:o}=r(3335);e.exports={Transaction:class{constructor(e){this._g=e,this._sessionBasedConnection=void 0}begin(){if(this._sessionBasedConnection)throw new Error("Transaction already started on this object");this._sessionBasedConnection=this._g.remoteConnection.createSession();const e=new o;return e.addStrategy(new n.RemoteStrategy(this._sessionBasedConnection)),new this._g.graphTraversalSourceClass(this._g.graph,e,new i(this._g.bytecode),this._g.graphTraversalSourceClass,this._g.graphTraversalClass)}commit(){if(!this._sessionBasedConnection)throw new Error("Cannot commit a transaction that is not started");return this._sessionBasedConnection.commit().finally(()=>this.close())}rollback(){if(!this._sessionBasedConnection)throw new Error("Cannot rollback a transaction that is not started");return this._sessionBasedConnection.rollback().finally(()=>this.close())}get isOpen(){return this._sessionBasedConnection.isOpen}close(){this._sessionBasedConnection&&this._sessionBasedConnection.close()}}}},9910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var n,i=(n=r(7037))&&n.__esModule?n:{default:n};const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function a(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var s=function(e,t=0){const r=a(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r};t.default=s},9995:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.FLOAT]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.FLOAT,1]):n.from([0,0,0,0]);const r=[];t&&r.push(n.from([this.ioc.DataType.FLOAT,0]));const i=n.alloc(4);return i.writeFloatBE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw new Error("buffer is missing");if(e.length<1)throw new Error("buffer is empty");if(t){const e=i.readUInt8();if(r++,e!==this.ioc.DataType.FLOAT)throw new Error("unexpected {type_code}");if(i=i.slice(1),i.length<1)throw new Error("{value_flag} is missing");const t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw new Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<4)throw new Error("unexpected {value} length");r+=4;return{v:i.readFloatBE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return i[e](r,r.exports,a),r.exports}a.m=i,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,a.d(i,o),i},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[])),a.u=e=>e+".js",a.miniCssF=e=>{},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n="ai-assistant:",a.l=(e,t,i,o)=>{if(r[e])r[e].push(t);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",n+i),s.src=e),r[e]=[t];var f=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var i=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/dist/",(()=>{var e={950:0};a.f.j=(t,r)=>{var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise((r,i)=>n=e[t]=[r,i]);r.push(n[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,r=>{if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,n[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var n,i,[o,s,c]=r,l=0;if(o.some(t=>0!==e[t])){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(c)c(a)}for(t&&t(r);l<o.length;l++)i=o[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkai_assistant=self.webpackChunkai_assistant||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a(6284),a(5765),a(5283),a(3676),a(9728),a(1972),a(2617),a(5118),a(8209);a(5809)})();